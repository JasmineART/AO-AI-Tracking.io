/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},221:(e,t,n)=>{var r=n(540);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal"),l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},247:(e,t,n)=>{var r=n(982),i=n(540),o=n(961);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return A(e(t))}catch(e){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function j(e){0>F||(e.current=L[F],L[F]=null,F--)}function U(e,t){F++,L[F]=e.current,e.current=t}var V,B,H=z(null),W=z(null),$=z(null),q=z(null);function K(e,t){switch(U($,t),U(W,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vh(t=mh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(H),U(H,e)}function G(){j(H),j(W),j($)}function Y(e){null!==e.memoizedState&&U(q,e);var t=H.current,n=vh(t,e.type);t!==n&&(U(W,e),U(H,n))}function Q(e){W.current===e&&(j(H),j(W)),q.current===e&&(j(q),cd._currentValue=O)}function X(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",B=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+B}var J=!1;function Z(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function ee(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return Z(e.type,!1);case 11:return Z(e.type.render,!1);case 1:return Z(e.type,!0);case 31:return X("Activity");default:return""}}function te(e){try{var t="",n=null;do{t+=ee(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var ne=Object.prototype.hasOwnProperty,re=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,se=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,de=r.unstable_LowPriority,fe=r.unstable_IdlePriority,pe=r.log,ge=r.unstable_setDisableYieldValue,me=null,ve=null;function ye(e){if("function"==typeof pe&&ge(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(me,e)}catch(e){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/_e|0)|0},we=Math.log,_e=Math.LN2,xe=256,ke=262144,Ee=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=Se(r):0!==(a&=s)?i=Se(a):n||0!==(n=s&~e)&&(i=Se(n)):0!==(s=r&~o)?i=Se(s):0!==a?i=Se(a):n||0!==(n=r&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=Ee;return!(62914560&(Ee<<=1))&&(Ee=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e,t){var n=t&-t;return 0!==((n=42&n?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Fe(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:kd(e.type)}function ze(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var je=Math.random().toString(36).slice(2),Ue="__reactFiber$"+je,Ve="__reactProps$"+je,Be="__reactContainer$"+je,He="__reactEvents$"+je,We="__reactListeners$"+je,$e="__reactHandles$"+je,qe="__reactResources$"+je,Ke="__reactMarker$"+je;function Ge(e){delete e[Ue],delete e[Ve],delete e[He],delete e[We],delete e[$e]}function Ye(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Oh(e);null!==e;){if(n=e[Ue])return n;e=Oh(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ue]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Je(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ke]=!0}var et=new Set,tt={};function nt(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(tt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function st(e,t,n){if(i=t,ne.call(at,i)||!ne.call(ot,i)&&(it.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function mt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?bt(e,a,ut(t)):null!=n?bt(e,a,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ut(s):e.removeAttribute("name")}function yt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return void dt(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),dt(e)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),dt(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&St(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function At(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Ot=null;function Lt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ve]||null;if(!i)throw Error(a(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Mt||null!==Ot)&&(Jc(),Mt&&(t=Mt,e=Ot,Ot=Mt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ut=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(Ut)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(e){Vt=!1}var Ht=null,Wt=null,$t=null;function qt(){if($t)return $t;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Yt,this.isPropagationStopped=Yt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Jt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=d({},en,{view:0,detail:0}),rn=Qt(nn),on=d({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Xt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Xt=0,Zt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),an=Qt(on),sn=Qt(d({},on,{dataTransfer:0})),ln=Qt(d({},nn,{relatedTarget:0})),cn=Qt(d({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(d({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Qt(d({},en,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function mn(){return gn}var vn=Qt(d({},nn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Qt(d({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(d({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),wn=Qt(d({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Qt(d({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Qt(d({},en,{newState:0,oldState:0})),kn=[9,13,27,32],En=Ut&&"CompositionEvent"in window,Sn=null;Ut&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Ut&&"TextEvent"in window&&!Sn,Tn=Ut&&(!En||Sn&&8<Sn&&11>=Sn),In=String.fromCharCode(32),Nn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1,Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function On(e,t,n,r){Mt?Ot?Ot.push(r):Ot=[r]:Mt=r,0<(t=nh(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Fn=null;function zn(e){Gu(e,0)}function jn(e){if(ft(Xe(e)))return e}function Un(e,t){if("change"===e)return t}var Vn=!1;if(Ut){var Bn;if(Ut){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"==typeof Wn.oninput}Bn=Hn}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function $n(){Ln&&(Ln.detachEvent("onpropertychange",qn),Fn=Ln=null)}function qn(e){if("value"===e.propertyName&&jn(Fn)){var t=[];On(t,Fn,e,Dt(e)),zt(zn,t)}}function Kn(e,t,n){"focusin"===e?($n(),Fn=n,(Ln=t).attachEvent("onpropertychange",qn)):"focusout"===e&&$n()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Fn)}function Yn(e,t){if("click"===e)return jn(t)}function Qn(e,t){if("input"===e||"change"===e)return jn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ne.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Ut&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,sr=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==or||or!==pt(r)||(r="selectionStart"in(r=or)&&rr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Jn(sr,r)||(sr=r,0<(r=nh(ar,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},dr={},fr={};function pr(e){if(dr[e])return dr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return dr[e]=n[t];return e}Ut&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=pr("animationend"),mr=pr("animationiteration"),vr=pr("animationstart"),yr=pr("transitionrun"),br=pr("transitionstart"),wr=pr("transitioncancel"),_r=pr("transitionend"),xr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){xr.set(e,t),nt(t,[e])}kr.push("scrollEnd");var Sr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Tr=0,Ir=0;function Nr(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var o=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Dr(n,i,o)}}function Pr(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Pr(e,t,n,r),Mr(e)}function Rr(e,t){return Pr(e,null,null,t),Mr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<Hc)throw Hc=0,Wc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Lr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,o){var s=0;if(r=e,"function"==typeof e)zr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Fr(31,n,t,i)).elementType=C,e.lanes=o,e;case m:return Br(n.children,i,o,t);case v:s=8,i|=24;break;case y:return(e=Fr(12,n,t,2|i)).elementType=y,e.lanes=o,e;case x:return(e=Fr(13,n,t,i)).elementType=x,e.lanes=o,e;case k:return(e=Fr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case b:s=9;break e;case _:s=11;break e;case E:s=14;break e;case S:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function $r(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=new WeakMap;function Kr(e,t){if("object"==typeof e&&null!==e){var n=qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:te(t)},qr.set(e,t),t)}return{value:e,source:t,stack:te(t)}}var Gr=[],Yr=0,Qr=null,Xr=0,Jr=[],Zr=0,ei=null,ti=1,ni="";function ri(e,t){Gr[Yr++]=Xr,Gr[Yr++]=Qr,Qr=e,Xr=t}function ii(e,t,n){Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ei=e;var r=ti;e=ni;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ti=1<<32-be(t)+i|n<<i|r,ni=o+e}else ti=1<<o|n<<i|r,ni=e}function oi(e){null!==e.return&&(ri(e,1),ii(e,1,0))}function ai(e){for(;e===Qr;)Qr=Gr[--Yr],Gr[Yr]=null,Xr=Gr[--Yr],Gr[Yr]=null;for(;e===ei;)ei=Jr[--Zr],Jr[Zr]=null,ni=Jr[--Zr],Jr[Zr]=null,ti=Jr[--Zr],Jr[Zr]=null}function si(e,t){Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ti=t.id,ni=t.overflow,ei=e}var li=null,ci=null,ui=!1,hi=null,di=!1,fi=Error(a(519));function pi(e){throw wi(Kr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Ve]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<qu.length;n++)Yu(qu[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||lh(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=At),t=!0):t=!1,t||pi(e,!0)}function mi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(di=!1);case 27:case 3:return void(di=!0);default:li=li.return}}function vi(e){if(e!==li)return!1;if(!ui)return mi(e),ui=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yh(e.type,e.memoizedProps)),t=!t),t&&ci&&pi(e),mi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ci=Mh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ci=Mh(e)}else 27===n?(n=ci,Sh(e.type)?(e=Dh,Dh=null,ci=e):ci=n):ci=li?Rh(e.stateNode.nextSibling):null;return!0}function yi(){ci=li=null,ui=!1}function bi(){var e=hi;return null!==e&&(null===Nc?Nc=e:Nc.push.apply(Nc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var _i=z(null),xi=null,ki=null;function Ei(e,t,n){U(_i,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=_i.current,j(_i)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ci(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ci(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ii(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(524288&i.flags)o=!0;else if(262144&i.flags)break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(cd):e=[cd])}i=i.return}null!==e&&Ti(t,e,n,r),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){xi=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ai(e){return Di(xi,e)}function Ri(e,t){return null===xi&&Pi(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(a(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var Mi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oi=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,Fi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Mi,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Oi(Li,function(){e.controller.abort()})}var Ui=null,Vi=0,Bi=0,Hi=null;function Wi(){if(0===--Vi&&null!==Ui){null!==Hi&&(Hi.status="fulfilled");var e=Ui;Ui=null,Bi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $i=D.S;D.S=function(e,t){Rc=se(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];Vi=0,Bi=Vu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vi++,t.then(Wi,Wi)}(0,t),null!==$i&&$i(e,t)};var qi=z(null);function Ki(){var e=qi.current;return null!==e?e:fc.pooledCache}function Gi(e,t){U(qi,null===t?qi.current:t.pool)}function Yi(){var e=Ki();return null===e?null:{parent:Fi._currentValue,pool:e}}var Qi=Error(a(460)),Xi=Error(a(474)),Ji=Error(a(542)),Zi={then:function(){}};function eo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function to(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(At,At),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oo(e=t.reason),e;default:if("string"==typeof t.status)t.then(At,At);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oo(e=t.reason),e}throw ro=t,Qi}}function no(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw ro=e,Qi;throw e}}var ro=null;function io(){if(null===ro)throw Error(a(459));var e=ro;return ro=null,e}function oo(e){if(e===Qi||e===Ji)throw Error(a(483))}var ao=null,so=0;function lo(e){var t=so;return so+=1,null===ao&&(ao=[]),to(ao,e,t)}function co(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function uo(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ho(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===S&&no(o)===t.type)?(co(t=i(t,n.props),n),t.return=e,t):(co(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return co(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$r(t,e.mode,n)).return=e,t;case S:return d(e,t=no(t),n)}if(R(t)||N(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,lo(t),n);if(t.$$typeof===w)return d(e,Ri(e,t),n);uo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case S:return f(e,t,n=no(n),r)}if(R(n)||N(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,lo(n),r);if(n.$$typeof===w)return f(e,t,Ri(e,n),r);uo(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return v(e,t,n,r=no(r),i)}if(R(r)||N(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,lo(r),i);if(r.$$typeof===w)return v(e,t,n,Ri(t,r),i);uo(t,r)}return null}function y(l,c,u,h){if("object"==typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===S&&no(b)===c.type){n(l,c.sibling),co(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((h=Br(u.props.children,l.mode,h,u.key)).return=l,l=h):(co(h=Vr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=$r(u,l.mode,h)).return=l,l=h}return s(l);case S:return y(l,c,u=no(u),h)}if(R(u))return function(i,a,s,l){for(var c=null,u=null,h=a,p=a=0,g=null;null!==h&&p<s.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(i,h,s[p],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===s.length)return n(i,h),ui&&ri(i,p),c;if(null===h){for(;p<s.length;p++)null!==(h=d(i,s[p],l))&&(a=o(h,a,p),null===u?c=h:u.sibling=h,u=h);return ui&&ri(i,p),c}for(h=r(h);p<s.length;p++)null!==(g=v(h,i,p,s[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=o(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),ui&&ri(i,p),c}(l,c,u,h);if(N(u)){if("function"!=typeof(b=N(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=s,g=s=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),s=o(b,s,g),null===h?u=b:h.sibling=b,h=b,p=m}if(y.done)return n(i,p),ui&&ri(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return ui&&ri(i,g),u}for(p=r(p);!y.done;g++,y=l.next())null!==(y=v(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&p.forEach(function(e){return t(i,e)}),ui&&ri(i,g),u}(l,c,u=b.call(u),h)}if("function"==typeof u.then)return y(l,c,lo(u),h);if(u.$$typeof===w)return y(l,c,Ri(l,u),h);uo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Hr(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{so=0;var i=y(e,t,n,r);return ao=null,i}catch(t){if(t===Qi||t===Ji)throw t;var o=Fr(29,t,null,e.mode);return o.lanes=r,o.return=e,o}}}var fo=ho(!0),po=ho(!1),go=!1;function mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&dc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Dr(e,null,n),t}return Pr(e,r,t,n),Mr(e)}function wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function _o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xo=!1;function ko(){if(xo&&null!==Hi)throw Hi}function Eo(e,t,n,r){xo=!1;var i=e.updateQueue;go=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(gc&f)===f:(r&f)===f){0!==f&&f===Bi&&(xo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;f=t;var v=n;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){h=g.call(v,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(f="function"==typeof(g=m.payload)?g.call(v,h,f):g))break e;h=d({},h,f);break e;case 2:go=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),kc|=a,e.lanes=a,e.memoizedState=h}}function So(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function Co(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)So(n[e],t)}var To=z(null),Io=z(0);function No(e,t){U(Io,e=_c),U(To,t),_c=e|t.baseLanes}function Po(){U(Io,_c),U(To,To.current)}function Ao(){_c=Io.current,j(To),j(Io)}var Ro=z(null),Do=null;function Mo(e){var t=e.alternate;U(jo,1&jo.current),U(Ro,e),null===Do&&(null===t||null!==To.current||null!==t.memoizedState)&&(Do=e)}function Oo(e){U(jo,jo.current),U(Ro,e),null===Do&&(Do=e)}function Lo(e){22===e.tag?(U(jo,jo.current),U(Ro,e),null===Do&&(Do=e)):Fo()}function Fo(){U(jo,jo.current),U(Ro,Ro.current)}function zo(e){j(Ro),Do===e&&(Do=null),j(jo)}var jo=z(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ph(n)||Ah(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=0,Bo=null,Ho=null,Wo=null,$o=!1,qo=!1,Ko=!1,Go=0,Yo=0,Qo=null,Xo=0;function Jo(){throw Error(a(321))}function Zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,i,o){return Vo=o,Bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?gs:ms,Ko=!1,o=n(r,i),Ko=!1,qo&&(o=na(t,n,r,i)),ta(e),o}function ta(e){D.H=ps;var t=null!==Ho&&null!==Ho.next;if(Vo=0,Wo=Ho=Bo=null,$o=!1,Yo=0,Qo=null,t)throw Error(a(300));null===e||Rs||null!==(e=e.dependencies)&&Ni(e)&&(Rs=!0)}function na(e,t,n,r){Bo=e;var i=0;do{if(qo&&(Qo=null),Yo=0,qo=!1,25<=i)throw Error(a(301));if(i+=1,Wo=Ho=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=vs,o=t(n,r)}while(qo);return o}function ra(){var e=D.H,t=e.useState()[0];return t="function"==typeof t.then?ca(t):t,e=e.useState()[0],(null!==Ho?Ho.memoizedState:null)!==e&&(Bo.flags|=1024),t}function ia(){var e=0!==Go;return Go=0,e}function oa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function aa(e){if($o){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$o=!1}Vo=0,Wo=Ho=Bo=null,qo=!1,Yo=Go=0,Qo=null}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Bo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function la(){if(null===Ho){var e=Bo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===Wo?Bo.memoizedState:Wo.next;if(null!==t)Wo=t,Ho=e;else{if(null===e){if(null===Bo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Wo?Bo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function ca(e){var t=Yo;return Yo+=1,null===Qo&&(Qo=[]),e=to(Qo,e,t),t=Bo,null===(null===Wo?t.memoizedState:Wo.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?gs:ms),e}function ua(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ca(e);if(e.$$typeof===w)return Ai(e)}throw Error(a(438,String(e)))}function ha(e){var t=null,n=Bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bo.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function da(e,t){return"function"==typeof t?t(e):t}function fa(e){return pa(la(),Ho,e)}function pa(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(gc&d)===d:(Vo&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Bi&&(h=!0);else{if((Vo&f)===f){u=u.next,f===Bi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,Bo.lanes|=f,kc|=f}d=u.action,Ko&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,Bo.lanes|=d,kc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Xn(o,e.memoizedState)&&(Rs=!0,h&&null!==(n=Hi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ga(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Xn(o,t.memoizedState)||(Rs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ma(e,t,n){var r=Bo,i=la(),o=ui;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Xn((Ho||i).memoizedState,n);if(s&&(i.memoizedState=n,Rs=!0),i=i.queue,Va(ba.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Wo&&1&Wo.memoizedState.tag){if(r.flags|=2048,La(9,{destroy:void 0},ya.bind(null,r,i,n,t),null),null===fc)throw Error(a(349));o||127&Vo||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ya(e,t,n,r){t.value=n,t.getSnapshot=r,wa(t)&&_a(e)}function ba(e,t,n){return n(function(){wa(t)&&_a(e)})}function wa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return!0}}function _a(e){var t=Rr(e,2);null!==t&&Kc(t,0,2)}function xa(e){var t=sa();if("function"==typeof e){var n=e;if(e=n(),Ko){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function ka(e,t,n,r){return e.baseState=n,pa(e,Ho,"function"==typeof r?r:da)}function Ea(e,t,n,r,i){if(hs(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Sa(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Sa(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,a={};D.T=a;try{var s=n(i,r),l=D.S;null!==l&&l(a,s),Ca(e,t,s)}catch(n){Ia(e,t,n)}finally{null!==o&&null!==a.types&&(o.types=a.types),D.T=o}}else try{Ca(e,t,o=n(i,r))}catch(n){Ia(e,t,n)}}function Ca(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ta(e,t,n)},function(n){return Ia(e,t,n)}):Ta(e,t,n)}function Ta(e,t,n){t.status="fulfilled",t.value=n,Na(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Sa(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Na(t),t=t.next}while(t!==r)}e.action=null}function Na(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pa(e,t){return t}function Aa(e,t){if(ui){var n=fc.formState;if(null!==n){e:{var r=Bo;if(ui){if(ci){t:{for(var i=ci,o=di;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Rh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ci=Rh(i.nextSibling),r="F!"===i.data;break e}}pi(r)}r=!1}r&&(t=n[0])}}return(n=sa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},n.queue=r,n=ls.bind(null,Bo,r),r.dispatch=n,r=xa(!1),o=us.bind(null,Bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=sa()).queue=i,n=Ea.bind(null,Bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ra(e){return Da(la(),Ho,e)}function Da(e,t,n){if(t=pa(e,t,Pa)[0],e=fa(da)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ca(t)}catch(e){if(e===Qi)throw Ji;throw e}else r=t;var i=(t=la()).queue,o=i.dispatch;return n!==t.memoizedState&&(Bo.flags|=2048,La(9,{destroy:void 0},Ma.bind(null,i,n),null)),[r,o,e]}function Ma(e,t){e.action=t}function Oa(e){var t=la(),n=Ho;if(null!==n)return Da(t,n,e);la(),t=t.memoizedState;var r=(n=la()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function La(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return la().memoizedState}function za(e,t,n,r){var i=sa();Bo.flags|=e,i.memoizedState=La(1|t,{destroy:void 0},n,void 0===r?null:r)}function ja(e,t,n,r){var i=la();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Ho&&null!==r&&Zo(r,Ho.memoizedState.deps)?i.memoizedState=La(t,o,n,r):(Bo.flags|=e,i.memoizedState=La(1|t,o,n,r))}function Ua(e,t){za(8390656,8,e,t)}function Va(e,t){ja(2048,8,e,t)}function Ba(e){var t=la().memoizedState;return function(e){Bo.flags|=4;var t=Bo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&dc)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return ja(4,2,e,t)}function Wa(e,t){return ja(4,4,e,t)}function $a(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function qa(e,t,n){n=null!=n?n.concat([e]):null,ja(4,4,$a.bind(null,t,e),n)}function Ka(){}function Ga(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zo(t,r[1]))return r[0];if(r=e(),Ko){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r}function Qa(e,t,n){return void 0===n||1073741824&Vo&&!(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=qc(),Bo.lanes|=e,kc|=e,n)}function Xa(e,t,n,r){return Xn(n,t)?n:null!==To.current?(e=Qa(e,n,r),Xn(e,t)||(Rs=!0),e):42&Vo&&(!(1073741824&Vo)||261930&gc)?(e=qc(),Bo.lanes|=e,kc|=e,t):(Rs=!0,e.memoizedState=n)}function Ja(e,t,n,r,i){var o=M.p;M.p=0!==o&&8>o?o:8;var a,s,l,c=D.T,u={};D.T=u,us(e,!1,t,n);try{var h=i(),d=D.S;if(null!==d&&d(u,h),null!==h&&"object"==typeof h&&"function"==typeof h.then){var f=(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},h.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l);cs(e,t,f,$c())}else cs(e,t,r,$c())}catch(n){cs(e,t,{then:function(){},status:"rejected",reason:n},$c())}finally{M.p=o,null!==c&&null!==u.types&&(c.types=u.types),D.T=c}}function Za(){}function es(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=ts(e).queue;Ja(e,i,t,O,null===n?Za:function(){return ns(e),n(r)})}function ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ns(e){var t=ts(e);null===t.next&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},$c())}function rs(){return Ai(cd)}function is(){return la().memoizedState}function os(){return la().memoizedState}function as(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),r=bo(t,e=yo(n),n);return null!==r&&(Kc(r,0,n),wo(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ss(e,t,n){var r=$c();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?ds(t,n):null!==(n=Ar(e,t,n,r))&&(Kc(n,0,r),fs(n,t,r))}function ls(e,t,n){cs(e,t,n,$c())}function cs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))ds(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,a))return Pr(e,t,i,0),null===fc&&Nr(),!1}catch(e){}if(null!==(n=Ar(e,t,i,r)))return Kc(n,0,r),fs(n,t,r),!0}return!1}function us(e,t,n,r){if(r={lane:2,revertLane:Vu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(a(479))}else null!==(t=Ar(e,n,r,2))&&Kc(t,0,2)}function hs(e){var t=e.alternate;return e===Bo||null!==t&&t===Bo}function ds(e,t){qo=$o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var ps={readContext:Ai,use:ua,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useInsertionEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useDeferredValue:Jo,useTransition:Jo,useSyncExternalStore:Jo,useId:Jo,useHostTransitionStatus:Jo,useFormState:Jo,useActionState:Jo,useOptimistic:Jo,useMemoCache:Jo,useCacheRefresh:Jo};ps.useEffectEvent=Jo;var gs={readContext:Ai,use:ua,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ua,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,za(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){za(4,2,e,t)},useMemo:function(e,t){var n=sa();t=void 0===t?null:t;var r=e();if(Ko){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=sa();if(void 0!==n){var i=n(t);if(Ko){ye(!0);try{n(t)}finally{ye(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ss.bind(null,Bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sa().memoizedState=e},useState:function(e){var t=(e=xa(e)).queue,n=ls.bind(null,Bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ka,useDeferredValue:function(e,t){return Qa(sa(),e,t)},useTransition:function(){var e=xa(!1);return e=Ja.bind(null,Bo,e.queue,!0,!1),sa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bo,i=sa();if(ui){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===fc)throw Error(a(349));127&gc||va(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ua(ba.bind(null,r,o,e),[e]),r.flags|=2048,La(9,{destroy:void 0},ya.bind(null,r,o,n,t),null),n},useId:function(){var e=sa(),t=fc.identifierPrefix;if(ui){var n=ni;t="_"+t+"R_"+(n=(ti&~(1<<32-be(ti)-1)).toString(32)+n),0<(n=Go++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rs,useFormState:Aa,useActionState:Aa,useOptimistic:function(e){var t=sa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=us.bind(null,Bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return sa().memoizedState=as.bind(null,Bo)},useEffectEvent:function(e){var t=sa(),n={impl:e};return t.memoizedState=n,function(){if(2&dc)throw Error(a(440));return n.impl.apply(void 0,arguments)}}},ms={readContext:Ai,use:ua,useCallback:Ga,useContext:Ai,useEffect:Va,useImperativeHandle:qa,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:fa,useRef:Fa,useState:function(){return fa(da)},useDebugValue:Ka,useDeferredValue:function(e,t){return Xa(la(),Ho.memoizedState,e,t)},useTransition:function(){var e=fa(da)[0],t=la().memoizedState;return["boolean"==typeof e?e:ca(e),t]},useSyncExternalStore:ma,useId:is,useHostTransitionStatus:rs,useFormState:Ra,useActionState:Ra,useOptimistic:function(e,t){return ka(la(),0,e,t)},useMemoCache:ha,useCacheRefresh:os};ms.useEffectEvent=Ba;var vs={readContext:Ai,use:ua,useCallback:Ga,useContext:Ai,useEffect:Va,useImperativeHandle:qa,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:ga,useRef:Fa,useState:function(){return ga(da)},useDebugValue:Ka,useDeferredValue:function(e,t){var n=la();return null===Ho?Qa(n,e,t):Xa(n,Ho.memoizedState,e,t)},useTransition:function(){var e=ga(da)[0],t=la().memoizedState;return["boolean"==typeof e?e:ca(e),t]},useSyncExternalStore:ma,useId:is,useHostTransitionStatus:rs,useFormState:Oa,useActionState:Oa,useOptimistic:function(e,t){var n=la();return null!==Ho?ka(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:os};function ys(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Ba;var bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$c(),i=yo(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=bo(e,i,r))&&(Kc(t,0,r),wo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$c(),i=yo(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=bo(e,i,r))&&(Kc(t,0,r),wo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),r=yo(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=bo(e,r,n))&&(Kc(t,0,n),wo(t,e,n))}};function ws(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&Jn(n,r)&&Jn(i,o))}function _s(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function xs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function ks(e){Sr(e)}function Es(e){console.error(e)}function Ss(e){Sr(e)}function Cs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Ts(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Is(e,t,n){return(n=yo(n)).tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function Ns(e){return(e=yo(e)).tag=3,e}function Ps(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ts(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Ts(t,n,r),"function"!=typeof i&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var As=Error(a(461)),Rs=!1;function Ds(e,t,n,r){t.child=null===e?po(t,null,n,r):fo(t,e.child,n,r)}function Ms(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Pi(t),r=ea(e,t,n,a,o,i),s=ia(),null===e||Rs?(ui&&s&&oi(t),t.flags|=1,Ds(e,t,r,i),t.child):(oa(e,t,i),rl(e,t,i))}function Os(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ls(e,t,o,r,i))}if(o=e.child,!il(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return rl(e,t,i)}return t.flags|=1,(e=jr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ls(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Jn(o,r)&&e.ref===t.ref){if(Rs=!1,t.pendingProps=r=o,!il(e,i))return t.lanes=e.lanes,rl(e,t,i);131072&e.flags&&(Rs=!0)}}return Hs(e,t,n,r,i)}function Fs(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return js(e,t,o,n,r)}if(!(536870912&n))return r=t.lanes=536870912,js(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==o?o.cachePool:null),null!==o?No(t,o):Po(),Lo(t)}else null!==o?(Gi(0,o.cachePool),No(t,o),Fo(),t.memoizedState=null):(null!==e&&Gi(0,null),Po(),Fo());return Ds(e,t,i,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function js(e,t,n,r,i){var o=Ki();return o=null===o?null:{parent:Fi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Gi(0,null),Po(),Lo(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Us(e,t){return(t=Js({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vs(e,t,n){return fo(t,e.child,null,n),(e=Us(t,t.pendingProps)).flags|=2,zo(t),t.memoizedState=null,e}function Bs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hs(e,t,n,r,i){return Pi(t),n=ea(e,t,n,r,void 0,i),r=ia(),null===e||Rs?(ui&&r&&oi(t),t.flags|=1,Ds(e,t,n,i),t.child):(oa(e,t,i),rl(e,t,i))}function Ws(e,t,n,r,i,o){return Pi(t),t.updateQueue=null,n=na(t,r,n,i),ta(e),r=ia(),null===e||Rs?(ui&&r&&oi(t),t.flags|=1,Ds(e,t,n,o),t.child):(oa(e,t,o),rl(e,t,o))}function $s(e,t,n,r,i){if(Pi(t),null===t.stateNode){var o=Or,a=n.contextType;"object"==typeof a&&null!==a&&(o=Ai(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=bs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},mo(t),a=n.contextType,o.context="object"==typeof a&&null!==a?Ai(a):Or,o.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(ys(t,n,a,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&bs.enqueueReplaceState(o,o.state,null),Eo(t,r,o,i),ko(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=xs(n,s);o.props=l;var c=o.context,u=n.contextType;a=Or,"object"==typeof u&&null!==u&&(a=Ai(u));var h=n.getDerivedStateFromProps;u="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s||c!==a)&&_s(t,o,r,a),go=!1;var d=t.memoizedState;o.state=d,Eo(t,r,o,i),ko(),c=t.memoizedState,s||d!==c||go?("function"==typeof h&&(ys(t,n,h,r),c=t.memoizedState),(l=go||ws(t,n,l,r,d,c,a))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=xs(n,a=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Or,"object"==typeof c&&null!==c&&(l=Ai(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&_s(t,o,r,l),go=!1,d=t.memoizedState,o.state=d,Eo(t,r,o,i),ko();var f=t.memoizedState;a!==h||d!==f||go||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"==typeof s&&(ys(t,n,s,r),f=t.memoizedState),(u=go||ws(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Bs(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=fo(t,e.child,null,i),t.child=fo(t,null,n,i)):Ds(e,t,n,i),t.memoizedState=o.state,e=t.child):e=rl(e,t,i),e}function qs(e,t,n,r){return yi(),t.flags|=256,Ds(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gs(e){return{baseLanes:e,cachePool:Yi()}}function Ys(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Qs(e,t,n){var r,i=t.pendingProps,o=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&jo.current)),r&&(o=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(ui){if(o?Mo(t):Fo(),(e=ci)?null!==(e=null!==(e=Nh(e,di))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ei?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ci=null):e=null,null===e)throw pi(t);return Ah(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(Fo(),l=Js({mode:"hidden",children:l},o=t.mode),i=Br(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Gs(n),i.childLanes=Ys(e,r,n),t.memoizedState=Ks,zs(null,i)):(Mo(t),Xs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Mo(t),t.flags&=-257,t=Zs(e,t,n)):null!==t.memoizedState?(Fo(),t.child=e.child,t.flags|=128,t=null):(Fo(),l=i.fallback,o=t.mode,i=Js({mode:"visible",children:i.children},o),(l=Br(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fo(t,e.child,null,n),(i=t.child).memoizedState=Gs(n),i.childLanes=Ys(e,r,n),t.memoizedState=Ks,t=zs(null,i));else if(Mo(t),Ah(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=Zs(e,t,n)}else if(Rs||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Rs||r){if(null!==(r=fc)&&0!==(i=Me(r,n))&&i!==c.retryLane)throw c.retryLane=i,Rr(e,i),Kc(r,0,i),As;Ph(l)||ou(),t=Zs(e,t,n)}else Ph(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ci=Rh(l.nextSibling),li=t,ui=!0,hi=null,di=!1,null!==e&&si(t,e),(t=Xs(t,i.children)).flags|=4096);return t}return o?(Fo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=jr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=jr(u,l):(l=Br(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zs(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Gs(n):(null!==(o=l.cachePool)?(c=Fi._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Yi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Ys(e,r,n),t.memoizedState=Ks,zs(e.child,i)):(Mo(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xs(e,t){return(t=Js({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Js(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function Zs(e,t,n){return fo(t,e.child,null,n),(e=Xs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function el(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function tl(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function nl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=jo.current,s=!!(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,U(jo,a),Ds(e,t,r,n),r=ui?Xr:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&el(e,n,t);else if(19===e.tag)el(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tl(t,!0,n,null,o,r);break;case"together":tl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Rs=!0;else{if(!(il(e,n)||128&t.flags))return Rs=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Ei(0,Fi,e.memoizedState.cache),yi();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Oo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qs(e,t,n):(Mo(t),null!==(e=rl(e,t,n))?e.sibling:null);Mo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return nl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(jo,jo.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Ei(0,Fi,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Rs=!!(131072&e.flags)}else Rs=!1,ui&&1048576&t.flags&&ii(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=no(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===_){t.tag=11,t=Ms(null,t,e,r,n);break e}if(i===E){t.tag=14,t=Os(null,t,e,r,n);break e}}throw t=A(e)||e,Error(a(306,t,""))}zr(e)?(r=xs(e,r),t.tag=1,t=$s(null,t,e,r,n)):(t.tag=0,t=Hs(null,t,e,r,n))}return t;case 0:return Hs(e,t,t.type,t.pendingProps,n);case 1:return $s(e,t,r=t.type,i=xs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,vo(e,t),Eo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ei(0,Fi,r),r!==o.cache&&Ti(t,[Fi],n,!0),ko(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=qs(e,t,r,n);break e}if(r!==i){wi(i=Kr(Error(a(424)),t)),t=qs(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ci=Rh(e.firstChild),li=t,ui=!0,hi=null,di=!0,n=po(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yi(),r===i){t=rl(e,t,n);break e}Ds(e,t,r,n)}t=t.child}return t;case 26:return Bs(e,t),null===e?(n=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ui||(n=t.type,e=t.pendingProps,(r=gh($.current).createElement(n))[Ue]=t,r[Ve]=e,hh(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ui&&(r=t.stateNode=Lh(t.type,t.pendingProps,$.current),li=t,di=!0,i=ci,Sh(t.type)?(Dh=i,ci=Rh(r.firstChild)):ci=i),Ds(e,t,t.pendingProps.children,n),Bs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ui&&((i=r=ci)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Rh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,di))?(t.stateNode=r,li=t,ci=Rh(r.firstChild),di=!1,i=!0):i=!1),i||pi(t)),Y(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,yh(i,o)?r=null:null!==s&&yh(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=ea(e,t,ra,null,null,n),cd._currentValue=i),Bs(e,t),Ds(e,t,r,n),t.child;case 6:return null===e&&ui&&((e=n=ci)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rh(e.nextSibling)))return null}return e}(n,t.pendingProps,di))?(t.stateNode=n,li=t,ci=null,e=!0):e=!1),e||pi(t)),null;case 13:return Qs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fo(t,null,r,n):Ds(e,t,r,n),t.child;case 11:return Ms(e,t,t.type,t.pendingProps,n);case 7:return Ds(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Ds(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=Ai(i)),t.flags|=1,Ds(e,t,r,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Ls(e,t,t.type,t.pendingProps,n);case 19:return nl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(ui){if("hidden"===r.mode)return e=Us(t,r),t.lanes=536870912,zs(null,e);if(Oo(t),(e=ci)?null!==(e=null!==(e=Nh(e,di))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ei?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ci=null):e=null,null===e)throw pi(t);return t.lanes=536870912,null}return Us(t,r)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(Oo(t),i)if(256&t.flags)t.flags&=-257,t=Vs(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Rs||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Rs||i){if(null!==(r=fc)&&0!==(s=Me(r,n))&&s!==o.retryLane)throw o.retryLane=s,Rr(e,s),Kc(r,0,s),As;ou(),t=Vs(e,t,n)}else e=o.treeContext,ci=Rh(s.nextSibling),li=t,ui=!0,hi=null,di=!1,null!==e&&si(t,e),(t=Us(t,r)).flags|=4096;return t}return(e=jr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return Pi(t),r=Ai(Fi),null===e?(null===(i=Ki())&&(i=fc,o=zi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},mo(t),Ei(0,Fi,i)):(0!==(e.lanes&n)&&(vo(e,t),Eo(t,null,null,n),ko()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,Fi,r)):(r=o.cache,Ei(0,Fi,r),r!==i.cache&&Ti(t,[Fi],n,!0))),Ds(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function al(e){e.flags|=4}function sl(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!nu())throw ro=Zi,Xi;e.flags|=8192}}else e.flags&=-16777217}function ll(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!rd(t)){if(!nu())throw ro=Zi,Xi;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,Tc|=t)}function ul(e,t){if(!ui)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Fi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?al(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,bi())),hl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(al(t),null!==o?(hl(t),ll(t,o)):(hl(t),sl(t,i,0,0,n))):o?o!==e.memoizedState?(al(t),hl(t),ll(t,o)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),hl(t),sl(t,i,0,0,n)),null;case 27:if(Q(t),n=$.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}e=H.current,vi(t)?gi(t):(e=Lh(i,r,n),t.stateNode=e,al(t))}return hl(t),null;case 5:if(Q(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}if(o=H.current,vi(t))gi(t);else{var s=gh($.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=s.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"==typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"==typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}o[Ue]=t,o[Ve]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)o.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(hh(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return hl(t),sl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=$.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||lh(e.nodeValue,n)))||pi(t,!0)}else(e=gh(e).createTextNode(r))[Ue]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ue]=t}else yi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zo(t),t):(zo(t),null);if(128&t.flags)throw Error(a(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ue]=t}else yi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zo(t),t):(zo(t),null)}return zo(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),hl(t),null);case 4:return G(),null===e&&Ju(t.stateNode.containerInfo),hl(t),null;case 10:return Si(t.type),hl(t),null;case 19:if(j(jo),null===(r=t.memoizedState))return hl(t),null;if(i=!!(128&t.flags),null===(o=r.rendering))if(i)ul(r,!1);else{if(0!==xc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Uo(e))){for(t.flags|=128,ul(r,!1),e=o.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(jo,1&jo.current|2),ui&&ri(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>Dc&&(t.flags|=128,i=!0,ul(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Uo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),ul(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ui)return hl(t),null}else 2*se()-r.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,i=!0,ul(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=jo.current,U(jo,i?1&n|2:1&n),ui&&ri(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return zo(t),Ao(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&cl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&j(qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Fi),hl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function fl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Fi),G(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(zo(t),null===t.alternate)throw Error(a(340));yi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));yi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(jo),null;case 4:return G(),null;case 10:return Si(t.type),null;case 22:case 23:return zo(t),Ao(),null!==e&&j(qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Fi),null;default:return null}}function pl(e,t){switch(ai(t),t.tag){case 3:Si(Fi),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 31:null!==t.memoizedState&&zo(t);break;case 13:zo(t);break;case 19:j(jo);break;case 10:Si(t.type);break;case 22:case 23:zo(t),Ao(),null!==e&&j(qi);break;case 24:Si(Fi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(e){xu(t,t.return,e)}}function ml(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(e){xu(i,l,e)}}}r=r.next}while(r!==o)}}catch(e){xu(t,t.return,e)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Co(t,n)}catch(t){xu(e,e.return,t)}}}function yl(e,t,n){n.props=xs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){xu(e,t,n)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){xu(e,t,n)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){xu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){xu(e,t,n)}else n.current=null}function _l(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){xu(e,e.return,t)}}function xl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||ch(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&ch(e,t,f,p,r,d)}}return void vt(e,s,l,c,u,h,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||ch(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&ch(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ch(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&ch(e,t,s,i,r,o)}return void _t(e,f,p);case"option":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&("selected"===g?e.selected=!1:ch(e,t,g,null,r,f));for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||null==f&&null==p||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ch(e,t,c,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&ch(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:ch(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&uh(e,t,v,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||uh(e,t,h,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ch(e,t,y,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||ch(e,t,d,f,r,p)}(r,e.type,n,t),r[Ve]=t}catch(t){xu(e,e.return,t)}}function kl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sh(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=At));else if(4!==r&&(27===r&&Sh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Sl(e,t,n),e=e.sibling;null!==e;)Sl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Sh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hh(t,r,n),t[Ue]=e,t[Ve]=n}catch(t){xu(e,e.return,t)}}var Il=!1,Nl=!1,Pl=!1,Al="function"==typeof WeakSet?WeakSet:Set,Rl=null;function Dl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&gl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){xu(n,n.return,e)}else{var i=xs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){xu(n,n.return,e)}}64&r&&vl(n),512&r&&bl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Co(e,t)}catch(e){xu(n,n.return,e)}}break;case 27:null===t&&4&r&&Tl(n);case 26:case 5:Kl(e,n),null===t&&4&r&&_l(n),512&r&&bl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&jl(e,n);break;case 13:Kl(e,n),4&r&&Ul(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Nl,i=Il;var o=Nl;Il=r,(Nl=t)&&!o?Yl(e,n,!!(8772&n.subtreeFlags)):Kl(e,n),Il=i,Nl=o}break;case 30:break;default:Kl(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ge(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ol=null,Ll=!1;function Fl(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(me,n)}catch(e){}switch(n.tag){case 26:Nl||wl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nl||wl(n,t);var r=Ol,i=Ll;Sh(n.type)&&(Ol=n.stateNode,Ll=!1),Fl(e,t,n),Fh(n.stateNode),Ol=r,Ll=i;break;case 5:Nl||wl(n,t);case 6:if(r=Ol,i=Ll,Ol=null,Fl(e,t,n),Ll=i,null!==(Ol=r))if(Ll)try{(9===Ol.nodeType?Ol.body:"HTML"===Ol.nodeName?Ol.ownerDocument.body:Ol).removeChild(n.stateNode)}catch(e){xu(n,t,e)}else try{Ol.removeChild(n.stateNode)}catch(e){xu(n,t,e)}break;case 18:null!==Ol&&(Ll?(Ch(9===(e=Ol).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vd(e)):Ch(Ol,n.stateNode));break;case 4:r=Ol,i=Ll,Ol=n.stateNode.containerInfo,Ll=!0,Fl(e,t,n),Ol=r,Ll=i;break;case 0:case 11:case 14:case 15:ml(2,n,t),Nl||ml(4,n,t),Fl(e,t,n);break;case 1:Nl||(wl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&yl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Nl=(r=Nl)||null!==n.memoizedState,Fl(e,t,n),Nl=r;break;default:Fl(e,t,n)}}function jl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Vd(e)}catch(e){xu(t,t.return,e)}}}function Ul(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Vd(e)}catch(e){xu(t,t.return,e)}}function Vl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Al),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Al),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Sh(l.type)){Ol=l.stateNode,Ll=!1;break e}break;case 5:Ol=l.stateNode,Ll=!1;break e;case 3:case 4:Ol=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Ol)throw Error(a(160));zl(o,s,i),Ol=null,Ll=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Hl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bl(t,e),$l(e),4&r&&(ml(3,e,e.return),gl(3,e),ml(5,e,e.return));break;case 1:Bl(t,e),$l(e),512&r&&(Nl||null===n||wl(n,n.return)),64&r&&Il&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=Hl;if(Bl(t,e),$l(e),512&r&&(Nl||null===n||wl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ke]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),hh(o,r,n),o[Ue]=e,Ze(o),r=o;break e;case"link":var s=td("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=td("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Ue]=e,Ze(o),r=o}e.stateNode=r}else nd(i,e.type,e.stateNode);else e.stateNode=Qh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?nd(i,e.type,e.stateNode):Qh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bl(t,e),$l(e),512&r&&(Nl||null===n||wl(n,n.return)),null!==n&&4&r&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bl(t,e),$l(e),512&r&&(Nl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(t){xu(e,e.return,t)}}4&r&&null!=e.stateNode&&xl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Bl(t,e),$l(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){xu(e,e.return,t)}}break;case 3:if(ed=null,i=Hl,Hl=Uh(t.containerInfo),Bl(t,e),Hl=i,$l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vd(t.containerInfo)}catch(t){xu(e,e.return,t)}Pl&&(Pl=!1,ql(e));break;case 4:r=Hl,Hl=Uh(e.stateNode.containerInfo),Bl(t,e),$l(e),Hl=r;break;case 12:default:Bl(t,e),$l(e);break;case 31:case 19:Bl(t,e),$l(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r));break;case 13:Bl(t,e),$l(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Ac=se()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,h=Nl;if(Il=u||i,Nl=h||c,Bl(t,e),Nl=h,Il=u,$l(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Nl||Gl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){xu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){xu(c,c.return,e)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Th(p,!0):Th(c.stateNode,!1)}catch(e){xu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Vl(e,n));case 30:case 21:}}function $l(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(kl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,El(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),Cl(e,El(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Sl(e,El(e),s);break;default:throw Error(a(161))}}catch(t){xu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Gl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ml(4,t,t.return),Gl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&yl(t,t.return,n),Gl(t);break;case 27:Fh(t.stateNode);case 26:case 5:wl(t,t.return),Gl(t);break;case 22:null===t.memoizedState&&Gl(t);break;default:Gl(t)}e=e.sibling}}function Yl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Yl(i,o,n),gl(4,o);break;case 1:if(Yl(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){xu(r,r.return,e)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)So(l[i],s)}catch(e){xu(r,r.return,e)}}n&&64&a&&vl(o),bl(o,o.return);break;case 27:Tl(o);case 26:case 5:Yl(i,o,n),n&&null===r&&4&a&&_l(o),bl(o,o.return);break;case 12:Yl(i,o,n);break;case 31:Yl(i,o,n),n&&4&a&&jl(i,o);break;case 13:Yl(i,o,n),n&&4&a&&Ul(i,o);break;case 22:null===o.memoizedState&&Yl(i,o,n),bl(o,o.return);break;case 30:break;default:Yl(i,o,n)}t=t.sibling}}function Ql(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function Jl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Zl(e,t,n,r),t=t.sibling}function Zl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Jl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Jl(e,t,n,r);break;case 3:Jl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){Jl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){xu(t,t.return,e)}}else Jl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Jl(e,t,n,r):tc(e,t):2&o._visibility?Jl(e,t,n,r):(o._visibility|=2,ec(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Ql(a,t);break;case 24:Jl(e,t,n,r),2048&i&&Xl(t.alternate,t)}}function ec(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ec(o,a,s,l,i),gl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ec(o,a,s,l,i):tc(o,a):(u._visibility|=2,ec(o,a,s,l,i)),i&&2048&c&&Ql(a.alternate,a);break;case 24:ec(o,a,s,l,i),i&&2048&c&&Xl(a.alternate,a);break;default:ec(o,a,s,l,i)}t=t.sibling}}function tc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:tc(n,r),2048&i&&Ql(r.alternate,r);break;case 24:tc(n,r),2048&i&&Xl(r.alternate,r);break;default:tc(n,r)}t=t.sibling}}var nc=8192;function rc(e,t,n){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&nc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=$h(r.href),o=t.querySelector(qh(i));if(o)return null!==(t=o._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void Ze(o);o=t.ownerDocument||t,r=Kh(r),(i=zh.get(i))&&Jh(r,i),Ze(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hh(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var r=Hl;Hl=Uh(e.stateNode.containerInfo),rc(e,t,n),Hl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=nc,nc=16777216,rc(e,t,n),nc=r):rc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,cc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sc(e),e=e.sibling}function sc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&ml(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,lc(e)):ac(e)}}function lc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,cc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ml(8,t,t.return),lc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,lc(t));break;default:lc(t)}e=e.sibling}}function cc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:ml(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,o=r.return;if(Ml(r),r===n){Rl=null;break e}if(null!==i){i.return=o,Rl=i;break e}Rl=o}}}var uc={getCacheForType:function(e){var t=Ai(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ai(Fi).controller.signal}},hc="function"==typeof WeakMap?WeakMap:Map,dc=0,fc=null,pc=null,gc=0,mc=0,vc=null,yc=!1,bc=!1,wc=!1,_c=0,xc=0,kc=0,Ec=0,Sc=0,Cc=0,Tc=0,Ic=null,Nc=null,Pc=!1,Ac=0,Rc=0,Dc=1/0,Mc=null,Oc=null,Lc=0,Fc=null,zc=null,jc=0,Uc=0,Vc=null,Bc=null,Hc=0,Wc=null;function $c(){return 2&dc&&0!==gc?gc&-gc:null!==D.T?Vu():Fe()}function qc(){if(0===Cc)if(536870912&gc&&!ui)Cc=536870912;else{var e=ke;!(3932160&(ke<<=1))&&(ke=262144),Cc=e}return null!==(e=Ro.current)&&(e.flags|=32),Cc}function Kc(e,t,n){(e!==fc||2!==mc&&9!==mc)&&null===e.cancelPendingCommit||(eu(e,0),Xc(e,gc,Cc,!1)),Ae(e,n),2&dc&&e===fc||(e===fc&&(!(2&dc)&&(Ec|=n),4===xc&&Xc(e,gc,Cc,!1)),Mu(e))}function Gc(e,t,n){if(6&dc)throw Error(a(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=dc;dc|=2;var r=ru(),i=iu();fc!==e||gc!==t?(Mc=null,Dc=se()+500,eu(e,t)):bc=Te(e,t);e:for(;;)try{if(0!==mc&&null!==pc){t=pc;var o=vc;t:switch(mc){case 1:mc=0,vc=null,hu(e,t,o,1);break;case 2:case 9:if(eo(o)){mc=0,vc=null,uu(t);break}t=function(){2!==mc&&9!==mc||fc!==e||(mc=7),Mu(e)},o.then(t,t);break e;case 3:mc=7;break e;case 4:mc=5;break e;case 7:eo(o)?(mc=0,vc=null,uu(t)):(mc=0,vc=null,hu(e,t,o,7));break;case 5:var s=null;switch(pc.tag){case 26:s=pc.memoizedState;case 5:case 27:var l=pc;if(s?rd(s):l.stateNode.complete){mc=0,vc=null;var c=l.sibling;if(null!==c)pc=c;else{var u=l.return;null!==u?(pc=u,du(u)):pc=null}break t}}mc=0,vc=null,hu(e,t,o,5);break;case 6:mc=0,vc=null,hu(e,t,o,6);break;case 8:Zc(),xc=6;break e;default:throw Error(a(462))}}lu();break}catch(t){tu(e,t)}return ki=xi=null,D.H=r,D.A=i,dc=n,null!==pc?0:(fc=null,gc=0,Nr(),xc)}(e,t):au(e,t,!0),o=r;;){if(0===i){bc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!o||Qc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(eu(l,s).flags|=256),2!==(s=au(l,s,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=o,Ec|=o,i=4;break e}o=Nc,Nc=i,null!==o&&(null===Nc?Nc=o:Nc.push.apply(Nc,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){eu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Cc,!yc);break e;case 2:Nc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Ac+300-se())){if(Xc(r,t,Cc,!yc),0!==Ce(r,0,!0))break e;jc=t,r.timeoutHandle=wh(Yc.bind(null,r,n,Nc,Mc,Pc,t,Cc,Ec,Tc,yc,o,"Throttled",-0,0),i)}else Yc(r,n,Nc,Mc,Pc,t,Cc,Ec,Tc,yc,o,null,-0,0)}break}i=au(e,t,!1),o=!1}Mu(e)}function Yc(e,t,n,r,i,o,a,s,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||!(16785408&~h)){ic(t,o,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:At});var p=(62914560&o)===o?Ac-se():(4194048&o)===o?Rc-se():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&sd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===id&&(id=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&dh(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,h=l.initiatorType;u&&dh(h)&&(a+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(o+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>id?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return jc=o,e.cancelPendingCommit=p(pu.bind(null,e,t,o,n,r,i,a,s,l,u,h,null,d,f)),void Xc(e,o,a,!c)}pu(e,t,o,n,r,i,a,s,l)}function Qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xn(o(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Sc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-be(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Re(e,n,t)}function Jc(){return!!(6&dc)||(Ou(0,!1),!1)}function Zc(){if(null!==pc){if(0===mc)var e=pc.return;else ki=xi=null,aa(e=pc),ao=null,so=0,e=pc;for(;null!==e;)pl(e.alternate,e),e=e.return;pc=null}}function eu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_h(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),jc=0,Zc(),fc=e,pc=n=jr(e.current,null),gc=t,mc=0,vc=null,yc=!1,bc=Te(e,t),wc=!1,Tc=Cc=Sc=Ec=kc=xc=0,Nc=Ic=null,Pc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),o=1<<i;t|=e[i],r&=~o}return _c=t,Nr(),n}function tu(e,t){Bo=null,D.H=ps,t===Qi||t===Ji?(t=io(),mc=3):t===Xi?(t=io(),mc=4):mc=t===As?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vc=t,null===pc&&(xc=1,Cs(e,Kr(t,e.current)))}function nu(){var e=Ro.current;return null===e||((4194048&gc)===gc?null===Do:!!((62914560&gc)===gc||536870912&gc)&&e===Do)}function ru(){var e=D.H;return D.H=ps,null===e?ps:e}function iu(){var e=D.A;return D.A=uc,e}function ou(){xc=4,yc||(4194048&gc)!==gc&&null!==Ro.current||(bc=!0),!(134217727&kc)&&!(134217727&Ec)||null===fc||Xc(fc,gc,Cc,!1)}function au(e,t,n){var r=dc;dc|=2;var i=ru(),o=iu();fc===e&&gc===t||(Mc=null,eu(e,t)),t=!1;var a=xc;e:for(;;)try{if(0!==mc&&null!==pc){var s=pc,l=vc;switch(mc){case 8:Zc(),a=6;break e;case 3:case 2:case 9:case 6:null===Ro.current&&(t=!0);var c=mc;if(mc=0,vc=null,hu(e,s,l,c),n&&bc){a=0;break e}break;default:c=mc,mc=0,vc=null,hu(e,s,l,c)}}su(),a=xc;break}catch(t){tu(e,t)}return t&&e.shellSuspendCounter++,ki=xi=null,dc=r,D.H=i,D.A=o,null===pc&&(fc=null,gc=0,Nr()),a}function su(){for(;null!==pc;)cu(pc)}function lu(){for(;null!==pc&&!oe();)cu(pc)}function cu(e){var t=ol(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?du(e):pc=t}function uu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ws(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Ws(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:aa(t);default:pl(n,t),t=ol(n,t=pc=Ur(t,_c),_c)}e.memoizedProps=e.pendingProps,null===t?du(e):pc=t}function hu(e,t,n,r){ki=xi=null,aa(t),ao=null,so=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Ro.current)){switch(n.tag){case 31:case 13:return null===Do?ou():null===n.alternate&&0===xc&&(xc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Zi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ku(e,r,i)),!1;case 22:return n.flags|=65536,r===Zi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ku(e,r,i)),!1}throw Error(a(435,n.tag))}return ku(e,r,i),ou(),!1}if(ui)return null!==(t=Ro.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==fi&&wi(Kr(e=Error(a(422),{cause:r}),n))):(r!==fi&&wi(Kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Kr(r,n),_o(e,i=Is(e.stateNode,r,i)),4!==xc&&(xc=2)),!1;var o=Error(a(520),{cause:r});if(o=Kr(o,n),null===Ic?Ic=[o]:Ic.push(o),4!==xc&&(xc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,_o(n,e=Is(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Oc&&Oc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ps(i=Ns(i),e,n,r),_o(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return xc=1,Cs(e,Kr(n,e.current)),void(pc=null)}catch(t){if(null!==i)throw pc=i,t;return xc=1,Cs(e,Kr(n,e.current)),void(pc=null)}32768&t.flags?(ui||1===r?e=!0:bc||536870912&gc?e=!1:(yc=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=Ro.current)&&13===r.tag&&(r.flags|=16384)),fu(t,e)):du(t)}function du(e){var t=e;do{if(32768&t.flags)return void fu(t,yc);e=t.return;var n=dl(t.alternate,t,_c);if(null!==n)return void(pc=n);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===xc&&(xc=5)}function fu(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(pc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=n}while(null!==e);xc=6,pc=null}function pu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==Lc);if(6&dc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-be(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Re(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Ir,s,l,c),e===fc&&(pc=fc=null,gc=0),zc=t,Fc=e,jc=n,Uc=o,Vc=i,Bc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,re(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=D.T,D.T=null,i=M.p,M.p=2,s=dc,dc|=4;try{!function(e,t){if(e=e.containerInfo,fh=md,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ph={focusedElem:e,selectionRange:n},md=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(o=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=xs(n.type,i);e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){xu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ih(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ih(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{dc=s,M.p=i,D.T=r}}Lc=1,gu(),mu(),vu()}}function gu(){if(1===Lc){Lc=0;var e=Fc,t=zc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=dc;dc|=4;try{Wl(t,e);var o=ph,a=nr(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&tr(s.ownerDocument.documentElement,s)){if(null!==l&&rr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var v=er(s,g),y=er(s,m);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<h.length;s++){var w=h[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}md=!!fh,ph=fh=null}finally{dc=i,M.p=r,D.T=n}}e.current=t,Lc=2}}function mu(){if(2===Lc){Lc=0;var e=Fc,t=zc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=dc;dc|=4;try{Dl(e,t.alternate,t)}finally{dc=i,M.p=r,D.T=n}}Lc=3}}function vu(){if(4===Lc||3===Lc){Lc=0,ae();var e=Fc,t=zc,n=jc,r=Bc;10256&t.subtreeFlags||10256&t.flags?Lc=5:(Lc=0,zc=Fc=null,yu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Oc=null),Le(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(me,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{D.T=t,M.p=i}}3&jc&&bu(),Mu(e),i=e.pendingLanes,261930&n&&42&i?e===Wc?Hc++:(Hc=0,Wc=e):Hc=0,Ou(0,!1)}}function yu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t))}function bu(){return gu(),mu(),vu(),wu()}function wu(){if(5!==Lc)return!1;var e=Fc,t=Uc;Uc=0;var n=Le(jc),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Vc,Vc=null;var o=Fc,s=jc;if(Lc=0,zc=Fc=null,jc=0,6&dc)throw Error(a(331));var l=dc;if(dc|=4,sc(o.current),Zl(o,o.current,s,n),dc=l,Ou(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(me,o)}catch(e){}return!0}finally{M.p=i,D.T=r,yu(e,t)}}function _u(e,t,n){t=Kr(n,t),null!==(e=bo(e,t=Is(e.stateNode,t,2),2))&&(Ae(e,2),Mu(e))}function xu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Oc||!Oc.has(r))){e=Kr(n,e),null!==(r=bo(t,n=Ns(2),2))&&(Ps(n,r,t,e),Ae(r,2),Mu(r));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fc===e&&(gc&n)===n&&(4===xc||3===xc&&(62914560&gc)===gc&&300>se()-Ac?!(2&dc)&&eu(e,0):Sc|=n,Tc===gc&&(Tc=0)),Mu(e)}function Su(e,t){0===t&&(t=Ne()),null!==(e=Rr(e,t))&&(Ae(e,t),Mu(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Su(e,n)}var Iu=null,Nu=null,Pu=!1,Au=!1,Ru=!1,Du=0;function Mu(e){e!==Nu&&null===e.next&&(null===Nu?Iu=Nu=e:Nu=Nu.next=e),Au=!0,Pu||(Pu=!0,kh(function(){6&dc?re(ce,Lu):Fu()}))}function Ou(e,t){if(!Ru&&Au){Ru=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-be(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Uu(r,o))}else o=gc,!(3&(o=Ce(r,r===fc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,o)||(n=!0,Uu(r,o));r=r.next}}while(n);Ru=!1}}function Lu(){Fu()}function Fu(){Au=Pu=!1;var e,t=0;0!==Du&&((e=window.event)&&"popstate"===e.type?e!==bh&&(bh=e,1):(bh=null,0))&&(t=Du);for(var n=se(),r=null,i=Iu;null!==i;){var o=i.next,a=zu(i,n);0===a?(i.next=null,null===r?Iu=o:r.next=o,null===o&&(Nu=r)):(r=i,(0!==t||3&a)&&(Au=!0)),i=o}0!==Lc&&5!==Lc||Ou(t,!1),0!==Du&&(Du=0)}function zu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-be(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Ie(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=gc,n=Ce(e,e===(t=fc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===mc||9===mc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=fe}return r=ju.bind(null,e),n=re(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function ju(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ce(e,e===fc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Gc(e,r,t),zu(e,se()),null!=e.callbackNode&&e.callbackNode===n?ju.bind(null,e):null)}function Uu(e,t){if(bu())return null;Gc(e,t,!0)}function Vu(){if(0===Du){var e=Bi;0===e&&(e=xe,!(261888&(xe<<=1))&&(xe=256)),Du=e}return Du}function Bu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<kr.length;Wu++){var $u=kr[Wu];Er($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}Er(gr,"onAnimationEnd"),Er(mr,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(yr,"onTransitionRun"),Er(br,"onTransitionStart"),Er(wr,"onTransitionCancel"),Er(_r,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function Gu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(e){Sr(e)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(e){Sr(e)}i.currentTarget=null,o=l}}}}function Yu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(Zu(t,e,2,!1),n.add(r))}function Qu(e,t,n){var r=0;t&&(r|=4),Zu(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Xu]){e[Xu]=!0,et.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Qu(t,!1,e),Qu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Qu("selectionchange",!1,t))}}function Zu(e,t,n,r){switch(kd(t)){case 2:var i=vd;break;case 8:i=yd;break;default:i=bd}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function eh(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==l;){if(null===(a=Ye(l)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=o,i=Dt(n),a=[];e:{var l=xr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case gr:case mr:case vr:c=cn;break;case _r:c=wn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=xn}var h=!!(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==l?l+"Capture":null:l;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=jt(g,f))&&h.push(th(g,m,p)),d)break;g=g.return}0<h.length&&(l=new c(l,u,null,n,i),a.push({event:l,listeners:h}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[Be])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(d=s(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=an,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=yn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?l:Xe(c),p=null==u?l:Xe(u),(l=new h(m,g+"leave",c,n,i)).target=d,l.relatedTarget=p,m=null,Ye(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)e:{for(h=rh,g=u,p=0,m=f=c;m;m=h(m))p++;m=0;for(var v=g;v;v=h(v))m++;for(;0<p-m;)f=h(f),p--;for(;0<m-p;)g=h(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){h=f;break e}f=h(f),g=h(g)}h=null}else h=null;null!==c&&ih(a,l,c,h,!1),null!==u&&null!==d&&ih(a,d,u,h,!0)}if("select"===(c=(l=r?Xe(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=Un;else if(Mn(l))if(Vn)y=Qn;else{y=Gn;var b=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Tt(r.elementType)&&(y=Un):y=Yn;switch(y&&(y=y(e,r))?On(a,y,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),b=r?Xe(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(or=b,ar=r,sr=null);break;case"focusout":sr=ar=or=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(a,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(a,n,i)}var w;if(En)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Rn?Pn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Tn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Rn&&(w=qt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Rn=!0)),0<(b=nh(r,_)).length&&(_=new hn(_,e,null,n,i),a.push({event:_,listeners:b}),(w||null!==(w=An(n)))&&(_.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Nn=!0,In);case"textInput":return(e=t.data)===In&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!En&&Pn(e,t)?(e=qt(),$t=Wt=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(_=nh(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:_}),b.data=w),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Bu((i[Ve]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ve]||null)?Bu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new tn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Du){var e=a?Hu(i,a):new FormData(i);es(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(s.preventDefault(),e=a?Hu(i,a):new FormData(i),es(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Gu(a,t)})}function th(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=jt(e,n))&&r.unshift(th(e,i,o)),null!=(i=jt(e,t))&&r.push(th(e,i,o))),3===e.tag)return r;e=e.return}return[]}function rh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ih(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=jt(n,o))&&a.unshift(th(n,c,l)):i||null!=(c=jt(n,o))&&a.push(th(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var oh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function sh(e){return("string"==typeof e?e:""+e).replace(oh,"\n").replace(ah,"")}function lh(e,t){return t=sh(t),sh(e)===t}function ch(e,t,n,r,i,o){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":Ct(e,r,o);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ch(e,t,"name",i.name,i,null),ch(e,t,"formEncType",i.formEncType,i,null),ch(e,t,"formMethod",i.formMethod,i,null),ch(e,t,"formTarget",i.formTarget,i,null)):(ch(e,t,"encType",i.encType,i,null),ch(e,t,"method",i.method,i,null),ch(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=At);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),st(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=It.get(n)||n,r)}}function uh(e,t,n,r,i,o){switch(n){case"style":Ct(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof r?kt(e,r):("number"==typeof r||"bigint"==typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=At);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Ve]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ch(e,t,r,s,n,null)}}return o&&ch(e,t,"srcSet",n.srcSet,n,null),void(i&&ch(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:ch(e,t,i,h,n,null)}}return void yt(e,r,l,c,u,s,o,!1);case"select":for(o in Yu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:ch(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Yu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:ch(e,t,s,l,n,null)}return void xt(e,i,o,r);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(i=n[c])&&("selected"===c?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:ch(e,t,c,i,n,null));return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(i=0;i<qu.length;i++)Yu(qu[i],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ch(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&void 0!==(i=n[h])&&uh(e,t,h,i,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&ch(e,t,l,i,n,null)}function dh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fh=null,ph=null;function gh(e){return 9===e.nodeType?e:e.ownerDocument}function mh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bh=null,wh="function"==typeof setTimeout?setTimeout:void 0,_h="function"==typeof clearTimeout?clearTimeout:void 0,xh="function"==typeof Promise?Promise:void 0,kh="function"==typeof queueMicrotask?queueMicrotask:void 0!==xh?function(e){return xh.resolve(null).then(e).catch(Eh)}:wh;function Eh(e){setTimeout(function(){throw e})}function Sh(e){return"head"===e}function Ch(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fh(e.ownerDocument.documentElement);else if("head"===n){Fh(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Ke]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}else"body"===n&&Fh(e.ownerDocument.body);n=i}while(n);Vd(t)}function Th(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ih(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ih(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rh(e.nextSibling)))return null}return e}function Ph(e){return"$?"===e.data||"$~"===e.data}function Ah(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dh=null;function Mh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Oh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lh(e,t,n){switch(t=gh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Fh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ge(e)}var zh=new Map,jh=new Set;function Uh(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vh=M.d;M.d={f:function(){var e=Vh.f(),t=Jc();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?ns(t):Vh.r(e)},D:function(e){Vh.D(e),Hh("dns-prefetch",e,null)},C:function(e,t){Vh.C(e,t),Hh("preconnect",e,t)},L:function(e,t,n){Vh.L(e,t,n);var r=Bh;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=$h(e);break;case"script":o=Gh(e)}zh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(qh(o))||"script"===t&&r.querySelector(Yh(o))||(hh(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){Vh.m(e,t);var n=Bh;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Gh(e)}if(!zh.has(o)&&(e=d({rel:"modulepreload",href:e},t),zh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yh(o)))return}hh(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){Vh.X(e,t);var n=Bh;if(n&&e){var r=Je(n).hoistableScripts,i=Gh(e),o=r.get(i);o||((o=n.querySelector(Yh(i)))||(e=d({src:e,async:!0},t),(t=zh.get(i))&&Zh(e,t),Ze(o=n.createElement("script")),hh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Vh.S(e,t,n);var r=Bh;if(r&&e){var i=Je(r).hoistableStyles,o=$h(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(qh(o)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zh.get(o))&&Jh(e,n);var l=a=r.createElement("link");Ze(l),hh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Xh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Vh.M(e,t);var n=Bh;if(n&&e){var r=Je(n).hoistableScripts,i=Gh(e),o=r.get(i);o||((o=n.querySelector(Yh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=zh.get(i))&&Zh(e,t),Ze(o=n.createElement("script")),hh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Bh="undefined"==typeof document?null:document;function Hh(e,t,n){var r=Bh;if(r&&"string"==typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),jh.has(i)||(jh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hh(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function Wh(e,t,n,r){var i,o,s,l,c=(c=$.current)?Uh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=$h(n.href),(r=(n=Je(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=$h(n.href);var u=Je(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(qh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),zh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zh.set(e,n),u||(i=c,o=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),hh(o,"link",s),Ze(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Gh(n),(r=(n=Je(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $h(e){return'href="'+mt(e)+'"'}function qh(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Gh(e){return'[src="'+mt(e)+'"]'}function Yh(e){return"script[async]"+e}function Qh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),hh(r,"style",i),Xh(r,n.precedence,e),t.instance=r;case"stylesheet":i=$h(n.href);var o=e.querySelector(qh(i));if(o)return t.state.loading|=4,t.instance=o,Ze(o),o;r=Kh(n),(i=zh.get(i))&&Jh(r,i),Ze(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hh(o,"link",r),t.state.loading|=4,Xh(o,n.precedence,e),t.instance=o;case"script":return o=Gh(n.src),(i=e.querySelector(Yh(o)))?(t.instance=i,Ze(i),i):(r=n,(i=zh.get(o))&&Zh(r=d({},n),i),Ze(i=(e=e.ownerDocument||e).createElement("script")),hh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xh(r,n.precedence,e));return t.instance}function Xh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Zh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ed=null;function td(e,t,n){if(null===ed){var r=new Map,i=ed=new Map;i.set(n,r)}else(r=(i=ed).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ke]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function nd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var id=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function sd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(ld,e),ad=null,od.call(e))}function ld(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var cd={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function ud(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hd(e,t,n,r,i,o){i=function(e){return e?e=Or:Or}(i),null===r.context?r.context=i:r.pendingContext=i,(r=yo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=bo(e,r,t))&&(Kc(n,0,t),wo(n,e,t))}function dd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fd(e,t){dd(e,t),(e=e.alternate)&&dd(e,t)}function pd(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Kc(t,0,67108864),fd(e,67108864)}}function gd(e){if(13===e.tag||31===e.tag){var t=$c(),n=Rr(e,t=Oe(t));null!==n&&Kc(n,0,t),fd(e,t)}}var md=!0;function vd(e,t,n,r){var i=D.T;D.T=null;var o=M.p;try{M.p=2,bd(e,t,n,r)}finally{M.p=o,D.T=i}}function yd(e,t,n,r){var i=D.T;D.T=null;var o=M.p;try{M.p=8,bd(e,t,n,r)}finally{M.p=o,D.T=i}}function bd(e,t,n,r){if(md){var i=wd(r);if(null===i)eh(e,t,r,_d,n),Rd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Sd=Dd(Sd,e,t,n,r,i),!0;case"dragenter":return Cd=Dd(Cd,e,t,n,r,i),!0;case"mouseover":return Td=Dd(Td,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Id.set(o,Dd(Id.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nd.set(o,Dd(Nd.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rd(e,r),4&t&&-1<Ad.indexOf(e)){for(;null!==i;){var o=Qe(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Se(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-be(a);s.entanglements[1]|=l,a&=~l}Mu(o),!(6&dc)&&(Dc=se()+500,Ou(0,!1))}}break;case 31:case 13:null!==(s=Rr(o,2))&&Kc(s,0,2),Jc(),fd(o,2)}if(null===(o=wd(r))&&eh(e,t,r,_d,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else eh(e,t,r,null,n)}}function wd(e){return xd(e=Dt(e))}var _d=null;function xd(e){if(_d=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _d=e,null}function kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case ue:return 8;case he:case de:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Ed=!1,Sd=null,Cd=null,Td=null,Id=new Map,Nd=new Map,Pd=[],Ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rd(e,t){switch(e){case"focusin":case"focusout":Sd=null;break;case"dragenter":case"dragleave":Cd=null;break;case"mouseover":case"mouseout":Td=null;break;case"pointerover":case"pointerout":Id.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(t.pointerId)}}function Dd(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=Qe(t))&&pd(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Md(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void ze(e.priority,function(){gd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){gd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Od(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=wd(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&pd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Ld(e,t,n){Od(e)&&n.delete(t)}function Fd(){Ed=!1,null!==Sd&&Od(Sd)&&(Sd=null),null!==Cd&&Od(Cd)&&(Cd=null),null!==Td&&Od(Td)&&(Td=null),Id.forEach(Ld),Nd.forEach(Ld)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fd)))}var jd=null;function Ud(e){jd!==e&&(jd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jd===e&&(jd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===xd(r||n))continue;break}var o=Qe(n);null!==o&&(e.splice(t,3),t-=3,es(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vd(e){function t(t){return zd(t,e)}null!==Sd&&zd(Sd,e),null!==Cd&&zd(Cd,e),null!==Td&&zd(Td,e),Id.forEach(t),Nd.forEach(t);for(var n=0;n<Pd.length;n++){var r=Pd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Pd.length&&null===(n=Pd[0]).blockedOn;)Md(n),null===n.blockedOn&&Pd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Ve]||null;if("function"==typeof o)a||Ud(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Ve]||null)s=a.formAction;else if(null!==xd(i))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Ud(n)}}}function Bd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Hd(e){this._internalRoot=e}function Wd(e){this._internalRoot=e}Wd.prototype.render=Hd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));hd(t.current,$c(),e,t,null,null)},Wd.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hd(e.current,2,null,e,null,null),Jc(),t[Be]=null}},Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pd.length&&0!==t&&t<Pd[n].priority;n++);Pd.splice(n,0,e),0===n&&Md(e)}};var $d=i.version;if("19.2.0"!==$d)throw Error(a(527,$d,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=o;break}if(c===r){l=!0,r=i,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=i;break}if(c===r){l=!0,r=o,n=i;break}c=c.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?h(e):null)?null:e.stateNode};var qd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{me=Kd.inject(qd),ve=Kd}catch(e){}}t.createRoot=function(e,t){if(!(n=e)||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(a(299));var n,r=!1,i="",o=ks,s=Es,l=Ss;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=function(e,t,n,r,i,o,a,s,l,c,u,h){return e=new ud(e,t,n,a,l,c,u,h,s),t=1,!0===o&&(t|=24),o=Fr(3,null,null,t),e.current=o,o.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},mo(o),e}(e,1,!1,null,0,r,i,null,o,s,l,Bd),e[Be]=t.current,Ju(e),new Hd(t)}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},338:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},477:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,_(e),!g)if(null!==r(c))g=!0,E||(E=!0,k());else{var t=r(u);null!==t&&R(x,t.startTime-e)}}var k,E=!1,S=-1,C=5,T=-1;function I(){return!(!v&&t.unstable_now()-T<C)}function N(){if(v=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(S),S=-1),p=!0;var o=f;try{t:{for(_(e),d=r(c);null!==d&&!(d.expirationTime>e&&I());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){d.callback=s,_(e),n=!0;break t}d===r(c)&&i(c),_(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&R(x,l.startTime-e),n=!1}}break e}finally{d=null,f=o,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"==typeof w)k=function(){w(N)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=N,k=function(){A.postMessage(null)}}else k=function(){y(N,0)};function R(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(S),S=-1):m=!0,R(x,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},540:(e,t,n)=>{e.exports=n(869)},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},869:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator,g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=w.prototype=new b;_.constructor=w,m(_,y.prototype),_.isPureReactComponent=!0;var x=Array.isArray;function k(){}var E={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return P((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+N(e,0):o,x(a)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),P(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+u,a=C(l.type,c,l.props)),t.push(a)),1;u=0;var h,f=""===o?".":o+":";if(x(e))for(var g=0;g<e.length;g++)u+=P(o=e[g],t,i,s=f+N(o,g),a);else if("function"==typeof(g=null===(h=e)||"object"!=typeof h?null:"function"==typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,s=f+N(o,g++),a);else if("object"===s){if("function"==typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=M,t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return C(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return C(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(k,D)}catch(e){D(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.0"},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},972:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([e.id,'/*! tailwindcss v4.1.14 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-orange-50: oklch(98% 0.016 73.684);\n    --color-orange-100: oklch(95.4% 0.038 75.164);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-700: oklch(55.3% 0.195 38.402);\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-300: oklch(87.1% 0.15 154.449);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-emerald-50: oklch(97.9% 0.021 166.113);\n    --color-emerald-100: oklch(95% 0.052 163.051);\n    --color-emerald-500: oklch(69.6% 0.17 162.48);\n    --color-emerald-600: oklch(59.6% 0.145 163.225);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-indigo-50: oklch(96.2% 0.018 272.314);\n    --color-indigo-100: oklch(93% 0.034 272.788);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-300: oklch(78.5% 0.115 274.713);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-800: oklch(39.8% 0.195 277.366);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-purple-50: oklch(97.7% 0.014 308.299);\n    --color-purple-100: oklch(94.6% 0.033 307.174);\n    --color-purple-300: oklch(82.7% 0.119 306.383);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-purple-600: oklch(55.8% 0.288 302.321);\n    --color-purple-700: oklch(49.6% 0.265 301.924);\n    --color-pink-50: oklch(97.1% 0.014 343.198);\n    --color-pink-100: oklch(94.8% 0.028 342.258);\n    --color-pink-300: oklch(82.3% 0.12 346.018);\n    --color-pink-500: oklch(65.6% 0.241 354.308);\n    --color-pink-600: oklch(59.2% 0.249 0.584);\n    --color-pink-700: oklch(52.5% 0.223 3.958);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-2xl: 42rem;\n    --container-3xl: 48rem;\n    --container-4xl: 56rem;\n    --container-7xl: 80rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --text-7xl: 4.5rem;\n    --text-7xl--line-height: 1;\n    --text-8xl: 6rem;\n    --text-8xl--line-height: 1;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --font-weight-extrabold: 800;\n    --leading-tight: 1.25;\n    --leading-relaxed: 1.625;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --blur-sm: 8px;\n    --blur-lg: 16px;\n    --blur-xl: 24px;\n    --blur-2xl: 40px;\n    --blur-3xl: 64px;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: var(--font-mono);\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    -moz-tab-size: 4;\n      -o-tab-size: 4;\n         tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::-moz-placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  ::-webkit-calendar-picker-indicator {\n    line-height: 1;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    -webkit-appearance: button;\n       -moz-appearance: button;\n            appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .visible {\n    visibility: visible;\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip-path: inset(50%);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .sticky {\n    position: sticky;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .-top-10 {\n    top: calc(var(--spacing) * -10);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-1\\/2 {\n    top: calc(1/2 * 100%);\n  }\n  .top-4 {\n    top: calc(var(--spacing) * 4);\n  }\n  .top-20 {\n    top: calc(var(--spacing) * 20);\n  }\n  .top-40 {\n    top: calc(var(--spacing) * 40);\n  }\n  .-right-10 {\n    right: calc(var(--spacing) * -10);\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-4 {\n    right: calc(var(--spacing) * 4);\n  }\n  .right-10 {\n    right: calc(var(--spacing) * 10);\n  }\n  .right-20 {\n    right: calc(var(--spacing) * 20);\n  }\n  .-bottom-8 {\n    bottom: calc(var(--spacing) * -8);\n  }\n  .-bottom-10 {\n    bottom: calc(var(--spacing) * -10);\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .bottom-20 {\n    bottom: calc(var(--spacing) * 20);\n  }\n  .-left-10 {\n    left: calc(var(--spacing) * -10);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-1\\/2 {\n    left: calc(1/2 * 100%);\n  }\n  .left-10 {\n    left: calc(var(--spacing) * 10);\n  }\n  .left-20 {\n    left: calc(var(--spacing) * 20);\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .col-span-2 {\n    grid-column: span 2 / span 2;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .mx-auto {\n    margin-inline: auto;\n  }\n  .my-4 {\n    margin-block: calc(var(--spacing) * 4);\n  }\n  .my-6 {\n    margin-block: calc(var(--spacing) * 6);\n  }\n  .-mt-16 {\n    margin-top: calc(var(--spacing) * -16);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-3 {\n    margin-top: calc(var(--spacing) * 3);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-6 {\n    margin-top: calc(var(--spacing) * 6);\n  }\n  .mt-8 {\n    margin-top: calc(var(--spacing) * 8);\n  }\n  .mt-12 {\n    margin-top: calc(var(--spacing) * 12);\n  }\n  .mt-16 {\n    margin-top: calc(var(--spacing) * 16);\n  }\n  .mt-20 {\n    margin-top: calc(var(--spacing) * 20);\n  }\n  .-mr-16 {\n    margin-right: calc(var(--spacing) * -16);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .-mb-12 {\n    margin-bottom: calc(var(--spacing) * -12);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .mb-8 {\n    margin-bottom: calc(var(--spacing) * 8);\n  }\n  .mb-10 {\n    margin-bottom: calc(var(--spacing) * 10);\n  }\n  .mb-12 {\n    margin-bottom: calc(var(--spacing) * 12);\n  }\n  .mb-16 {\n    margin-bottom: calc(var(--spacing) * 16);\n  }\n  .-ml-12 {\n    margin-left: calc(var(--spacing) * -12);\n  }\n  .ml-0 {\n    margin-left: calc(var(--spacing) * 0);\n  }\n  .ml-2 {\n    margin-left: calc(var(--spacing) * 2);\n  }\n  .ml-3 {\n    margin-left: calc(var(--spacing) * 3);\n  }\n  .ml-4 {\n    margin-left: calc(var(--spacing) * 4);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-block {\n    display: inline-block;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .h-1 {\n    height: calc(var(--spacing) * 1);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-7 {\n    height: calc(var(--spacing) * 7);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-10 {\n    height: calc(var(--spacing) * 10);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-16 {\n    height: calc(var(--spacing) * 16);\n  }\n  .h-24 {\n    height: calc(var(--spacing) * 24);\n  }\n  .h-28 {\n    height: calc(var(--spacing) * 28);\n  }\n  .h-32 {\n    height: calc(var(--spacing) * 32);\n  }\n  .h-40 {\n    height: calc(var(--spacing) * 40);\n  }\n  .h-72 {\n    height: calc(var(--spacing) * 72);\n  }\n  .h-96 {\n    height: calc(var(--spacing) * 96);\n  }\n  .h-full {\n    height: 100%;\n  }\n  .max-h-\\[90vh\\] {\n    max-height: 90vh;\n  }\n  .min-h-screen {\n    min-height: 100vh;\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-7 {\n    width: calc(var(--spacing) * 7);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-10 {\n    width: calc(var(--spacing) * 10);\n  }\n  .w-11 {\n    width: calc(var(--spacing) * 11);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-20 {\n    width: calc(var(--spacing) * 20);\n  }\n  .w-24 {\n    width: calc(var(--spacing) * 24);\n  }\n  .w-28 {\n    width: calc(var(--spacing) * 28);\n  }\n  .w-32 {\n    width: calc(var(--spacing) * 32);\n  }\n  .w-40 {\n    width: calc(var(--spacing) * 40);\n  }\n  .w-72 {\n    width: calc(var(--spacing) * 72);\n  }\n  .w-96 {\n    width: calc(var(--spacing) * 96);\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-2xl {\n    max-width: var(--container-2xl);\n  }\n  .max-w-3xl {\n    max-width: var(--container-3xl);\n  }\n  .max-w-4xl {\n    max-width: var(--container-4xl);\n  }\n  .max-w-7xl {\n    max-width: var(--container-7xl);\n  }\n  .max-w-lg {\n    max-width: var(--container-lg);\n  }\n  .max-w-md {\n    max-width: var(--container-md);\n  }\n  .max-w-sm {\n    max-width: var(--container-sm);\n  }\n  .min-w-\\[3rem\\] {\n    min-width: 3rem;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .-translate-x-1\\/2 {\n    --tw-translate-x: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-y-1\\/2 {\n    --tw-translate-y: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .animate-pulse {\n    animation: var(--animate-pulse);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .list-inside {\n    list-style-position: inside;\n  }\n  .list-disc {\n    list-style-type: disc;\n  }\n  .grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-6 {\n    gap: calc(var(--spacing) * 6);\n  }\n  .gap-8 {\n    gap: calc(var(--spacing) * 8);\n  }\n  .space-y-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 1) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-5 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 5) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 5) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-6 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-12 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 12) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 12) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-x-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 1) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 4) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .overflow-x-auto {\n    overflow-x: auto;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded-2xl {\n    border-radius: var(--radius-2xl);\n  }\n  .rounded-3xl {\n    border-radius: var(--radius-3xl);\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-xl {\n    border-radius: var(--radius-xl);\n  }\n  .rounded-t-lg {\n    border-top-left-radius: var(--radius-lg);\n    border-top-right-radius: var(--radius-lg);\n  }\n  .rounded-r-xl {\n    border-top-right-radius: var(--radius-xl);\n    border-bottom-right-radius: var(--radius-xl);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-t-2 {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 2px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-l-4 {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 4px;\n  }\n  .border-dashed {\n    --tw-border-style: dashed;\n    border-style: dashed;\n  }\n  .border-blue-200 {\n    border-color: var(--color-blue-200);\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-gray-100 {\n    border-color: var(--color-gray-100);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-green-200 {\n    border-color: var(--color-green-200);\n  }\n  .border-green-500 {\n    border-color: var(--color-green-500);\n  }\n  .border-indigo-100 {\n    border-color: var(--color-indigo-100);\n  }\n  .border-indigo-200 {\n    border-color: var(--color-indigo-200);\n  }\n  .border-indigo-500 {\n    border-color: var(--color-indigo-500);\n  }\n  .border-indigo-600 {\n    border-color: var(--color-indigo-600);\n  }\n  .border-indigo-700 {\n    border-color: var(--color-indigo-700);\n  }\n  .border-orange-500 {\n    border-color: var(--color-orange-500);\n  }\n  .border-purple-300 {\n    border-color: var(--color-purple-300);\n  }\n  .border-purple-500 {\n    border-color: var(--color-purple-500);\n  }\n  .border-red-200 {\n    border-color: var(--color-red-200);\n  }\n  .border-red-500 {\n    border-color: var(--color-red-500);\n  }\n  .border-white\\/50 {\n    border-color: color-mix(in srgb, #fff 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      border-color: color-mix(in oklab, var(--color-white) 50%, transparent);\n    }\n  }\n  .border-yellow-500 {\n    border-color: var(--color-yellow-500);\n  }\n  .bg-black\\/10 {\n    background-color: color-mix(in srgb, #000 10%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-black) 10%, transparent);\n    }\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in srgb, #000 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n    }\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-100 {\n    background-color: var(--color-blue-100);\n  }\n  .bg-blue-400 {\n    background-color: var(--color-blue-400);\n  }\n  .bg-gray-50 {\n    background-color: var(--color-gray-50);\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-400 {\n    background-color: var(--color-gray-400);\n  }\n  .bg-gray-800 {\n    background-color: var(--color-gray-800);\n  }\n  .bg-gray-900 {\n    background-color: var(--color-gray-900);\n  }\n  .bg-green-50 {\n    background-color: var(--color-green-50);\n  }\n  .bg-green-100 {\n    background-color: var(--color-green-100);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-indigo-50 {\n    background-color: var(--color-indigo-50);\n  }\n  .bg-indigo-100 {\n    background-color: var(--color-indigo-100);\n  }\n  .bg-indigo-200 {\n    background-color: var(--color-indigo-200);\n  }\n  .bg-indigo-500 {\n    background-color: var(--color-indigo-500);\n  }\n  .bg-indigo-600 {\n    background-color: var(--color-indigo-600);\n  }\n  .bg-orange-50 {\n    background-color: var(--color-orange-50);\n  }\n  .bg-pink-300 {\n    background-color: var(--color-pink-300);\n  }\n  .bg-purple-50 {\n    background-color: var(--color-purple-50);\n  }\n  .bg-purple-100 {\n    background-color: var(--color-purple-100);\n  }\n  .bg-purple-300 {\n    background-color: var(--color-purple-300);\n  }\n  .bg-red-50 {\n    background-color: var(--color-red-50);\n  }\n  .bg-red-100 {\n    background-color: var(--color-red-100);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-red-600 {\n    background-color: var(--color-red-600);\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/10 {\n    background-color: color-mix(in srgb, #fff 10%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 10%, transparent);\n    }\n  }\n  .bg-white\\/30 {\n    background-color: color-mix(in srgb, #fff 30%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 30%, transparent);\n    }\n  }\n  .bg-white\\/50 {\n    background-color: color-mix(in srgb, #fff 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 50%, transparent);\n    }\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in srgb, #fff 80%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n    }\n  }\n  .bg-white\\/90 {\n    background-color: color-mix(in srgb, #fff 90%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 90%, transparent);\n    }\n  }\n  .bg-white\\/95 {\n    background-color: color-mix(in srgb, #fff 95%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 95%, transparent);\n    }\n  }\n  .bg-yellow-50 {\n    background-color: var(--color-yellow-50);\n  }\n  .bg-yellow-100 {\n    background-color: var(--color-yellow-100);\n  }\n  .bg-yellow-300 {\n    background-color: var(--color-yellow-300);\n  }\n  .bg-yellow-400 {\n    background-color: var(--color-yellow-400);\n  }\n  .bg-yellow-500 {\n    background-color: var(--color-yellow-500);\n  }\n  .bg-gradient-to-br {\n    --tw-gradient-position: to bottom right in oklab;\n    background-image: linear-gradient(var(--tw-gradient-stops));\n  }\n  .bg-gradient-to-r {\n    --tw-gradient-position: to right in oklab;\n    background-image: linear-gradient(var(--tw-gradient-stops));\n  }\n  .from-blue-50 {\n    --tw-gradient-from: var(--color-blue-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-blue-100 {\n    --tw-gradient-from: var(--color-blue-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-blue-400 {\n    --tw-gradient-from: var(--color-blue-400);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-blue-500 {\n    --tw-gradient-from: var(--color-blue-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-gray-50 {\n    --tw-gradient-from: var(--color-gray-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-gray-300 {\n    --tw-gradient-from: var(--color-gray-300);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-green-50 {\n    --tw-gradient-from: var(--color-green-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-green-100 {\n    --tw-gradient-from: var(--color-green-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-green-400 {\n    --tw-gradient-from: var(--color-green-400);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-green-500 {\n    --tw-gradient-from: var(--color-green-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-indigo-50 {\n    --tw-gradient-from: var(--color-indigo-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-indigo-100 {\n    --tw-gradient-from: var(--color-indigo-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-indigo-500 {\n    --tw-gradient-from: var(--color-indigo-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-indigo-600 {\n    --tw-gradient-from: var(--color-indigo-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-purple-100 {\n    --tw-gradient-from: var(--color-purple-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-purple-500 {\n    --tw-gradient-from: var(--color-purple-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-purple-600 {\n    --tw-gradient-from: var(--color-purple-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-red-500 {\n    --tw-gradient-from: var(--color-red-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-white {\n    --tw-gradient-from: var(--color-white);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-yellow-100 {\n    --tw-gradient-from: var(--color-yellow-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-yellow-400 {\n    --tw-gradient-from: var(--color-yellow-400);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .from-yellow-500 {\n    --tw-gradient-from: var(--color-yellow-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .via-blue-50 {\n    --tw-gradient-via: var(--color-blue-50);\n    --tw-gradient-via-stops: var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position);\n    --tw-gradient-stops: var(--tw-gradient-via-stops);\n  }\n  .via-indigo-50 {\n    --tw-gradient-via: var(--color-indigo-50);\n    --tw-gradient-via-stops: var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position);\n    --tw-gradient-stops: var(--tw-gradient-via-stops);\n  }\n  .via-purple-50 {\n    --tw-gradient-via: var(--color-purple-50);\n    --tw-gradient-via-stops: var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position);\n    --tw-gradient-stops: var(--tw-gradient-via-stops);\n  }\n  .via-purple-500 {\n    --tw-gradient-via: var(--color-purple-500);\n    --tw-gradient-via-stops: var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position);\n    --tw-gradient-stops: var(--tw-gradient-via-stops);\n  }\n  .via-purple-600 {\n    --tw-gradient-via: var(--color-purple-600);\n    --tw-gradient-via-stops: var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position);\n    --tw-gradient-stops: var(--tw-gradient-via-stops);\n  }\n  .to-blue-600 {\n    --tw-gradient-to: var(--color-blue-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-emerald-50 {\n    --tw-gradient-to: var(--color-emerald-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-emerald-100 {\n    --tw-gradient-to: var(--color-emerald-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-emerald-500 {\n    --tw-gradient-to: var(--color-emerald-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-emerald-600 {\n    --tw-gradient-to: var(--color-emerald-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-gray-50 {\n    --tw-gradient-to: var(--color-gray-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-gray-400 {\n    --tw-gradient-to: var(--color-gray-400);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-indigo-50 {\n    --tw-gradient-to: var(--color-indigo-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-indigo-100 {\n    --tw-gradient-to: var(--color-indigo-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-indigo-500 {\n    --tw-gradient-to: var(--color-indigo-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-indigo-600 {\n    --tw-gradient-to: var(--color-indigo-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-orange-100 {\n    --tw-gradient-to: var(--color-orange-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-orange-500 {\n    --tw-gradient-to: var(--color-orange-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-pink-50 {\n    --tw-gradient-to: var(--color-pink-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-pink-100 {\n    --tw-gradient-to: var(--color-pink-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-pink-500 {\n    --tw-gradient-to: var(--color-pink-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-pink-600 {\n    --tw-gradient-to: var(--color-pink-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-purple-50 {\n    --tw-gradient-to: var(--color-purple-50);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-purple-100 {\n    --tw-gradient-to: var(--color-purple-100);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-purple-500 {\n    --tw-gradient-to: var(--color-purple-500);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .to-purple-600 {\n    --tw-gradient-to: var(--color-purple-600);\n    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n  }\n  .bg-clip-text {\n    -webkit-background-clip: text;\n            background-clip: text;\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-5 {\n    padding: calc(var(--spacing) * 5);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .p-8 {\n    padding: calc(var(--spacing) * 8);\n  }\n  .p-10 {\n    padding: calc(var(--spacing) * 10);\n  }\n  .p-12 {\n    padding: calc(var(--spacing) * 12);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .px-8 {\n    padding-inline: calc(var(--spacing) * 8);\n  }\n  .px-10 {\n    padding-inline: calc(var(--spacing) * 10);\n  }\n  .py-0\\.5 {\n    padding-block: calc(var(--spacing) * 0.5);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .py-8 {\n    padding-block: calc(var(--spacing) * 8);\n  }\n  .py-10 {\n    padding-block: calc(var(--spacing) * 10);\n  }\n  .py-16 {\n    padding-block: calc(var(--spacing) * 16);\n  }\n  .py-20 {\n    padding-block: calc(var(--spacing) * 20);\n  }\n  .pt-2 {\n    padding-top: calc(var(--spacing) * 2);\n  }\n  .pt-3 {\n    padding-top: calc(var(--spacing) * 3);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pt-6 {\n    padding-top: calc(var(--spacing) * 6);\n  }\n  .pr-20 {\n    padding-right: calc(var(--spacing) * 20);\n  }\n  .pb-2 {\n    padding-bottom: calc(var(--spacing) * 2);\n  }\n  .pb-4 {\n    padding-bottom: calc(var(--spacing) * 4);\n  }\n  .pl-6 {\n    padding-left: calc(var(--spacing) * 6);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .font-mono {\n    font-family: var(--font-mono);\n  }\n  .font-sans {\n    font-family: var(--font-sans);\n  }\n  .text-2xl {\n    font-size: var(--text-2xl);\n    line-height: var(--tw-leading, var(--text-2xl--line-height));\n  }\n  .text-3xl {\n    font-size: var(--text-3xl);\n    line-height: var(--tw-leading, var(--text-3xl--line-height));\n  }\n  .text-4xl {\n    font-size: var(--text-4xl);\n    line-height: var(--tw-leading, var(--text-4xl--line-height));\n  }\n  .text-5xl {\n    font-size: var(--text-5xl);\n    line-height: var(--tw-leading, var(--text-5xl--line-height));\n  }\n  .text-6xl {\n    font-size: var(--text-6xl);\n    line-height: var(--tw-leading, var(--text-6xl--line-height));\n  }\n  .text-8xl {\n    font-size: var(--text-8xl);\n    line-height: var(--tw-leading, var(--text-8xl--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xl {\n    font-size: var(--text-xl);\n    line-height: var(--tw-leading, var(--text-xl--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .leading-relaxed {\n    --tw-leading: var(--leading-relaxed);\n    line-height: var(--leading-relaxed);\n  }\n  .leading-tight {\n    --tw-leading: var(--leading-tight);\n    line-height: var(--leading-tight);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-extrabold {\n    --tw-font-weight: var(--font-weight-extrabold);\n    font-weight: var(--font-weight-extrabold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-normal {\n    --tw-font-weight: var(--font-weight-normal);\n    font-weight: var(--font-weight-normal);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .break-all {\n    word-break: break-all;\n  }\n  .text-blue-300 {\n    color: var(--color-blue-300);\n  }\n  .text-blue-700 {\n    color: var(--color-blue-700);\n  }\n  .text-blue-800 {\n    color: var(--color-blue-800);\n  }\n  .text-blue-900 {\n    color: var(--color-blue-900);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-gray-700 {\n    color: var(--color-gray-700);\n  }\n  .text-gray-800 {\n    color: var(--color-gray-800);\n  }\n  .text-gray-900 {\n    color: var(--color-gray-900);\n  }\n  .text-green-300 {\n    color: var(--color-green-300);\n  }\n  .text-green-600 {\n    color: var(--color-green-600);\n  }\n  .text-green-700 {\n    color: var(--color-green-700);\n  }\n  .text-green-800 {\n    color: var(--color-green-800);\n  }\n  .text-indigo-600 {\n    color: var(--color-indigo-600);\n  }\n  .text-indigo-700 {\n    color: var(--color-indigo-700);\n  }\n  .text-indigo-800 {\n    color: var(--color-indigo-800);\n  }\n  .text-orange-700 {\n    color: var(--color-orange-700);\n  }\n  .text-purple-600 {\n    color: var(--color-purple-600);\n  }\n  .text-purple-700 {\n    color: var(--color-purple-700);\n  }\n  .text-red-500 {\n    color: var(--color-red-500);\n  }\n  .text-red-600 {\n    color: var(--color-red-600);\n  }\n  .text-red-700 {\n    color: var(--color-red-700);\n  }\n  .text-red-800 {\n    color: var(--color-red-800);\n  }\n  .text-transparent {\n    color: transparent;\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .text-yellow-300 {\n    color: var(--color-yellow-300);\n  }\n  .text-yellow-500 {\n    color: var(--color-yellow-500);\n  }\n  .text-yellow-600 {\n    color: var(--color-yellow-600);\n  }\n  .text-yellow-800 {\n    color: var(--color-yellow-800);\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .opacity-20 {\n    opacity: 20%;\n  }\n  .opacity-80 {\n    opacity: 80%;\n  }\n  .opacity-90 {\n    opacity: 90%;\n  }\n  .opacity-95 {\n    opacity: 95%;\n  }\n  .mix-blend-multiply {\n    mix-blend-mode: multiply;\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-2xl {\n    --tw-shadow: 0 25px 50px -12px var(--tw-shadow-color, rgb(0 0 0 / 0.25));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xl {\n    --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-yellow-500\\/50 {\n    --tw-shadow-color: color-mix(in srgb, oklch(79.5% 0.184 86.047) 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      --tw-shadow-color: color-mix(in oklab, color-mix(in oklab, var(--color-yellow-500) 50%, transparent) var(--tw-shadow-alpha), transparent);\n    }\n  }\n  .blur-2xl {\n    --tw-blur: blur(var(--blur-2xl));\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .blur-3xl {\n    --tw-blur: blur(var(--blur-3xl));\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .blur-xl {\n    --tw-blur: blur(var(--blur-xl));\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur-lg {\n    --tw-backdrop-blur: blur(var(--blur-lg));\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-blur-sm {\n    --tw-backdrop-blur: blur(var(--blur-sm));\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-blur-xl {\n    --tw-backdrop-blur: blur(var(--blur-xl));\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, backdrop-filter, display, content-visibility, overlay, pointer-events;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-transform {\n    transition-property: transform, translate, scale, rotate;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .duration-500 {\n    --tw-duration: 500ms;\n    transition-duration: 500ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .group-hover\\:w-full {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        width: 100%;\n      }\n    }\n  }\n  .group-hover\\:scale-110 {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        --tw-scale-x: 110%;\n        --tw-scale-y: 110%;\n        --tw-scale-z: 110%;\n        scale: var(--tw-scale-x) var(--tw-scale-y);\n      }\n    }\n  }\n  .group-hover\\:scale-125 {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        --tw-scale-x: 125%;\n        --tw-scale-y: 125%;\n        --tw-scale-z: 125%;\n        scale: var(--tw-scale-x) var(--tw-scale-y);\n      }\n    }\n  }\n  .group-hover\\:text-indigo-600 {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        color: var(--color-indigo-600);\n      }\n    }\n  }\n  .peer-checked\\:bg-indigo-600 {\n    &:is(:where(.peer):checked ~ *) {\n      background-color: var(--color-indigo-600);\n    }\n  }\n  .peer-focus\\:ring-4 {\n    &:is(:where(.peer):focus ~ *) {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .peer-focus\\:ring-indigo-300 {\n    &:is(:where(.peer):focus ~ *) {\n      --tw-ring-color: var(--color-indigo-300);\n    }\n  }\n  .peer-focus\\:outline-none {\n    &:is(:where(.peer):focus ~ *) {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .after\\:absolute {\n    &::after {\n      content: var(--tw-content);\n      position: absolute;\n    }\n  }\n  .after\\:top-\\[2px\\] {\n    &::after {\n      content: var(--tw-content);\n      top: 2px;\n    }\n  }\n  .after\\:left-\\[2px\\] {\n    &::after {\n      content: var(--tw-content);\n      left: 2px;\n    }\n  }\n  .after\\:h-5 {\n    &::after {\n      content: var(--tw-content);\n      height: calc(var(--spacing) * 5);\n    }\n  }\n  .after\\:w-5 {\n    &::after {\n      content: var(--tw-content);\n      width: calc(var(--spacing) * 5);\n    }\n  }\n  .after\\:rounded-full {\n    &::after {\n      content: var(--tw-content);\n      border-radius: calc(infinity * 1px);\n    }\n  }\n  .after\\:border {\n    &::after {\n      content: var(--tw-content);\n      border-style: var(--tw-border-style);\n      border-width: 1px;\n    }\n  }\n  .after\\:border-gray-300 {\n    &::after {\n      content: var(--tw-content);\n      border-color: var(--color-gray-300);\n    }\n  }\n  .after\\:bg-white {\n    &::after {\n      content: var(--tw-content);\n      background-color: var(--color-white);\n    }\n  }\n  .after\\:transition-all {\n    &::after {\n      content: var(--tw-content);\n      transition-property: all;\n      transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n      transition-duration: var(--tw-duration, var(--default-transition-duration));\n    }\n  }\n  .after\\:content-\\[\\\'\\\'\\] {\n    &::after {\n      --tw-content: \'\';\n      content: var(--tw-content);\n    }\n  }\n  .peer-checked\\:after\\:translate-x-full {\n    &:is(:where(.peer):checked ~ *) {\n      &::after {\n        content: var(--tw-content);\n        --tw-translate-x: 100%;\n        translate: var(--tw-translate-x) var(--tw-translate-y);\n      }\n    }\n  }\n  .peer-checked\\:after\\:border-white {\n    &:is(:where(.peer):checked ~ *) {\n      &::after {\n        content: var(--tw-content);\n        border-color: var(--color-white);\n      }\n    }\n  }\n  .hover\\:-translate-y-1 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-translate-y: calc(var(--spacing) * -1);\n        translate: var(--tw-translate-x) var(--tw-translate-y);\n      }\n    }\n  }\n  .hover\\:-translate-y-2 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-translate-y: calc(var(--spacing) * -2);\n        translate: var(--tw-translate-x) var(--tw-translate-y);\n      }\n    }\n  }\n  .hover\\:scale-105 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-scale-x: 105%;\n        --tw-scale-y: 105%;\n        --tw-scale-z: 105%;\n        scale: var(--tw-scale-x) var(--tw-scale-y);\n      }\n    }\n  }\n  .hover\\:scale-110 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-scale-x: 110%;\n        --tw-scale-y: 110%;\n        --tw-scale-z: 110%;\n        scale: var(--tw-scale-x) var(--tw-scale-y);\n      }\n    }\n  }\n  .hover\\:gap-2 {\n    &:hover {\n      @media (hover: hover) {\n        gap: calc(var(--spacing) * 2);\n      }\n    }\n  }\n  .hover\\:border-indigo-300 {\n    &:hover {\n      @media (hover: hover) {\n        border-color: var(--color-indigo-300);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\:bg-gray-300 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-300);\n      }\n    }\n  }\n  .hover\\:bg-gray-800 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-800);\n      }\n    }\n  }\n  .hover\\:bg-green-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-green-600);\n      }\n    }\n  }\n  .hover\\:bg-indigo-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-indigo-50);\n      }\n    }\n  }\n  .hover\\:bg-indigo-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-indigo-100);\n      }\n    }\n  }\n  .hover\\:bg-indigo-300 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-indigo-300);\n      }\n    }\n  }\n  .hover\\:bg-indigo-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-indigo-600);\n      }\n    }\n  }\n  .hover\\:bg-indigo-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-indigo-700);\n      }\n    }\n  }\n  .hover\\:bg-red-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-red-100);\n      }\n    }\n  }\n  .hover\\:bg-red-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-red-600);\n      }\n    }\n  }\n  .hover\\:bg-red-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-red-700);\n      }\n    }\n  }\n  .hover\\:bg-white {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-white);\n      }\n    }\n  }\n  .hover\\:bg-white\\/20 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: color-mix(in srgb, #fff 20%, transparent);\n        @supports (color: color-mix(in lab, red, red)) {\n          background-color: color-mix(in oklab, var(--color-white) 20%, transparent);\n        }\n      }\n    }\n  }\n  .hover\\:bg-yellow-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-yellow-600);\n      }\n    }\n  }\n  .hover\\:from-indigo-700 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-gradient-from: var(--color-indigo-700);\n        --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n      }\n    }\n  }\n  .hover\\:from-purple-700 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-gradient-from: var(--color-purple-700);\n        --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n      }\n    }\n  }\n  .hover\\:to-pink-700 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-gradient-to: var(--color-pink-700);\n        --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n      }\n    }\n  }\n  .hover\\:to-purple-700 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-gradient-to: var(--color-purple-700);\n        --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));\n      }\n    }\n  }\n  .hover\\:text-gray-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-700);\n      }\n    }\n  }\n  .hover\\:text-indigo-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-indigo-600);\n      }\n    }\n  }\n  .hover\\:text-indigo-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-indigo-700);\n      }\n    }\n  }\n  .hover\\:text-indigo-800 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-indigo-800);\n      }\n    }\n  }\n  .hover\\:text-indigo-900 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-indigo-900);\n      }\n    }\n  }\n  .hover\\:text-red-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-red-700);\n      }\n    }\n  }\n  .hover\\:text-red-800 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-red-800);\n      }\n    }\n  }\n  .hover\\:underline {\n    &:hover {\n      @media (hover: hover) {\n        text-decoration-line: underline;\n      }\n    }\n  }\n  .hover\\:opacity-80 {\n    &:hover {\n      @media (hover: hover) {\n        opacity: 80%;\n      }\n    }\n  }\n  .hover\\:shadow-2xl {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 25px 50px -12px var(--tw-shadow-color, rgb(0 0 0 / 0.25));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-lg {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-xl {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .focus\\:border-indigo-500 {\n    &:focus {\n      border-color: var(--color-indigo-500);\n    }\n  }\n  .focus\\:border-transparent {\n    &:focus {\n      border-color: transparent;\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-indigo-500 {\n    &:focus {\n      --tw-ring-color: var(--color-indigo-500);\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .sm\\:mb-0 {\n    @media (width >= 40rem) {\n      margin-bottom: calc(var(--spacing) * 0);\n    }\n  }\n  .sm\\:grid-cols-2 {\n    @media (width >= 40rem) {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n  .sm\\:flex-row {\n    @media (width >= 40rem) {\n      flex-direction: row;\n    }\n  }\n  .sm\\:items-center {\n    @media (width >= 40rem) {\n      align-items: center;\n    }\n  }\n  .sm\\:p-6 {\n    @media (width >= 40rem) {\n      padding: calc(var(--spacing) * 6);\n    }\n  }\n  .sm\\:px-6 {\n    @media (width >= 40rem) {\n      padding-inline: calc(var(--spacing) * 6);\n    }\n  }\n  .md\\:col-span-1 {\n    @media (width >= 48rem) {\n      grid-column: span 1 / span 1;\n    }\n  }\n  .md\\:mt-0 {\n    @media (width >= 48rem) {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .md\\:mb-0 {\n    @media (width >= 48rem) {\n      margin-bottom: calc(var(--spacing) * 0);\n    }\n  }\n  .md\\:ml-4 {\n    @media (width >= 48rem) {\n      margin-left: calc(var(--spacing) * 4);\n    }\n  }\n  .md\\:flex {\n    @media (width >= 48rem) {\n      display: flex;\n    }\n  }\n  .md\\:hidden {\n    @media (width >= 48rem) {\n      display: none;\n    }\n  }\n  .md\\:w-auto {\n    @media (width >= 48rem) {\n      width: auto;\n    }\n  }\n  .md\\:flex-grow {\n    @media (width >= 48rem) {\n      flex-grow: 1;\n    }\n  }\n  .md\\:grid-cols-2 {\n    @media (width >= 48rem) {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n  .md\\:grid-cols-3 {\n    @media (width >= 48rem) {\n      grid-template-columns: repeat(3, minmax(0, 1fr));\n    }\n  }\n  .md\\:grid-cols-4 {\n    @media (width >= 48rem) {\n      grid-template-columns: repeat(4, minmax(0, 1fr));\n    }\n  }\n  .md\\:flex-row {\n    @media (width >= 48rem) {\n      flex-direction: row;\n    }\n  }\n  .md\\:items-center {\n    @media (width >= 48rem) {\n      align-items: center;\n    }\n  }\n  .md\\:space-x-4 {\n    @media (width >= 48rem) {\n      :where(& > :not(:last-child)) {\n        --tw-space-x-reverse: 0;\n        margin-inline-start: calc(calc(var(--spacing) * 4) * var(--tw-space-x-reverse));\n        margin-inline-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-x-reverse)));\n      }\n    }\n  }\n  .md\\:p-12 {\n    @media (width >= 48rem) {\n      padding: calc(var(--spacing) * 12);\n    }\n  }\n  .md\\:text-2xl {\n    @media (width >= 48rem) {\n      font-size: var(--text-2xl);\n      line-height: var(--tw-leading, var(--text-2xl--line-height));\n    }\n  }\n  .md\\:text-3xl {\n    @media (width >= 48rem) {\n      font-size: var(--text-3xl);\n      line-height: var(--tw-leading, var(--text-3xl--line-height));\n    }\n  }\n  .md\\:text-7xl {\n    @media (width >= 48rem) {\n      font-size: var(--text-7xl);\n      line-height: var(--tw-leading, var(--text-7xl--line-height));\n    }\n  }\n  .lg\\:grid-cols-2 {\n    @media (width >= 64rem) {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n  .lg\\:grid-cols-3 {\n    @media (width >= 64rem) {\n      grid-template-columns: repeat(3, minmax(0, 1fr));\n    }\n  }\n  .lg\\:grid-cols-4 {\n    @media (width >= 64rem) {\n      grid-template-columns: repeat(4, minmax(0, 1fr));\n    }\n  }\n  .lg\\:p-8 {\n    @media (width >= 64rem) {\n      padding: calc(var(--spacing) * 8);\n    }\n  }\n  .lg\\:px-8 {\n    @media (width >= 64rem) {\n      padding-inline: calc(var(--spacing) * 8);\n    }\n  }\n}\n@keyframes float {\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-20px);\n  }\n}\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes fadeInDown {\n  from {\n    opacity: 0;\n    transform: translateY(-30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes slideInLeft {\n  from {\n    opacity: 0;\n    transform: translateX(-50px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes slideInRight {\n  from {\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n@keyframes shimmer {\n  0% {\n    background-position: -1000px 0;\n  }\n  100% {\n    background-position: 1000px 0;\n  }\n}\n@keyframes gradient {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n@keyframes scaleIn {\n  from {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n.animate-float {\n  animation: float 3s ease-in-out infinite;\n}\n.animate-fadeInUp {\n  animation: fadeInUp 0.6s ease-out forwards;\n}\n.animate-fadeInDown {\n  animation: fadeInDown 0.6s ease-out forwards;\n}\n.animate-slideInLeft {\n  animation: slideInLeft 0.6s ease-out forwards;\n}\n.animate-slideInRight {\n  animation: slideInRight 0.6s ease-out forwards;\n}\n.animate-scaleIn {\n  animation: scaleIn 0.4s ease-out forwards;\n}\n.animate-gradient {\n  background-size: 200% 200%;\n  animation: gradient 8s ease infinite;\n}\n.glass {\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n.glass-dark {\n  background: rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n.gradient-text {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.gradient-text-blue {\n  background: linear-gradient(135deg, #4f46e5 0%, #06b6d4 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.hover-lift {\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n.hover-lift:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n.hover-glow:hover {\n  box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);\n}\n.card-modern {\n  background: white;\n  border-radius: 1rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  transition: all 0.3s ease;\n}\n.card-modern:hover {\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n.btn-gradient {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  transition: all 0.3s ease;\n}\n.btn-gradient:hover {\n  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\n  transform: translateY(-2px);\n  box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);\n}\nhtml {\n  scroll-behavior: smooth;\n}\n::-webkit-scrollbar {\n  width: 10px;\n}\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 5px;\n}\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-gradient-position {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-gradient-from {\n  syntax: "<color>";\n  inherits: false;\n  initial-value: #0000;\n}\n@property --tw-gradient-via {\n  syntax: "<color>";\n  inherits: false;\n  initial-value: #0000;\n}\n@property --tw-gradient-to {\n  syntax: "<color>";\n  inherits: false;\n  initial-value: #0000;\n}\n@property --tw-gradient-stops {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-gradient-via-stops {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-gradient-from-position {\n  syntax: "<length-percentage>";\n  inherits: false;\n  initial-value: 0%;\n}\n@property --tw-gradient-via-position {\n  syntax: "<length-percentage>";\n  inherits: false;\n  initial-value: 50%;\n}\n@property --tw-gradient-to-position {\n  syntax: "<length-percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-drop-shadow-size {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-scale-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-content {\n  syntax: "*";\n  initial-value: "";\n  inherits: false;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes pulse {\n  50% {\n    opacity: 0.5;\n  }\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-translate-x: 0;\n      --tw-translate-y: 0;\n      --tw-translate-z: 0;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-space-y-reverse: 0;\n      --tw-space-x-reverse: 0;\n      --tw-border-style: solid;\n      --tw-gradient-position: initial;\n      --tw-gradient-from: #0000;\n      --tw-gradient-via: #0000;\n      --tw-gradient-to: #0000;\n      --tw-gradient-stops: initial;\n      --tw-gradient-via-stops: initial;\n      --tw-gradient-from-position: 0%;\n      --tw-gradient-via-position: 50%;\n      --tw-gradient-to-position: 100%;\n      --tw-leading: initial;\n      --tw-font-weight: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n      --tw-backdrop-blur: initial;\n      --tw-backdrop-brightness: initial;\n      --tw-backdrop-contrast: initial;\n      --tw-backdrop-grayscale: initial;\n      --tw-backdrop-hue-rotate: initial;\n      --tw-backdrop-invert: initial;\n      --tw-backdrop-opacity: initial;\n      --tw-backdrop-saturate: initial;\n      --tw-backdrop-sepia: initial;\n      --tw-duration: initial;\n      --tw-ease: initial;\n      --tw-scale-x: 1;\n      --tw-scale-y: 1;\n      --tw-scale-z: 1;\n      --tw-content: "";\n    }\n  }\n}\n',""]);const s=a},982:(e,t,n)=>{e.exports=n(477)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(540),i=n(338),o="popstate";function a(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d="POP",f=null,p=g();function g(){return(l.state||{idx:null}).idx}function m(){d="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:d,location:y.location,delta:t})}function v(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),s(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:h(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}(e)}null==p&&(p=0,l.replaceState({...l.state,idx:p},""));let y={get action(){return d},get location(){return e(i,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,m),f=e,()=>{i.removeEventListener(o,m),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let r=u(y.location,e,t);n&&n(r,e),p=g()+1;let o=c(r,p),s=y.createHref(r);try{l.pushState(o,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(s)}a&&f&&f({action:d,location:y.location,delta:1})},replace:function(e,t){d="REPLACE";let r=u(y.location,e,t);n&&n(r,e),p=g();let i=c(r,p),o=y.createHref(r);l.replaceState(i,"",o),a&&f&&f({action:d,location:y.location,delta:0})},go:e=>l.go(e)};return y}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:h(t)},null,e)}function s(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function h({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n="/"){return function(e,t,n,r){let i=T(("string"==typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let o=p(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let e=0;null==a&&e<o.length;++e){let t=C(i);a=E(o[e],t,r)}return a}(e,t,n,!1)}function p(e,t=[],n=[],r="",i=!1){let o=(e,o,a=i,l)=>{let c={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&a)return;s(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let u=A([r,c.relativePath]),h=n.concat(c);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),p(e.children,t,h,u,a)),(null!=e.path||e.index)&&t.push({path:u,score:k(u,e.index),routesMeta:h})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))o(e,t,!0,n);else o(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=g(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var m=/^:[\w-]+$/,v=3,y=2,b=1,w=10,_=-2,x=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=_),t&&(r+=y),n.filter(e=>!x(e)).reduce((e,t)=>e+(m.test(t)?v:""===t?b:w),r)}function E(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let e=0;e<r.length;++e){let s=r[e],l=e===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=S({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c),h=s.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=S({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:A([o,u.pathname]),pathnameBase:R(A([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=A([o,u.pathnameBase]))}return a}function S(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=s[r]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const i=s[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function C(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function P(e,t,n,r=!1){let i;"string"==typeof e?i=d(e):(i={...e},s(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let o,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:D(r),hash:M(i)}}(i,o),u=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var A=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function O(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var L=["POST","PUT","PATCH","DELETE"],F=(new Set(L),["GET",...L]);new Set(F),Symbol("ResetLoaderData");var z=r.createContext(null);z.displayName="DataRouter";var j=r.createContext(null);j.displayName="DataRouterState";r.createContext(!1);var U=r.createContext({isTransitioning:!1});U.displayName="ViewTransition",r.createContext(new Map).displayName="Fetchers",r.createContext(null).displayName="Await";var V=r.createContext(null);V.displayName="Navigation";var B=r.createContext(null);B.displayName="Location";var H=r.createContext({outlet:null,matches:[],isDataRoute:!1});H.displayName="Route";var W=r.createContext(null);function $(){return null!=r.useContext(B)}function q(){return s($(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(B).location}W.displayName="RouteError";var K="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G(e){r.useContext(V).static||r.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=r.useContext(H);return e?function(){let{router:e}=function(e){let t=r.useContext(z);return s(t,ne(e)),t}("useNavigate"),t=re("useNavigate"),n=r.useRef(!1);G(()=>{n.current=!0});let i=r.useCallback(async(r,i={})=>{l(n.current,K),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t]);return i}():function(){s($(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(z),{basename:t,navigator:n}=r.useContext(V),{matches:i}=r.useContext(H),{pathname:o}=q(),a=JSON.stringify(N(i)),c=r.useRef(!1);G(()=>{c.current=!0});let u=r.useCallback((r,i={})=>{if(l(c.current,K),!c.current)return;if("number"==typeof r)return void n.go(r);let s=P(r,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:A([t,s.pathname])),(i.replace?n.replace:n.push)(s,i.state,i)},[t,n,a,o,e]);return u}()}function Q(e,{relative:t}={}){let{matches:n}=r.useContext(H),{pathname:i}=q(),o=JSON.stringify(N(n));return r.useMemo(()=>P(e,JSON.parse(o),i,"path"===t),[e,o,i,t])}function X(e,t,n,i,o){s($(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=r.useContext(V),{matches:c}=r.useContext(H),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let e=m&&m.path||"";oe(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=q();if(t){let e="string"==typeof t?d(t):t;s("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=f(e,{pathname:w});l(m||null!=_,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),l(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=function(e,t=[],n=null,i=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,a=n?.errors;if(null!=a){let e=o.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,c=-1;if(n)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight((e,s,u)=>{let h,d=!1,f=null,p=null;n&&(h=a&&s.route.id?a[s.route.id]:void 0,f=s.route.errorElement||Z,l&&(c<0&&0===u?(oe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===u&&(d=!0,p=s.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,u+1)),m=()=>{let t;return t=h?f:d?p:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(te,{match:s,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===u)?r.createElement(ee,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:i}):m()},null)}(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:A([g,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:A([g,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),c,n,i,o);return t&&x?r.createElement(B.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function J(){let e=function(){let e=r.useContext(W),t=function(e){let t=r.useContext(j);return s(t,ne(e)),t}("useRouteError"),n=re("useRouteError");return void 0!==e?e:t.errors?.[n]}(),t=O(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=r.createElement(r.Fragment,null,r.createElement("p",null,"💿 Hey developer 👋"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,l)}r.createContext(null);var Z=r.createElement(J,null),ee=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(H.Provider,{value:this.props.routeContext},r.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function te({routeContext:e,match:t,children:n}){let i=r.useContext(z);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),r.createElement(H.Provider,{value:e},n)}function ne(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function re(e){let t=function(e){let t=r.useContext(H);return s(t,ne(e)),t}(e),n=t.matches[t.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var ie={};function oe(e,t,n){t||ie[e]||(ie[e]=!0,l(!1,n))}function ae({to:e,replace:t,state:n,relative:i}){s($(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=r.useContext(V);l(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=r.useContext(H),{pathname:c}=q(),u=Y(),h=P(e,N(a),c,"path"===i),d=JSON.stringify(h);return r.useEffect(()=>{u(JSON.parse(d),{replace:t,state:n,relative:i})},[u,d,i,t,n]),null}function se(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function le({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){s(!$(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);"string"==typeof n&&(n=d(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:m="default"}=n,v=r.useMemo(()=>{let e=T(h,c);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:m},navigationType:i}},[c,h,f,p,g,m,i]);return l(null!=v,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(V.Provider,{value:u},r.createElement(B.Provider,{children:t,value:v}))}function ce({children:e,location:t}){return X(ue(e),t)}function ue(e,t=[]){let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ue(e.props.children,o));s(e.type===se,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ue(e.props.children,o)),n.push(a)}),n}r.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return X(e,void 0,n,r,t)}),r.Component;var he="get",de="application/x-www-form-urlencoded";function fe(e){return null!=e&&"string"==typeof e.tagName}var pe=null,ge=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function me(e){return null==e||ge.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${de}"`),null)}function ve(e,t){if(!1===e||null==e)throw new Error(t)}function ye(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function be(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function we(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function _e(){let e=r.useContext(z);return ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xe(){let e=r.useContext(j);return ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var ke=r.createContext(void 0);function Ee(){let e=r.useContext(ke);return ve(e,"You must render this element inside a <HydratedRouter> element"),e}function Se(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ce({page:e,...t}){let{router:n}=_e(),i=r.useMemo(()=>f(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?r.createElement(Ie,{page:e,matches:i,...t}):null}function Te(e){let{manifest:t,routeModules:n}=Ee(),[i,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return function(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&(null==(o=i)||"string"!=typeof o.page)&&"script"===i.as&&i.href&&r.has(i.href))return e;var o;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(ye).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),i}function Ie({page:e,matches:t,...n}){let i=q(),{manifest:o,routeModules:a}=Ee(),{basename:s}=_e(),{loaderData:l,matches:c}=xe(),u=r.useMemo(()=>be(e,t,c,o,i,"data"),[e,t,c,o,i]),h=r.useMemo(()=>be(e,t,c,o,i,"assets"),[e,t,c,o,i]),d=r.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let n=new Set,r=!1;if(t.forEach(e=>{let t=o.routes[e.route.id];t&&t.hasLoader&&(!u.some(t=>t.route.id===e.route.id)&&e.route.id in l&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?r=!0:n.add(e.route.id))}),0===n.size)return[];let c=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===T(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,s,"data");return r&&n.size>0&&c.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[s,l,i,o,u,t,e,a]),f=r.useMemo(()=>we(h,o),[h,o]),p=Te(h);return r.createElement(r.Fragment,null,d.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),f.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),p.map(({key:e,link:t})=>r.createElement("link",{key:e,nonce:n.nonce,...t})))}ke.displayName="FrameworkContext";function Ne(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}r.Component;var Pe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Pe&&(window.__reactRouterVersion="7.9.4")}catch(e){}function Ae({basename:e,children:t,window:n}){let i=r.useRef();null==i.current&&(i.current=a({window:n,v5Compat:!0}));let o=i.current,[s,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>o.listen(c),[o,c]),r.createElement(le,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}var Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=r.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,...g},m){let v,{basename:y}=r.useContext(V),b="string"==typeof d&&Re.test(d),w=!1;if("string"==typeof d&&b&&(v=d,Pe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=T(t.pathname,y);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:w=!0}catch(e){l(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(e,{relative:t}={}){s($(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(V),{hash:o,pathname:a,search:l}=Q(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:A([n,a])),i.createHref({pathname:c,search:l,hash:o})}(d,{relative:i}),[x,k,E]=function(e,t){let n=r.useContext(ke),[i,o]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{o(!0)},g=()=>{o(!1),s(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:Se(l,p),onBlur:Se(c,g),onMouseEnter:Se(u,p),onMouseLeave:Se(h,g),onTouchStart:Se(d,p)}]:[!1,f,{}]}(n,g),S=function(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s}={}){let l=Y(),c=q(),u=Q(e,{relative:a});return r.useCallback(r=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(r,t)){r.preventDefault();let t=void 0!==n?n:h(c)===h(u);l(e,{replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,n,i,t,e,o,a,s])}(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p}),C=r.createElement("a",{...g,...E,href:v||_,onClick:w||o?e:function(t){e&&e(t),t.defaultPrevented||S(t)},ref:Ne(m,k),target:u,"data-discover":b||"render"!==t?void 0:"true"});return x&&!b?r.createElement(r.Fragment,null,C,r.createElement(Ce,{page:_})):C});De.displayName="Link";var Me=r.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:l,children:c,...u},h){let d=Q(a,{relative:u.relative}),f=q(),p=r.useContext(j),{navigator:g,basename:m}=r.useContext(V),v=null!=p&&function(e,{relative:t}={}){let n=r.useContext(U);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Le("useViewTransitionState"),o=Q(e,{relative:t});if(!n.isTransitioning)return!1;let a=T(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=T(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=S(o.pathname,l)||null!=S(o.pathname,a)}(d)&&!0===l,y=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,b=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&m&&(w=T(w,m)||w);const _="/"!==y&&y.endsWith("/")?y.length-1:y.length;let x,k=b===y||!i&&b.startsWith(y)&&"/"===b.charAt(_),E=null!=w&&(w===y||!i&&w.startsWith(y)&&"/"===w.charAt(y.length)),C={isActive:k,isPending:E,isTransitioning:v},I=k?e:void 0;x="function"==typeof n?n(C):[n,k?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let N="function"==typeof o?o(C):o;return r.createElement(De,{...u,"aria-current":I,className:x,ref:h,style:N,to:a,viewTransition:l},"function"==typeof c?c(C):c)});Me.displayName="NavLink";var Oe=r.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:a,method:l=he,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...g},m)=>{let v=function(){let{router:e}=Le("useSubmit"),{basename:t}=r.useContext(V),n=re("useRouteId");return r.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=function(e,t){let n,r,i,o,a;if(fe(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?T(a,t):null,n=e.getAttribute("method")||he,i=me(e.getAttribute("enctype"))||de,o=new FormData(e)}else if(function(e){return fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?T(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||he,i=me(e.getAttribute("formenctype"))||me(a.getAttribute("enctype"))||de,o=new FormData(a,e),!function(){if(null===pe)try{new FormData(document.createElement("form"),0),pe=!1}catch(e){pe=!0}return pe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=he,r=null,i=de,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}(r,t);if(!1===i.navigate){let t=i.fetcherKey||ze();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}(),y=function(e,{relative:t}={}){let{basename:n}=r.useContext(V),i=r.useContext(H);s(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Q(e||".",{relative:t})},l=q();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}return e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(a.pathname="/"===a.pathname?n:A([n,a.pathname])),h(a)}(c,{relative:d}),b="get"===l.toLowerCase()?"get":"post",w="string"==typeof c&&Re.test(c);return r.createElement("form",{ref:m,method:b,action:y,onSubmit:i?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,i=r?.getAttribute("formmethod")||l;v(r||e.currentTarget,{fetcherKey:t,method:i,navigate:n,replace:o,state:a,relative:d,preventScrollReset:f,viewTransition:p})},...g,"data-discover":w||"render"!==e?void 0:"true"})});function Le(e){let t=r.useContext(z);return s(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Oe.displayName="Form";var Fe=0,ze=()=>`__${String(++Fe)}__`;const je=function(e,t){if(!e)throw Ue(t)},Ue=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},Ve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,c=i>>2,u=(3&i)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new He;const l=i<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class He extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(e){const t=Ve(e);return Be.encodeByteArray(t,!0)},$e=function(e){return We(e).replace(/\./g,"")},qe=function(e){try{return Be.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ke(e){return Ge(void 0,e)}function Ge(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ye(n)&&(e[n]=Ge(e[n],t[n]));return e}function Ye(e){return"__proto__"!==e}const Qe=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&qe(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Xe=e=>Qe()?.emulatorHosts?.[e],Je=e=>{const t=Xe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ze=()=>Qe()?.config,et=e=>Qe()?.[`_${e}`];class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function nt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rt(e){return(await fetch(e,{credentials:"include"})).ok}function it(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(o)),""].join(".")}const ot={};let at=!1;function st(e,t){if("undefined"==typeof window||"undefined"==typeof document||!nt(window.location.host)||ot[e]===t||ot[e]||at)return;function n(e){return`__firebase__banner__${e}`}ot[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(ot))ot[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),s=document.getElementById(a)||document.createElement("a"),l=n("preprendIcon"),c=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(s,a);const n=function(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{at=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,l),t.append(c,o,s,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ut(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){return!function(){const e=Qe()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ft(){try{return"object"==typeof indexedDB}catch(e){return!1}}function pt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}class gt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(vt,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new gt(r,a,n)}}const vt=/\{\$([^}]+)}/g;function yt(e){return JSON.parse(e)}function bt(e){return JSON.stringify(e)}const wt=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=yt(qe(o[0])||""),n=yt(qe(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function _t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function kt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Et(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function St(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ct(n)&&Ct(o)){if(!St(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Ct(e){return null!==e&&"object"==typeof e}function Tt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function It(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Pt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^a&(s^l),i=1518500249):(r=a^s^l,i=1859775393):e<60?(r=a&s|l&(a|s),i=2400959708):(r=a^s^l,i=3395469782);const t=(o<<5|o>>>27)+r+c+i+n[e]&4294967295;c=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class At{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rt),void 0===r.error&&(r.error=Rt),void 0===r.complete&&(r.complete=Rt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rt(){}function Dt(e,t){return`${e} failed: ${t} argument `}const Mt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ot(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Lt(e){return e&&e._delegate?e._delegate:e}class Ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zt="[DEFAULT]";class jt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new tt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zt})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=zt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=zt){return this.instances.has(e)}getOptions(e=zt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===zt?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=zt){return this.component?this.component.multipleInstances?e:zt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Vt=[];var Bt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bt||(Bt={}));const Ht={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Wt=Bt.INFO,$t={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},qt=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=$t[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Kt{constructor(e){this.name=e,this._logLevel=Wt,this._logHandler=qt,this._userLogHandler=null,Vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}let Gt,Yt;const Qt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,Zt=new WeakMap,en=new WeakMap;let tn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nn(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(on(this),e),rn(Qt.get(this))}:function(...e){return rn(t.apply(on(this),e))}:function(e,...n){const r=t.call(on(this),e,...n);return Jt.set(r,e.sort?e.sort():[e]),rn(r)}:(e instanceof IDBTransaction&&function(e){if(Xt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Xt.set(e,t)}(e),n=e,(Gt||(Gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,tn):e);var t,n}function rn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(rn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Qt.set(t,e)}).catch(()=>{}),en.set(t,e),t}(e);if(Zt.has(e))return Zt.get(e);const t=nn(e);return t!==e&&(Zt.set(e,t),en.set(t,e)),t}const on=e=>en.get(e);function an(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=rn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(rn(a.result),e.oldVersion,e.newVersion,rn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const sn=["get","getKey","getAll","getAllKeys","count"],ln=["put","add","delete","clear"],cn=new Map;function un(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(cn.get(t))return cn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ln.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sn.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return cn.set(t,o),o}var hn;hn=tn,tn={...hn,get:(e,t,n)=>un(e,t)||hn.get(e,t,n),has:(e,t)=>!!un(e,t)||hn.has(e,t)};class dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const fn="@firebase/app",pn="0.14.4",gn=new Kt("@firebase/app"),mn="@firebase/app-compat",vn="@firebase/analytics-compat",yn="@firebase/analytics",bn="@firebase/app-check-compat",wn="@firebase/app-check",_n="@firebase/auth",xn="@firebase/auth-compat",kn="@firebase/database",En="@firebase/data-connect",Sn="@firebase/database-compat",Cn="@firebase/functions",Tn="@firebase/functions-compat",In="@firebase/installations",Nn="@firebase/installations-compat",Pn="@firebase/messaging",An="@firebase/messaging-compat",Rn="@firebase/performance",Dn="@firebase/performance-compat",Mn="@firebase/remote-config",On="@firebase/remote-config-compat",Ln="@firebase/storage",Fn="@firebase/storage-compat",zn="@firebase/firestore",jn="@firebase/ai",Un="@firebase/firestore-compat",Vn="firebase",Bn="[DEFAULT]",Hn={[fn]:"fire-core",[mn]:"fire-core-compat",[yn]:"fire-analytics",[vn]:"fire-analytics-compat",[wn]:"fire-app-check",[bn]:"fire-app-check-compat",[_n]:"fire-auth",[xn]:"fire-auth-compat",[kn]:"fire-rtdb",[En]:"fire-data-connect",[Sn]:"fire-rtdb-compat",[Cn]:"fire-fn",[Tn]:"fire-fn-compat",[In]:"fire-iid",[Nn]:"fire-iid-compat",[Pn]:"fire-fcm",[An]:"fire-fcm-compat",[Rn]:"fire-perf",[Dn]:"fire-perf-compat",[Mn]:"fire-rc",[On]:"fire-rc-compat",[Ln]:"fire-gcs",[Fn]:"fire-gcs-compat",[zn]:"fire-fst",[Un]:"fire-fst-compat",[jn]:"fire-vertex","fire-js":"fire-js",[Vn]:"fire-js-all"},Wn=new Map,$n=new Map,qn=new Map;function Kn(e,t){try{e.container.addComponent(t)}catch(n){gn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gn(e){const t=e.name;if(qn.has(t))return gn.debug(`There were multiple attempts to register component ${t}.`),!1;qn.set(t,e);for(const t of Wn.values())Kn(t,e);for(const t of $n.values())Kn(t,e);return!0}function Yn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Qn(e){return null!=e&&void 0!==e.settings}const Xn=new mt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jn{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Zn="12.4.0";function er(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r={name:Bn,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=Ze()),!n)throw Xn.create("no-options");const o=Wn.get(i);if(o){if(St(n,o.options)&&St(r,o.config))return o;throw Xn.create("duplicate-app",{appName:i})}const a=new Ut(i);for(const e of qn.values())a.addComponent(e);const s=new Jn(n,r,a);return Wn.set(i,s),s}function tr(e=Bn){const t=Wn.get(e);if(!t&&e===Bn&&Ze())return er();if(!t)throw Xn.create("no-app",{appName:e});return t}function nr(e,t,n){let r=Hn[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void gn.warn(e.join(" "))}Gn(new Ft(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const rr="firebase-heartbeat-store";let ir=null;function or(){return ir||(ir=an("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(rr)}catch(e){console.warn(e)}}}).catch(e=>{throw Xn.create("idb-open",{originalErrorMessage:e.message})})),ir}async function ar(e,t){try{const n=(await or()).transaction(rr,"readwrite"),r=n.objectStore(rr);await r.put(t,sr(e)),await n.done}catch(e){if(e instanceof gt)gn.warn(e.message);else{const t=Xn.create("idb-set",{originalErrorMessage:e?.message});gn.warn(t.message)}}}function sr(e){return`${e.name}!${e.options.appId}`}class lr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ur(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=cr();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gn.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=cr(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),hr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=$e(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return gn.warn(e),""}}}function cr(){return(new Date).toISOString().substring(0,10)}class ur{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ft()&&pt().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await or()).transaction(rr),n=await t.objectStore(rr).get(sr(e));return await t.done,n}catch(e){if(e instanceof gt)gn.warn(e.message);else{const t=Xn.create("idb-get",{originalErrorMessage:e?.message});gn.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ar(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ar(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function hr(e){return $e(JSON.stringify({version:2,heartbeats:e})).length}Gn(new Ft("platform-logger",e=>new dn(e),"PRIVATE")),Gn(new Ft("heartbeat",e=>new lr(e),"PRIVATE")),nr(fn,pn,""),nr(fn,pn,"esm2020"),nr("fire-js","");const dr=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fr=new mt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pr=new Kt("@firebase/auth");function gr(e,...t){pr.logLevel<=Bt.ERROR&&pr.error(`Auth (${Zn}): ${e}`,...t)}function mr(e,...t){throw wr(e,...t)}function vr(e,...t){return wr(e,...t)}function yr(e,t,n){const r={...dr(),[t]:n};return new mt("auth","Firebase",r).create(t,{appName:e.name})}function br(e){return yr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wr(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return fr.create(e,...t)}function _r(e,t,...n){if(!e)throw wr(t,...n)}function xr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gr(t),new Error(t)}function kr(e,t){e||xr(t)}function Er(){return"undefined"!=typeof self&&self.location?.href||""}function Sr(){return"undefined"!=typeof self&&self.location?.protocol||null}class Cr{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=ct()||ht()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Sr()||"https:"===Sr()||ut()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Tr(e,t){kr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ir{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ar=new Cr(3e4,6e4);function Rr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Dr(e,t,n,r,i={}){return Mr(e,i,async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Tt({key:e.config.apiKey,...o}).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:s,...i};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&nt(e.emulatorConfig.host)&&(l.credentials="include"),Ir.fetch()(await Lr(e,e.config.apiHost,n,a),l)})}async function Mr(e,t,n){e._canInitEmulator=!1;const r={...Nr,...t};try{const t=new zr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw jr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw jr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw jr(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw yr(e,s,a);mr(e,s)}}catch(t){if(t instanceof gt)throw t;mr(e,"network-request-failed",{message:String(t)})}}async function Or(e,t,n,r,i={}){const o=await Dr(e,t,n,r,i);return"mfaPendingCredential"in o&&mr(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Lr(e,t,n,r){const i=`${t}${n}?${r}`,o=e,a=o.config.emulator?Tr(e.config,i):`${e.config.apiScheme}://${i}`;return Pr.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(a).toString():a}function Fr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(vr(this.auth,"network-request-failed")),Ar.get())})}}function jr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(e,t,r);return i.customData._tokenResponse=n,i}function Ur(e){return void 0!==e&&void 0!==e.enterprise}class Vr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Br(e,t){return Dr(e,"GET","/v2/recaptchaConfig",Rr(e,t))}async function Hr(e,t){return Dr(e,"POST","/v1/accounts:lookup",t)}function Wr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function $r(e){return 1e3*Number(e)}function qr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gr("JWT malformed, contained fewer than 3 sections"),null;try{const e=qe(n);return e?JSON.parse(e):(gr("Failed to decode base64 JWT payload"),null)}catch(e){return gr("Caught error parsing JWT payload as JSON",e?.toString()),null}}function Kr(e){const t=qr(e);return _r(t,"internal-error"),_r(void 0!==t.exp,"internal-error"),_r(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Gr(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof gt&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Yr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class Qr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xr(e){const t=e.auth,n=await e.getIdToken(),r=await Gr(e,Hr(t,{idToken:n}));_r(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const o=i.providerUserInfo?.length?Jr(i.providerUserInfo):[],a=(s=e.providerData,l=o,[...s.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var s,l;const c=e.isAnonymous,u=!(e.email&&i.passwordHash||a?.length),h=!!c&&u,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qr(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,d)}function Jr(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_r(e.idToken,"internal-error"),_r(void 0!==e.idToken,"internal-error"),_r(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Kr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_r(0!==e.length,"internal-error");const t=Kr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(_r(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Mr(e,{},async()=>{const n=Tt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Lr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&nt(e.emulatorConfig.host)&&(s.credentials="include"),Ir.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Zr;return n&&(_r("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_r("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(_r("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return xr("not implemented")}}function ei(e,t){_r("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ti{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Qr(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Gr(this,this.stsTokenManager.getToken(this.auth,e));return _r(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Lt(e),r=await n.getIdToken(t),i=qr(r);_r(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Wr($r(i.auth_time)),issuedAtTime:Wr($r(i.iat)),expirationTime:Wr($r(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Lt(e);await Xr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_r(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_r(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Gr(this,async function(e,t){return Dr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:h,isAnonymous:d,providerData:f,stsTokenManager:p}=t;_r(u&&p,e,"internal-error");const g=Zr.fromJSON(this.name,p);_r("string"==typeof u,e,"internal-error"),ei(n,e.name),ei(r,e.name),_r("boolean"==typeof h,e,"internal-error"),_r("boolean"==typeof d,e,"internal-error"),ei(i,e.name),ei(o,e.name),ei(a,e.name),ei(s,e.name),ei(l,e.name),ei(c,e.name);const m=new ti({uid:u,auth:e,email:r,emailVerified:h,displayName:n,isAnonymous:d,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:g,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(m.providerData=f.map(e=>({...e}))),s&&(m._redirectEventId=s),m}static async _fromIdTokenResponse(e,t,n=!1){const r=new Zr;r.updateFromServerResponse(t);const i=new ti({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_r(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Jr(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||i?.length),a=new Zr;a.updateFromIdToken(n);const s=new ti({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Qr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||i?.length)};return Object.assign(s,l),s}}const ni=new Map;function ri(e){kr(e instanceof Function,"Expected a class definition");let t=ni.get(e);return t?(kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ni.set(e,t),t)}class ii{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ii.type="NONE";const oi=ii;function ai(e,t,n){return`firebase:${e}:${t}:${n}`}class si{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ai(this.userKey,r.apiKey,i),this.fullPersistenceKey=ai("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await Hr(this.auth,{idToken:e}).catch(()=>{});return t?ti._fromGetAccountInfoResponse(this.auth,t,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new si(ri(oi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ri(oi);const o=ai(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){let r;if("string"==typeof t){const n=await Hr(e,{idToken:t}).catch(()=>{});if(!n)break;r=await ti._fromGetAccountInfoResponse(e,n,t)}else r=ti._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch{}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch{}})),new si(i,e,n)):new si(i,e,n)}}function li(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(di(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ci(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pi(t))return"Blackberry";if(gi(t))return"Webos";if(ui(t))return"Safari";if((t.includes("chrome/")||hi(t))&&!t.includes("edge/"))return"Chrome";if(fi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function ci(e=lt()){return/firefox\//i.test(e)}function ui(e=lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hi(e=lt()){return/crios\//i.test(e)}function di(e=lt()){return/iemobile/i.test(e)}function fi(e=lt()){return/android/i.test(e)}function pi(e=lt()){return/blackberry/i.test(e)}function gi(e=lt()){return/webos/i.test(e)}function mi(e=lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vi(e=lt()){return mi(e)||fi(e)||gi(e)||pi(e)||/windows phone/i.test(e)||di(e)}function yi(e,t=[]){let n;switch(e){case"Browser":n=li(lt());break;case"Worker":n=`${li(lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zn}/${r}`}class bi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}class wi{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class _i{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ki(this),this.idTokenSubscription=new ki(this),this.beforeStateQueue=new bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await si.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Hr(this,{idToken:e}),n=await ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==i||!o?.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return _r(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xr(e)}catch(e){if("auth/network-request-failed"!==e?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(br(this));const t=e?Lt(e):null;return t&&_r(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_r(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Dr(e,"GET","/v2/passwordPolicy",Rr(e,t))}(this),t=new wi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Dr(e,"POST","/v2/accounts:revokeToken",Rr(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;_r(t,this,"argument-error"),this.redirectPersistenceManager=await si.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_r(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _r(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e,...t){pr.logLevel<=Bt.WARN&&pr.warn(`Auth (${Zn}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xi(e){return Lt(e)}class ki{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e){const t=new At(e,void 0);return t.subscribe.bind(t)}(e=>this.observer=e)}get next(){return _r(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ei={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Si(e){return Ei.loadJS(e)}function Ci(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ti{constructor(){this.enterprise=new Ii}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ii{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ni="NO_RECAPTCHA";class Pi{constructor(e){this.type="recaptcha-enterprise",this.auth=xi(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;Ur(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ni)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?(new Ti).execute("siteKey",{action:"verify"}):new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Br(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Vr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ur(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ei.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Si(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ai(e,t,n,r=!1,i=!1){const o=new Pi(e);let a;if(i)a=Ni;else try{a=await o.verify(n)}catch(e){a=await o.verify(n,!0)}const s={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ri(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ai(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ai(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await Ai(e,t,n);return r(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ai(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ai(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}function Di(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,t){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function Li(e,t){return Dr(e,"POST","/v1/accounts:signUp",t)}async function Fi(e,t){return Or(e,"POST","/v1/accounts:signInWithPassword",Rr(e,t))}class zi extends Oi{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zi(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zi(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ri(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Or(e,"POST","/v1/accounts:signInWithEmailLink",Rr(e,t))}(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ri(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Li,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Or(e,"POST","/v1/accounts:signInWithEmailLink",Rr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ji(e,t){return Or(e,"POST","/v1/accounts:signInWithIdp",Rr(e,t))}class Ui extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...i}=t;if(!n||!r)return null;const o=new Ui(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ji(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ji(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ji(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tt(t)}return e}}async function Vi(e,t){return Dr(e,"POST","/v1/accounts:sendVerificationCode",Rr(e,t))}const Bi={USER_NOT_FOUND:"user-not-found"};class Hi extends Oi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Or(e,"POST","/v1/accounts:signInWithPhoneNumber",Rr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Or(e,"POST","/v1/accounts:signInWithPhoneNumber",Rr(e,t));if(n.temporaryProof)throw jr(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Or(e,"POST","/v1/accounts:signInWithPhoneNumber",Rr(e,{...t,operation:"REAUTH"}),Bi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Hi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Wi{constructor(e){const t=It(Nt(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);_r(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=It(Nt(e)).link,n=t?It(Nt(t)).deep_link_id:null,r=It(Nt(e)).deep_link_id;return(r?It(Nt(r)).link:null)||r||n||t||e}(e);try{return new Wi(t)}catch{return null}}}class $i{constructor(){this.providerId=$i.PROVIDER_ID}static credential(e,t){return zi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Wi.parseLink(t);return _r(n,"argument-error"),zi._fromEmailAndCode(e,n.code,n.tenantId)}}$i.PROVIDER_ID="password",$i.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ki extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gi extends Ki{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gi.PROVIDER_ID="facebook.com";class Yi extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ui._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Yi.credential(t,n)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com",Yi.PROVIDER_ID="google.com";class Qi extends Ki{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com",Qi.PROVIDER_ID="github.com";class Xi extends Ki{constructor(){super("twitter.com")}static credential(e,t){return Ui._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xi.credential(t,n)}catch{return null}}}async function Ji(e,t){return Or(e,"POST","/v1/accounts:signUp",Rr(e,t))}Xi.TWITTER_SIGN_IN_METHOD="twitter.com",Xi.PROVIDER_ID="twitter.com";class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ti._fromIdTokenResponse(e,n,r),o=eo(n);return new Zi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=eo(n);return new Zi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function eo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class to extends gt{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,to.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new to(e,t,n,r)}}function no(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw to._fromErrorAndOperation(e,n,t,r);throw n})}async function ro(e,t,n=!1){if(Qn(e.app))return Promise.reject(br(e));const r="signIn",i=await no(e,r,t),o=await Zi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function io(e){const t=xi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function oo(e,t){return Dr(e,"POST","/v2/accounts/mfaEnrollment:start",Rr(e,t))}new WeakMap;const ao="__sak";class so{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ao,"1"),this.storage.removeItem(ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class lo extends so{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lo.type="LOCAL";const co=lo;class uo extends so{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uo.type="SESSION";const ho=uo;class fo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new fo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function po(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}fo.receivers=[];class go{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=po("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function mo(){return window}function vo(){return void 0!==mo().WorkerGlobalScope&&"function"==typeof mo().importScripts}const yo="firebaseLocalStorageDb",bo="firebaseLocalStorage",wo="fbase_key";class _o{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xo(e,t){return e.transaction([bo],t?"readwrite":"readonly").objectStore(bo)}function ko(){const e=indexedDB.open(yo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bo,{keyPath:wo})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(yo);return new _o(e).toPromise()}(),t(await ko()))})})}async function Eo(e,t,n){const r=xo(e,!0).put({[wo]:t,value:n});return new _o(r).toPromise()}function So(e,t){const n=xo(e,!0).delete(t);return new _o(n).toPromise()}class Co{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ko()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fo._getInstance(vo()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new go(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ko();return await Eo(e,ao,"1"),await So(e,ao),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Eo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=xo(e,!1).get(t),r=await new _o(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>So(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=xo(e,!1).getAll();return new _o(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Co.type="LOCAL";const To=Co;function Io(e,t){return Dr(e,"POST","/v2/accounts/mfaSignIn:start",Rr(e,t))}Ci("rcb"),new Cr(3e4,6e4);const No="recaptcha";async function Po(e,t,n){if(!e._getRecaptchaConfig())try{await async function(e){const t=xi(e),n=await Br(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vr(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new Pi(t).verify()}(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){_r("enroll"===t.type,e,"internal-error");const i=Ri(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},"mfaSmsEnrollment",async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===Ni?(_r(n?.type===No,e,"argument-error"),oo(e,await Ao(e,t,n))):oo(e,t),"PHONE_PROVIDER"),o=await i.catch(e=>Promise.reject(e));return o.phoneSessionInfo.sessionInfo}{_r("signin"===t.type,e,"internal-error");const i=r.multiFactorHint?.uid||r.multiFactorUid;_r(i,e,"missing-multi-factor-info");const o=Ri(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},"mfaSmsSignIn",async(e,t)=>t.phoneSignInInfo.captchaResponse===Ni?(_r(n?.type===No,e,"argument-error"),Io(e,await Ao(e,t,n))):Io(e,t),"PHONE_PROVIDER"),a=await o.catch(e=>Promise.reject(e));return a.phoneResponseInfo.sessionInfo}}{const t=Ri(e,{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},"sendVerificationCode",async(e,t)=>t.captchaResponse===Ni?(_r(n?.type===No,e,"argument-error"),Vi(e,await Ao(e,t,n))):Vi(e,t),"PHONE_PROVIDER"),i=await t.catch(e=>Promise.reject(e));return i.sessionInfo}}finally{n?._reset()}}async function Ao(e,t,n){_r(n.type===No,e,"argument-error");const r=await n.verify();_r("string"==typeof r,e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ro{constructor(e){this.providerId=Ro.PROVIDER_ID,this.auth=xi(e)}verifyPhoneNumber(e,t){return Po(this.auth,e,Lt(t))}static credential(e,t){return Hi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ro.credentialFromTaggedObject(t)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Hi._fromTokenResponse(t,n):null}}function Do(e,t){return t?ri(t):(_r(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ro.PROVIDER_ID="phone",Ro.PHONE_SIGN_IN_METHOD="phone";class Mo extends Oi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ji(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Oo(e){return ro(e.auth,new Mo(e),e.bypassAuthState)}function Lo(e){const{auth:t,user:n}=e;return _r(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e;if(Qn(r.app))return Promise.reject(br(r));const i="reauthenticate";try{const o=await Gr(e,no(r,i,t,e),n);_r(o.idToken,r,"internal-error");const a=qr(o.idToken);_r(a,r,"internal-error");const{sub:s}=a;return _r(e.uid===s,r,"user-mismatch"),Zi._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===e?.code&&mr(r,"user-mismatch"),e}}(n,new Mo(e),e.bypassAuthState)}async function Fo(e){const{auth:t,user:n}=e;return _r(n,t,"internal-error"),async function(e,t,n=!1){const r=await Gr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Zi._forOperation(e,"link",r)}(n,new Mo(e),e.bypassAuthState)}class zo{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oo;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:mr(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jo=new Cr(2e3,1e4);async function Uo(e,t,n){if(Qn(e.app))return Promise.reject(vr(e,"operation-not-supported-in-this-environment"));const r=xi(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mr(e,"argument-error"),yr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,qi);const i=Do(r,n);return new Vo(r,"signInViaPopup",t,i).executeNotNull()}class Vo extends zo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _r(e,this.auth,"internal-error"),e}async onExecution(){kr(1===this.filter.length,"Popup operations only handle one event");const e=po();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,jo.get())};e()}}Vo.currentPopupAction=null;const Bo=new Map;class Ho extends zo{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return ai("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return ri(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Wo(e,t){Bo.set(e._key(),t)}async function $o(e,t,n=!1){if(Qn(e.app))return Promise.reject(br(e));const r=xi(e),i=Do(r,t),o=new Ho(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class qo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Go(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Go(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ko(e))}saveEventToCache(e){this.cachedEventUids.add(Ko(e)),this.lastProcessedEventTime=Date.now()}}function Ko(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Go({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}const Yo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qo=/^https?/;function Xo(e){const t=Er(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qo.test(n))return!1;if(Yo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jo=new Cr(3e4,6e4);function Zo(){const e=mo().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function ea(e){return new Promise((t,n)=>{function r(){Zo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zo(),n(vr(e,"network-request-failed"))},timeout:Jo.get()})}if(mo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!mo().gapi?.load){const t=Ci("iframefcb");return mo()[t]=()=>{gapi.load?r():n(vr(e,"network-request-failed"))},Si(`${Ei.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw ta=null,e})}let ta=null;const na=new Cr(5e3,15e3),ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ia=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oa(e){const t=e.config;_r(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Zn},i=ia.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tt(r).slice(1)}`}const aa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const la=encodeURIComponent("fac");async function ca(e,t,n,r,i,o){_r(e.config.authDomain,e,"auth-domain-config-required"),_r(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zn,eventId:i};if(t instanceof qi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",kt(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Ki){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];const l=await e._getAppCheckToken(),c=l?`#${la}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?Tr(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Tt(s).slice(1)}${c}`}const ua="webStorageSupport",ha=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ho,this._completeRedirectFn=$o,this._overrideRedirectResult=Wo}async _openPopup(e,t,n,r){return kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...aa,width:r.toString(),height:i.toString(),top:o,left:a},c=lt().toLowerCase();n&&(s=hi(c)?"_blank":n),ci(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=lt()){return mi(e)&&!!window.navigator?.standalone}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new sa(null);const h=window.open(t||"",s,u);_r(h,e,"popup-blocked");try{h.focus()}catch(e){}return new sa(h)}(e,await ca(e,t,n,Er(),r),po())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await ca(e,t,n,Er(),r),mo().location.href=i,new Promise(()=>{});var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(kr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await function(e){return ta=ta||ea(e),ta}(e),n=mo().gapi;return _r(n,e,"internal-error"),t.open({where:document.body,url:oa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ra,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vr(e,"network-request-failed"),o=mo().setTimeout(()=>{r(i)},na.get());function a(){mo().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new qo(e);return t.register("authEvent",t=>(_r(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ua,{type:ua},n=>{const r=n?.[0]?.[ua];void 0!==r&&t(!!r),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Dr(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Xo(e))return}catch{}mr(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vi()||ui()||mi()}};var da="@firebase/auth",fa="1.11.0";class pa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_r(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ga=et("authIdTokenMaxAge")||300;let ma=null;var va,ya;va={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ei=va,ya="Browser",Gn(new Ft("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;_r(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:ya,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(ya)},l=new _i(n,r,i,s);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Gn(new Ft("auth-internal",e=>(e=>new pa(e))(xi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),nr(da,fa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ya)),nr(da,fa,"esm2020"),nr("firebase","12.4.0","app");var ba,wa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_a={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,a=e.g[3];o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[3]+3250441966&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[4]+4118548399&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[7]+4249261313&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[8]+1770035416&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[11]+2304563134&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[12]+1804603682&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[15]+1236535329&4294967295,o=t+(i^a&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[0]+3921069994&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[4]+3889429448&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[8]+1163531501&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^a)+r[5]+4294588738&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[1]+2763975236&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[13]+681279174&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[9]+3654602809&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~a))+r[0]+4096336452&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[12]+1700485571&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[8]+1873313359&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[4]+4149444226&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,a=0;for(;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e){var t=i;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=function(e){return new r([0|e],e<0?-1:0)}(e)}(e):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return d(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=a(n)).j(t);h(c)||c.l(e)>0;)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=m(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),a=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=o*s,p(n,2*i+2*t),n[2*i+2*t+1]+=r*s,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*a,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return m(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,_a.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=s;for(let e=0;e<t.length;e+=8){var o=Math.min(8,t.length-e);const s=parseInt(t.substring(e,e+o),n);o<8?(o=a(Math.pow(n,o)),i=i.j(o).add(a(s))):(i=i.j(r),i=i.add(a(s)))}return i},ba=_a.Integer=r}).apply(void 0!==wa?wa:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var xa,ka,Ea,Sa,Ca,Ta,Ia,Na,Pa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Aa={};(function(){var e,t=Object.defineProperty,n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Pa&&Pa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var h="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let t=1;t<arguments.length;t++){const r=arguments[t];var n=typeof r;if("array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length){n=e.length||0;const t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}function p(e){o.setTimeout(()=>{throw e},0)}function g(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var m=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=m.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){for(var e;e=g();){try{e.h.call(e.g)}catch(e){p(e)}var t=m;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var S=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,E),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),N=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function D(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const a=z(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new P(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var j="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)V(e,t[o],n,r,i);return null}return n=Q(n),e&&e[I]?e.J(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const s=a(i)?!!i.capture:!!i;let l=G(e);if(l||(e[j]=l=new L(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=K;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)S||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=Q(n),e&&e[I]?e.K(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=Q(n),e&&e[I]?(e=e.i,(o=String(t).toString())in e.g&&(n=z(t=e.g[o],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--))):e&&(e=G(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=e>-1?t[e]:null)&&$(n))}function $(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=G(t))?(F(n,e),0==n.h&&(n.src=null,t[j]=null)):A(e)}}}function q(e){return e in U?U[e]:U[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function G(e){return(e=e[j])instanceof L?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(e){return"function"==typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function X(){k.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;O(t=new E(r,e),i)}let o,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)o=t.g=n[a],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const a=t[o];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&F(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(X,k),X.prototype[I]=!0,X.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},X.prototype.N=function(){if(X.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},X.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},X.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,ae=o.JSON.parse,se=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){E.call(this,"d")}function de(){E.call(this,"c")}u(he,E),u(de,E);var fe={},pe=null;function ge(){return pe=pe||new X}function me(e){E.call(this,fe.Ia,e)}function ve(e){const t=ge();J(t,new me(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=ge();J(t,new ye(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function _e(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function xe(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(e){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(me,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(we,E),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var Ee,Se={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ie(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ee=new Te;var Re={},De={};function Me(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let e=0;e<i.length;e++){const o=V(n,i[e],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.J?D(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var a="",s=o.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,je(e,e.H)}function je(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=_e(l(e.aa,e),t)}function Ue(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ge(n.h,e)))if(!e.L&&Ge(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Ht(n)}Qt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=_e(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ye(o,o.h),o.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),a.L){Qe(r.h,a);var s=a,c=r.O;c&&(s.H=c),s.D&&(Ue(s),ze(s)),r.g=a}else Yt(r);n.i.length>0&&$t(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(e){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==zt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=zt(this.g),c=this.g.ya();if(this.g.ca(),!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||4!=l||7==c||ve(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=jt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==zt(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Be(e),Ve(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),Be(this),Ve(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==De){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Re){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),He(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xt(s),s.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ve(this)}else ke(this.i,this.l,n,null),He(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&zt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ve(this)}}}catch(e){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,Ve(this)):je(this,this.T-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,e=o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Ge(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Qe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xe(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}$e.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(gt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(mt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ct,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mt(e,t){gt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return gt(e),t=_t(e,t),e.g.has(t)}function yt(e,t){gt(e);let n=[];if("string"==typeof t)vt(e,t)&&(n=n.concat(e.g.get(_t(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){mt(e,t),n.length>0&&(e.i=null,e.g.set(_t(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function kt(){this.g=new se}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function St(e,t){X.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ct(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"==typeof e?null!=n&&Ie(n):it(e,t,n))}function At(e){X.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){gt(this),this.i=null,e=_t(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){gt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return gt(this),this.i=null,vt(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new St(this.i,this.h)},u(St,X),(e=St.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):It(this),3==this.readyState&&Ct(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(St.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,X);var Rt=/^https?$/i,Dt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Ft(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&void 0!==i)if(e.v&&4==zt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==zt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Rt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var a=zt(e)>2?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.ca()+"]",Ot(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const n=e.g;e.g=null,t||J(e,"ready");try{n.onreadystatechange=null}catch(e){}}}function zt(e){return e.g?e.g.readyState:0}function jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new $e(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Wt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Kt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}rn(e)}function Ht(e){e.g&&(Xt(e),e.g.cancel(),e.g=null)}function Wt(e){Ht(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"==typeof e.m&&o.clearTimeout(e.m),e.m=null)}function $t(e){if(!qe(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||_(),b||(y(),b=!0),w.add(t,e),e.D=0}}function qt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Kt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Gt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Me(n,r,t)}function Kt(e,t){e.H&&R(e.H,function(e,n){it(t,n,e)}),e.l&&R({},function(e,n){it(t,n,e)})}function Gt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;a(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(t){throw e.push(o+"type="+encodeURIComponent("_badmap")),t}}catch(e){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||_(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Qt(e){return!(e.g||e.v||e.A>=3||(e.Y++,e.v=_e(l(e.Da,e),tn(e,e.A)),e.A++,0))}function Xt(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Xt(e),e.g=null;var r=2}else{if(!Ge(e.h,t))return;n=t.G,Qe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=ge(),new we(r,n)),$t(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=_e(l(e.Ea,e,t),tn(e,e.D)),e.D++,0)))}(e,t)||2==r&&Qt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new xe;if(o.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Wt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Xe(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Kt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new Et({ab:n})):new At(e.ma)).Fa(e.L),t}function sn(){}function ln(){}function cn(e,t){X.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void Mt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Dt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(e){Mt(this,e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return zt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),$t(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let o=this.o;if(this.U&&(o?(o=D(o),O(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Kt(this,n),o&&(this.R?t="headers="+Ie(Nt(o))+"&"+t:this.u&&Pt(n,this.u,o)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Me(i,n,null)):Me(i,n,t),this.I=2}}else 3==this.I&&(e?qt(this,e):0==this.i.length||qe(this.h)||qt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=_e(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ht(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Qt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,X),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.I&&$t(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,sn),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Na=Aa.createWebChannelTransport=function(){return new ln},Ia=Aa.getStatEventTarget=function(){return ge()},Ta=Aa.Event=fe,Ca=Aa.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Sa=Aa.ErrorCode=Se,Ce.COMPLETE="complete",Ea=Aa.EventType=Ce,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",X.prototype.listen=X.prototype.J,ka=Aa.WebChannel=ce,Aa.FetchXmlHttpFactory=Et,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,xa=Aa.XhrIo=At}).apply(void 0!==Pa?Pa:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Ra="@firebase/firestore",Da="4.9.2";class Ma{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ma.UNAUTHENTICATED=new Ma(null),Ma.GOOGLE_CREDENTIALS=new Ma("google-credentials-uid"),Ma.FIRST_PARTY=new Ma("first-party-uid"),Ma.MOCK_USER=new Ma("mock-user");let Oa="12.3.0";const La=new Kt("@firebase/firestore");function Fa(){return La.logLevel}function za(e,...t){if(La.logLevel<=Bt.DEBUG){const n=t.map(Va);La.debug(`Firestore (${Oa}): ${e}`,...n)}}function ja(e,...t){if(La.logLevel<=Bt.ERROR){const n=t.map(Va);La.error(`Firestore (${Oa}): ${e}`,...n)}}function Ua(e,...t){if(La.logLevel<=Bt.WARN){const n=t.map(Va);La.warn(`Firestore (${Oa}): ${e}`,...n)}}function Va(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ba(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ha(e,r,n)}function Ha(e,t,n){let r=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ja(r),new Error(r)}function Wa(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Ha(t,i,r)}function $a(e,t){return e}const qa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ka extends gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ga{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ya{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ma.UNAUTHENTICATED))}shutdown(){}}class Xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ja{constructor(e){this.t=e,this.currentUser=Ma.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Wa(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ga,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{za("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(za("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ga)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(za("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wa("string"==typeof t.accessToken,31837,{l:t}),new Ya(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wa(null===e||"string"==typeof e,2055,{h:e}),new Ma(e)}}class Za{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ma.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class es{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Za(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ma.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ts{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ns{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Wa(void 0===this.o,3512);const n=e=>{null!=e.error&&za("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,za("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{za("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):za("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ts(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Wa("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ts(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class is{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=rs(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function os(e,t){return e<t?-1:e>t?1:0}function as(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return cs(n)===cs(i)?os(n,i):cs(n)?1:-1}return os(e.length,t.length)}const ss=55296,ls=57343;function cs(e){const t=e.charCodeAt(0);return t>=ss&&t<=ls}function us(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const hs="__name__";class ds{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ba(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ba(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ds.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return os(e.length,t.length)}static compareSegments(e,t){const n=ds.isNumericId(e),r=ds.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ds.extractNumericId(e).compare(ds.extractNumericId(t)):as(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class fs extends ds{construct(e,t,n){return new fs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ka(qa.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new fs(t)}static emptyPath(){return new fs([])}}const ps=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gs extends ds{construct(e,t,n){return new gs(e,t,n)}static isValidIdentifier(e){return ps.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===hs}static keyField(){return new gs([hs])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ka(qa.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ka(qa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ka(qa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ka(qa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gs(t)}static emptyPath(){return new gs([])}}class ms{constructor(e){this.path=e}static fromPath(e){return new ms(fs.fromString(e))}static fromName(e){return new ms(fs.fromString(e).popFirst(5))}static empty(){return new ms(fs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ms(new fs(e.slice()))}}function vs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ka(qa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ba(12329,{type:typeof e})}(e);throw new Ka(qa.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ys(e,t){const n={typeString:e};return t&&(n.value=t),n}function bs(e,t){if(!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(e))throw new Ka(qa.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ka(qa.INVALID_ARGUMENT,n);return!0}const ws=-62135596800,_s=1e6;class xs{static now(){return xs.fromMillis(Date.now())}static fromDate(e){return xs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*_s);return new xs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ka(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ka(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ws)throw new Ka(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ka(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_s}_compareTo(e){return this.seconds===e.seconds?os(this.nanoseconds,e.nanoseconds):os(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bs(e,xs._jsonSchema))return new xs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ws;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xs._jsonSchemaVersion="firestore/timestamp/1.0",xs._jsonSchema={type:ys("string",xs._jsonSchemaVersion),seconds:ys("number"),nanoseconds:ys("number")};class ks{static fromTimestamp(e){return new ks(e)}static min(){return new ks(new xs(0,0))}static max(){return new ks(new xs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Es(e){return new Ss(e.readTime,e.key,-1)}class Ss{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ss(ks.min(),ms.empty(),-1)}static max(){return new Ss(ks.max(),ms.empty(),-1)}}function Cs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ms.comparator(e.documentKey,t.documentKey),0!==n?n:os(e.largestBatchId,t.largestBatchId))}class Ts{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Is{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ba(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Is((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Is?t:Is.resolve(t)}catch(e){return Is.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Is.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Is.reject(t)}static resolve(e){return new Is((t,n)=>{t(e)})}static reject(e){return new Is((t,n)=>{n(e)})}static waitFor(e){return new Is((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Is.resolve(!1);for(const n of e)t=t.next(e=>e?Is.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Is((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Is((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ns(e){return"IndexedDbTransactionError"===e.name}class Ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ps.ce=-1;function As(e){return null==e}function Rs(e){return 0===e&&1/e==-1/0}const Ds="owner",Ms="mutationQueues",Os="mutations",Ls="documentMutations",Fs="remoteDocumentGlobal",zs="targets",js="targetDocuments",Us="targetGlobal",Vs="collectionParents",Bs="clientMetadata",Hs="bundles",Ws="namedQueries";function $s(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}class Ks{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new Ks(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new Ks(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gs(this.root,e,this.comparator,!0)}}class Gs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ys.RED,this.left=null!=r?r:Ys.EMPTY,this.right=null!=i?i:Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ys(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ys.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ba(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ba(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ba(27949);return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Ba(57766)}get value(){throw Ba(16141)}get color(){throw Ba(16727)}get left(){throw Ba(29726)}get right(){throw Ba(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ys(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qs{constructor(e){this.comparator=e,this.data=new Ks(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xs(this.data.getIterator())}getIteratorFrom(e){return new Xs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Qs))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qs(this.comparator);return t.data=e,t}}class Xs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Js{constructor(e){this.fields=e,e.sort(gs.comparator)}static empty(){return new Js([])}unionWith(e){let t=new Qs(gs.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Zs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class el{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Zs("Invalid base64 string: "+e):e}}(e);return new el(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new el(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return os(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}el.EMPTY_BYTE_STRING=new el("");const tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nl(e){if(Wa(!!e,39018),"string"==typeof e){let t=0;const n=tl.exec(e);if(Wa(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rl(e.seconds),nanos:rl(e.nanos)}}function rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function il(e){return"string"==typeof e?el.fromBase64String(e):el.fromUint8Array(e)}const ol="server_timestamp",al="__type__",sl="__previous_value__",ll="__local_write_time__";function cl(e){const t=(e?.mapValue?.fields||{})[al]?.stringValue;return t===ol}function ul(e){const t=e.mapValue.fields[sl];return cl(t)?ul(t):t}function hl(e){const t=nl(e.mapValue.fields[ll].timestampValue);return new xs(t.seconds,t.nanos)}const dl="(default)";class fl{constructor(e,t){this.projectId=e,this.database=t||dl}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===dl}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}const pl="__max__",gl={fields:{__type__:{stringValue:pl}}},ml="value";function vl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cl(e)?4:Pl(e)?9007199254740991:Il(e)?10:11:Ba(28295,{value:e})}function yl(e,t){if(e===t)return!0;const n=vl(e);if(n!==vl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hl(e).isEqual(hl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=nl(e.timestampValue),r=nl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return il(e.bytesValue).isEqual(il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rl(e.geoPointValue.latitude)===rl(t.geoPointValue.latitude)&&rl(e.geoPointValue.longitude)===rl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rl(e.integerValue)===rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=rl(e.doubleValue),r=rl(t.doubleValue);return n===r?Rs(n)===Rs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return us(e.arrayValue.values||[],t.arrayValue.values||[],yl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($s(n)!==$s(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!yl(n[e],r[e])))return!1;return!0}(e,t);default:return Ba(52216,{left:e})}}function bl(e,t){return void 0!==(e.values||[]).find(e=>yl(e,t))}function wl(e,t){if(e===t)return 0;const n=vl(e),r=vl(t);if(n!==r)return os(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return os(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=rl(e.integerValue||e.doubleValue),r=rl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _l(e.timestampValue,t.timestampValue);case 4:return _l(hl(e),hl(t));case 5:return as(e.stringValue,t.stringValue);case 6:return function(e,t){const n=il(e),r=il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=os(n[e],r[e]);if(0!==t)return t}return os(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=os(rl(e.latitude),rl(t.latitude));return 0!==n?n:os(rl(e.longitude),rl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return xl(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[ml]?.arrayValue,o=r[ml]?.arrayValue,a=os(i?.values?.length||0,o?.values?.length||0);return 0!==a?a:xl(i,o)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===gl&&t===gl)return 0;if(e===gl)return 1;if(t===gl)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=as(r[e],o[e]);if(0!==t)return t;const a=wl(n[r[e]],i[o[e]]);if(0!==a)return a}return os(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ba(23264,{he:n})}}function _l(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return os(e,t);const n=nl(e),r=nl(t),i=os(n.seconds,r.seconds);return 0!==i?i:os(n.nanos,r.nanos)}function xl(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=wl(n[e],r[e]);if(t)return t}return os(n.length,r.length)}function kl(e){return El(e)}function El(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=nl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return il(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ms.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=El(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${El(e.fields[i])}`;return n+"}"}(e.mapValue):Ba(61005,{value:e})}function Sl(e){return!!e&&"integerValue"in e}function Cl(e){return!!e&&"arrayValue"in e}function Tl(e){return!!e&&"mapValue"in e}function Il(e){const t=(e?.mapValue?.fields||{}).__type__?.stringValue;return"__vector__"===t}function Nl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return qs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Nl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(e.arrayValue.values[n]);return t}return{...e}}function Pl(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pl}class Al{constructor(e){this.value=e}static empty(){return new Al({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Tl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=gs.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Nl(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Tl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Tl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){qs(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new Al(Nl(this.value))}}class Rl{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rl(e,0,ks.min(),ks.min(),ks.min(),Al.empty(),0)}static newFoundDocument(e,t,n,r){return new Rl(e,1,t,ks.min(),n,r,0)}static newNoDocument(e,t){return new Rl(e,2,t,ks.min(),ks.min(),Al.empty(),0)}static newUnknownDocument(e,t){return new Rl(e,3,t,ks.min(),ks.min(),Al.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ks.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Al.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Al.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ks.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dl{constructor(e,t){this.position=e,this.inclusive=t}}function Ml(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ms.comparator(ms.fromName(a.referenceValue),n.key):wl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ol(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yl(e.position[n],t.position[n]))return!1;return!0}class Ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class zl{}class jl extends zl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ql(e,t,n):"array-contains"===t?new Ql(e,n):"in"===t?new Xl(e,n):"not-in"===t?new Jl(e,n):"array-contains-any"===t?new Zl(e,n):new jl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Kl(e,n):new Gl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(wl(t,this.value)):null!==t&&vl(this.value)===vl(t)&&this.matchesComparison(wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ba(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ul extends zl{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ul(e,t)}matches(e){return Vl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vl(e){return"and"===e.op}function Bl(e){return function(e){for(const t of e.filters)if(t instanceof Ul)return!1;return!0}(e)&&Vl(e)}function Hl(e){if(e instanceof jl)return e.field.canonicalString()+e.op.toString()+kl(e.value);if(Bl(e))return e.filters.map(e=>Hl(e)).join(",");{const t=e.filters.map(e=>Hl(e)).join(",");return`${e.op}(${t})`}}function Wl(e,t){return e instanceof jl?function(e,t){return t instanceof jl&&e.op===t.op&&e.field.isEqual(t.field)&&yl(e.value,t.value)}(e,t):e instanceof Ul?function(e,t){return t instanceof Ul&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Wl(n,t.filters[r]),!0)}(e,t):void Ba(19439)}function $l(e){return e instanceof jl?function(e){return`${e.field.canonicalString()} ${e.op} ${kl(e.value)}`}(e):e instanceof Ul?function(e){return e.op.toString()+" {"+e.getFilters().map($l).join(" ,")+"}"}(e):"Filter"}class ql extends jl{constructor(e,t,n){super(e,t,n),this.key=ms.fromName(n.referenceValue)}matches(e){const t=ms.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kl extends jl{constructor(e,t){super(e,"in",t),this.keys=Yl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gl extends jl{constructor(e,t){super(e,"not-in",t),this.keys=Yl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yl(e,t){return(t.arrayValue?.values||[]).map(e=>ms.fromName(e.referenceValue))}class Ql extends jl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cl(t)&&bl(t.arrayValue,this.value)}}class Xl extends jl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bl(this.value.arrayValue,t)}}class Jl extends jl{constructor(e,t){super(e,"not-in",t)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!bl(this.value.arrayValue,t)}}class Zl extends jl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>bl(this.value.arrayValue,e))}}class ec{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function tc(e,t=null,n=[],r=[],i=null,o=null,a=null){return new ec(e,t,n,r,i,o,a)}function nc(e){const t=$a(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Hl(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),As(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>kl(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>kl(e)).join(",")),t.Te=e}return t.Te}function rc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Fl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ol(e.startAt,t.startAt)&&Ol(e.endAt,t.endAt)}class ic{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ac(e){const t=$a(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qs(gs.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ll(r,n))}),e.has(gs.keyField().canonicalString())||t.Ie.push(new Ll(gs.keyField(),n))}return t.Ie}function sc(e){const t=$a(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return tc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ll(e.field,t)});const n=e.endAt?new Dl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Dl(e.startAt.position,e.startAt.inclusive):null;return tc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,ac(e))),t.Ee}function lc(e,t,n){return new ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cc(e,t){return rc(sc(e),sc(t))&&e.limitType===t.limitType}function uc(e){return`${nc(sc(e))}|lt:${e.limitType}`}function hc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>$l(e)).join(", ")}]`),As(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>kl(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>kl(e)).join(",")),`Target(${t})`}(sc(e))}; limitType=${e.limitType})`}function dc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ms.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ac(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ml(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ac(e),t)||e.endAt&&!function(e,t,n){const r=Ml(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ac(e),t))}(e,t)}function fc(e,t,n){const r=e.field.isKeyField()?ms.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wl(r,i):Ba(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ba(19790,{direction:e.dir})}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,n)=>{for(const[t,r]of n)e(t,r)})}isEmpty(){return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(this.inner)}size(){return this.innerSize}}const gc=new Ks(ms.comparator);function mc(){return gc}const vc=new Ks(ms.comparator);function yc(...e){let t=vc;for(const n of e)t=t.insert(n.key,n);return t}function bc(e){let t=vc;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function wc(){return xc()}function _c(){return xc()}function xc(){return new pc(e=>e.toString(),(e,t)=>e.isEqual(t))}new Ks(ms.comparator);const kc=new Qs(ms.comparator);function Ec(...e){let t=kc;for(const n of e)t=t.add(n);return t}const Sc=new Qs(os);class Cc{constructor(){this._=void 0}}function Tc(e,t,n){return e instanceof Nc?function(e,t){const n={fields:{[al]:{stringValue:ol},[ll]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cl(t)&&(t=ul(t)),t&&(n.fields[sl]=t),{mapValue:n}}(n,t):e instanceof Pc?Ac(e,t):e instanceof Rc?Dc(e,t):function(e,t){const n=function(e,t){return e instanceof Mc?function(e){return Sl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}(e,t),r=Oc(n)+Oc(e.Ae);return Sl(n)&&Sl(e.Ae)?function(e){return{integerValue:""+e}}(r):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rs(t)?"-0":t}}(e.serializer,r)}(e,t)}function Ic(e,t,n){return e instanceof Pc?Ac(e,t):e instanceof Rc?Dc(e,t):n}class Nc extends Cc{}class Pc extends Cc{constructor(e){super(),this.elements=e}}function Ac(e,t){const n=Lc(t);for(const t of e.elements)n.some(e=>yl(e,t))||n.push(t);return{arrayValue:{values:n}}}class Rc extends Cc{constructor(e){super(),this.elements=e}}function Dc(e,t){let n=Lc(t);for(const t of e.elements)n=n.filter(e=>!yl(e,t));return{arrayValue:{values:n}}}class Mc extends Cc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Oc(e){return rl(e.integerValue||e.doubleValue)}function Lc(e){return Cl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Fc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fc}static exists(e){return new Fc(void 0,e)}static updateTime(e){return new Fc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jc{}function Uc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yc(e.key,Fc.none()):new Wc(e.key,e.data,Fc.none());{const n=e.data,r=Al.empty();let i=new Qs(gs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $c(e.key,r,new Js(i.toArray()),Fc.none())}}function Vc(e,t,n){e instanceof Wc?function(e,t,n){const r=e.value.clone(),i=Kc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $c?function(e,t,n){if(!zc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Kc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bc(e,t,n,r){return e instanceof Wc?function(e,t,n,r){if(!zc(e.precondition,t))return n;const i=e.value.clone(),o=Gc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $c?function(e,t,n,r){if(!zc(e.precondition,t))return n;const i=Gc(e.fieldTransforms,r,t),o=t.data;return o.setAll(qc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return zc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&us(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Pc&&t instanceof Pc||e instanceof Rc&&t instanceof Rc?us(e.elements,t.elements,yl):e instanceof Mc&&t instanceof Mc?yl(e.Ae,t.Ae):e instanceof Nc&&t instanceof Nc}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wc extends jc{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $c extends jc{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Kc(e,t,n){const r=new Map;Wa(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ic(a,s,n[i]))}return r}function Gc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Tc(e,o,t))}return r}class Yc extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Vc(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_c();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Uc(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ks.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ec())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(e,t)=>Hc(e,t))&&us(this.baseMutations,e.baseMutations,(e,t)=>Hc(e,t))}}class Xc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var Jc,Zc;(Zc=Jc||(Jc={}))[Zc.OK=0]="OK",Zc[Zc.CANCELLED=1]="CANCELLED",Zc[Zc.UNKNOWN=2]="UNKNOWN",Zc[Zc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zc[Zc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zc[Zc.NOT_FOUND=5]="NOT_FOUND",Zc[Zc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zc[Zc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zc[Zc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zc[Zc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zc[Zc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zc[Zc.ABORTED=10]="ABORTED",Zc[Zc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zc[Zc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zc[Zc.INTERNAL=13]="INTERNAL",Zc[Zc.UNAVAILABLE=14]="UNAVAILABLE",Zc[Zc.DATA_LOSS=15]="DATA_LOSS",new ba([4294967295,4294967295],0),Error;class eu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tu(e){return Wa(!!e,49232),ks.fromTimestamp(function(e){const t=nl(e);return new xs(t.seconds,t.nanos)}(e))}function nu(e,t){const n=function(e){return new fs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ru(e){const t=function(e){const t=fs.fromString(e);return Wa(function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}(t),10190,{key:t.toString()}),t}(e);return 4===t.length?fs.emptyPath():function(e){return Wa(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}(t)}function iu(e){let t=ru(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wa(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ou(e);return t instanceof Ul&&Bl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ll(au(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,As(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Dl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Dl(n,t)}(n.endAt)),function(e,t,n,r,i,o,a,s){return new ic(e,t,n,r,i,o,a,s)}(t,i,a,o,s,"F",l,c)}function ou(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=au(e.unaryFilter.field);return jl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=au(e.unaryFilter.field);return jl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=au(e.unaryFilter.field);return jl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=au(e.unaryFilter.field);return jl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ba(61313);default:return Ba(60726)}}(e):void 0!==e.fieldFilter?function(e){return jl.create(au(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ba(58110);default:return Ba(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ul.create(e.compositeFilter.filters.map(e=>ou(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ba(1026)}}(e.compositeFilter.op))}(e):Ba(30097,{filter:e})}function au(e){return gs.fromServerFormat(e.fieldPath)}class su{constructor(e){this.yt=e}}function lu(e){const t=iu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lc(t,t.limit,"L"):t}class cu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(rl(e.integerValue));else if("doubleValue"in e){const n=rl(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Rs(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=nl(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(il(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Pl(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Il(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ba(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=ml,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(rl(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),ms.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}cu.Kt=new cu;class uu{constructor(){this.Cn=new hu}addToCollectionParentIndex(e,t){return this.Cn.add(t),Is.resolve()}getCollectionParents(e,t){return Is.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Is.resolve()}deleteFieldIndex(e,t){return Is.resolve()}deleteAllFieldIndexes(e){return Is.resolve()}createTargetIndexes(e,t){return Is.resolve()}getDocumentsMatchingTarget(e,t){return Is.resolve(null)}getIndexType(e,t){return Is.resolve(0)}getFieldIndexes(e,t){return Is.resolve([])}getNextCollectionGroupToUpdate(e){return Is.resolve(null)}getMinOffset(e,t){return Is.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return Is.resolve(Ss.min())}updateCollectionGroup(e,t,n){return Is.resolve()}updateIndexEntries(e,t){return Is.resolve()}}class hu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qs(fs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qs(fs.comparator)).toArray()}}new Uint8Array(0);const du=41943040;class fu{static withCacheSize(e){return new fu(e,fu.DEFAULT_COLLECTION_PERCENTILE,fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}fu.DEFAULT_COLLECTION_PERCENTILE=10,fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fu.DEFAULT=new fu(du,fu.DEFAULT_COLLECTION_PERCENTILE,fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fu.DISABLED=new fu(-1,0,0);class pu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pu(0)}static cr(){return new pu(-1)}}class gu{constructor(){this.changes=new pc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Is.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Bc(n.mutation,e,Js.empty(),xs.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ec()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Ec()){const r=wc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=yc();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=wc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ec()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=mc();const o=xc(),a=xc();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof $c)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Bc(a.mutation,t,a.mutation.getFieldMask(),xs.now())):o.set(t.key,Js.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>a.set(e,new mu(t,o.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=xc();let r=new Ks((e,t)=>e-t),i=Ec();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Js.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Ec()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=_c();l.forEach(e=>{if(!i.has(e)){const r=Uc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Is.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ms.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Is.resolve(wc());let a=-1,s=i;return o.next(t=>Is.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Is.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Ec())).next(e=>({batchId:a,changes:bc(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ms(t)).next(e=>{let t=yc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=yc();return this.indexManager.getCollectionParents(e,i).next(a=>Is.forEach(a,a=>{const s=function(e,t){return new ic(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Rl.newInvalidDocument(r)))});let n=yc();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Bc(o.mutation,r,Js.empty(),xs.now()),dc(t,r)&&(n=n.insert(e,r))}),n})}}class yu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Is.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:tu(e.createTime)}}(t)),Is.resolve()}getNamedQuery(e,t){return Is.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:lu(e.bundledQuery),readTime:tu(e.readTime)}}(t)),Is.resolve()}}class bu{constructor(){this.overlays=new Ks(ms.comparator),this.qr=new Map}getOverlay(e,t){return Is.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wc();return Is.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Is.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Is.resolve()}getOverlaysForCollection(e,t,n){const r=wc(),i=t.length+1,o=new ms(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Is.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ks((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=wc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=wc(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Is.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xc(t,n));let i=this.qr.get(t);void 0===i&&(i=Ec(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class wu{constructor(){this.sessionToken=el.EMPTY_BYTE_STRING}getSessionToken(e){return Is.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Is.resolve()}}class _u{constructor(){this.Qr=new Qs(xu.$r),this.Ur=new Qs(xu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new xu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new xu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ms(new fs([])),n=new xu(t,e),r=new xu(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ms(new fs([])),n=new xu(t,e),r=new xu(t,e+1);let i=Ec();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new xu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ms.comparator(e.key,t.key)||os(e.Yr,t.Yr)}static Kr(e,t){return os(e.Yr,t.Yr)||ms.comparator(e.key,t.key)}}class ku{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qs(xu.$r)}checkEmpty(e){return Is.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qc(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Zr=this.Zr.add(new xu(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Is.resolve(o)}lookupMutationBatch(e,t){return Is.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Is.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Is.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return Is.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xu(t,0),r=new xu(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Is.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qs(os);return t.forEach(e=>{const t=new xu(e,0),r=new xu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Is.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ms.isDocumentKey(i)||(i=i.child(""));const o=new xu(new ms(i),0);let a=new Qs(os);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},o),Is.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Wa(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Is.forEach(t.mutations,r=>{const i=new xu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new xu(t,0),r=this.Zr.firstAfterOrEqual(n);return Is.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Is.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eu{constructor(e){this.ri=e,this.docs=new Ks(ms.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Is.resolve(n?n.document.mutableCopy():Rl.newInvalidDocument(t))}getEntries(e,t){let n=mc();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Rl.newInvalidDocument(e))}),Is.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=mc();const o=t.path,a=new ms(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Cs(Es(a),n)<=0||(r.has(a.key)||dc(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Is.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ba(9500)}ii(e,t){return Is.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Su(this)}getSize(e){return Is.resolve(this.size)}}class Su extends gu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Is.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Cu{constructor(e){this.persistence=e,this.si=new pc(e=>nc(e),rc),this.lastRemoteSnapshotVersion=ks.min(),this.highestTargetId=0,this.oi=0,this._i=new _u,this.targetCount=0,this.ai=pu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Is.resolve()}getLastRemoteSnapshotVersion(e){return Is.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Is.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Is.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Is.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new pu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Is.resolve()}updateTargetData(e,t){return this.Pr(t),Is.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Is.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Is.waitFor(i).next(()=>r)}getTargetCount(e){return Is.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Is.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Is.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Is.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Is.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Is.resolve(n)}containsKey(e,t){return Is.resolve(this._i.containsKey(t))}}class Tu{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ps(0),this.li=!1,this.li=!0,this.hi=new wu,this.referenceDelegate=e(this),this.Pi=new Cu(this),this.indexManager=new uu,this.remoteDocumentCache=function(e){return new Eu(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new su(t),this.Ii=new yu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ku(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){za("MemoryPersistence","Starting transaction:",e);const r=new Iu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Is.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Iu extends Ts{constructor(e){super(),this.currentSequenceNumber=e}}class Nu{constructor(e){this.persistence=e,this.Ri=new _u,this.Vi=null}static mi(e){return new Nu(e)}get fi(){if(this.Vi)return this.Vi;throw Ba(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Is.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Is.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Is.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Is.forEach(this.fi,n=>{const r=ms.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ks.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Is.or([()=>Is.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Pu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Ec(),r=Ec();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Pu(e,t.fromCache,n,r)}}class Au{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ru{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=dt()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(lt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Au;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Fa()<=Bt.DEBUG&&za("QueryEngine","SDK will not create cache indexes for query:",hc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Is.resolve()):(Fa()<=Bt.DEBUG&&za("QueryEngine","Query:",hc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Fa()<=Bt.DEBUG&&za("QueryEngine","The SDK decides to create cache indexes for query:",hc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sc(t))):Is.resolve())}ys(e,t){if(oc(t))return Is.resolve(null);let n=sc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=lc(t,null,"F"),n=sc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ec(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,lc(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return oc(t)||r.isEqual(ks.min())?Is.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Is.resolve(null):(Fa()<=Bt.DEBUG&&za("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hc(t)),this.vs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ks.fromTimestamp(1e9===r?new xs(n+1,0):new xs(n,r));return new Ss(i,ms.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new Qs(function(e){return(t,n)=>{let r=!1;for(const i of ac(e)){const e=fc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}(e));return t.forEach((t,r)=>{dc(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Fa()<=Bt.DEBUG&&za("QueryEngine","Using full collection scan to execute query:",hc(t)),this.ps.getDocumentsMatchingQuery(e,t,Ss.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Du{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ks(os),this.xs=new pc(e=>nc(e),rc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}class Mu{constructor(){this.activeTargetIds=Sc}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ou{constructor(){this.Mo=new Mu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lu{Oo(e){}shutdown(){}}const Fu="ConnectivityMonitor";class zu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){za(Fu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){za(Fu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ju=null;function Uu(){return null===ju?ju=268435456+Math.round(2147483648*Math.random()):ju++,"0x"+ju.toString(16)}const Vu="RestConnection",Bu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===dl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const o=Uu(),a=this.zo(e,t.toUriEncodedString());za(Vu,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(a),c=nt(l);return this.Jo(e,a,s,n,c).then(t=>(za(Vu,`Received RPC '${e}' ${o}: `,t),t),t=>{throw Ua(Vu,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Bu[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class Wu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $u="WebChannelConnection";class qu extends Hu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Uu();return new Promise((i,a)=>{const s=new xa;s.setWithCredentials(!0),s.listenOnce(Ea.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Sa.NO_ERROR:const t=s.getResponseJson();za($u,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case Sa.TIMEOUT:za($u,`RPC '${e}' ${o} timed out`),a(new Ka(qa.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const n=s.getStatus();if(za($u,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qa).indexOf(t)>=0?t:qa.UNKNOWN}(t.status);a(new Ka(e,t.message))}else a(new Ka(qa.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ka(qa.UNAVAILABLE,"Connection failed."));break;default:Ba(9055,{l_:e,streamId:o,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{za($u,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);za($u,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Uu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Na(),a=Ia(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");za($u,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);this.I_(u);let h=!1,d=!1;const f=new Wu({Yo:t=>{d?za($u,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(za($u,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),za($u,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,ka.EventType.OPEN,()=>{d||(za($u,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,ka.EventType.CLOSE,()=>{d||(d=!0,za($u,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,ka.EventType.ERROR,t=>{d||(d=!0,Ua($u,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new Ka(qa.UNAVAILABLE,"The operation could not be completed")))}),p(u,ka.EventType.MESSAGE,t=>{if(!d){const n=t.data[0];Wa(!!n,16349);const i=n,o=i?.error||i[0]?.error;if(o){za($u,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Jc[e];if(void 0!==t)return function(e){if(void 0===e)return ja("GRPC error has no .code"),qa.UNKNOWN;switch(e){case Jc.OK:return qa.OK;case Jc.CANCELLED:return qa.CANCELLED;case Jc.UNKNOWN:return qa.UNKNOWN;case Jc.DEADLINE_EXCEEDED:return qa.DEADLINE_EXCEEDED;case Jc.RESOURCE_EXHAUSTED:return qa.RESOURCE_EXHAUSTED;case Jc.INTERNAL:return qa.INTERNAL;case Jc.UNAVAILABLE:return qa.UNAVAILABLE;case Jc.UNAUTHENTICATED:return qa.UNAUTHENTICATED;case Jc.INVALID_ARGUMENT:return qa.INVALID_ARGUMENT;case Jc.NOT_FOUND:return qa.NOT_FOUND;case Jc.ALREADY_EXISTS:return qa.ALREADY_EXISTS;case Jc.PERMISSION_DENIED:return qa.PERMISSION_DENIED;case Jc.FAILED_PRECONDITION:return qa.FAILED_PRECONDITION;case Jc.ABORTED:return qa.ABORTED;case Jc.OUT_OF_RANGE:return qa.OUT_OF_RANGE;case Jc.UNIMPLEMENTED:return qa.UNIMPLEMENTED;case Jc.DATA_LOSS:return qa.DATA_LOSS;default:return Ba(39323,{code:e})}}(t)}(t),i=o.message;void 0===n&&(n=qa.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new Ka(n,i)),u.close()}else za($u,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(a,Ta.STAT_EVENT,t=>{t.stat===Ca.PROXY?za($u,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ca.NOPROXY&&za($u,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ku(){return"undefined"!=typeof document?document:null}function Gu(e){return new eu(e,!0)}class Yu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&za("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class Qu{}class Xu extends Qu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ka(qa.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,nu(t,n),r,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ka(qa.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,nu(t,n),r,o,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ka(qa.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ju{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ja(t),this.aa=!1):za("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Zu="RemoteStore";class eh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{rh(this)&&(za(Zu,"Restarting streams for network reachability change."),await async function(e){const t=$a(e);t.Ea.add(4),await nh(t),t.Ra.set("Unknown"),t.Ea.delete(4),await th(t)}(this))})}),this.Ra=new Ju(n,r)}}async function th(e){if(rh(e))for(const t of e.da)await t(!0)}async function nh(e){for(const t of e.da)await t(!1)}function rh(e){return 0===$a(e).Ea.size}class ih{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new ih(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ka(qa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class oh{constructor(){this.queries=ah(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=$a(e),r=n.queries;n.queries=ah(),r.forEach((e,n)=>{for(const e of n.Sa)e.onError(t)})}(this,new Ka(qa.ABORTED,"Firestore shutting down"))}}function ah(){return new pc(e=>uc(e),cc)}var sh,lh;(lh=sh||(sh={})).Ma="default",lh.Cache="cache";class ch{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new pc(e=>uc(e),cc),this.Iu=new Map,this.Eu=new Set,this.du=new Ks(ms.comparator),this.Au=new Map,this.Ru=new _u,this.Vu={},this.mu=new Map,this.fu=pu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function uh(e,t,n){const r=$a(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=$a(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const e of n.Sa)e.va(t)&&(r=!0)}),r&&function(e){e.Ca.forEach(e=>{e.next()})}(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function hh(e,t){const n=$a(e);if(!n.currentUser.isEqual(t)){za("SyncEngine","User change. New user:",t.toKey());const e=await async function(e,t){const n=$a(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=Ec();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}(n.localStore,t);n.currentUser=t,function(e){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Ka(qa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await async function(e,t,n){const r=$a(e),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{a.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Pu.As(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=$a(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Is.forEach(t,t=>Is.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Is.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ns(e))throw e;za("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,o))}(n,e.Ls)}}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new Du(e,t,n,r)}(this.persistence,new Ru,e.initialUser,this.serializer)}Cu(e){return new Tu(Nu.mi,this.serializer)}Du(e){return new Ou}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class fh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>uh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hh.bind(null,this.syncEngine),await async function(e,t){const n=$a(e);t?(n.Ea.delete(2),await th(n)):t||(n.Ea.add(2),await nh(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new oh}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),n=function(e){return new qu(e)}(e.databaseInfo);return function(e,t,n,r){return new Xu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new eh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>uh(this.syncEngine,e,0),zu.v()?new zu:new Lu)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new ch(e,t,n,r,i,o);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=$a(e);za(Zu,"RemoteStore shutting down."),t.Ea.add(5),await nh(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fh.provider={build:()=>new fh};const ph=new Map,gh="firestore.googleapis.com",mh=!0;class vh{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Ka(qa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gh,this.ssl=mh}else this.host=e.host,this.ssl=e.ssl??mh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=du;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ka(qa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ka(qa.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=function(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ka(qa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ka(qa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ka(qa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ka(qa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ka(qa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qa;switch(e.type){case"firstParty":return new es(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ka(qa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ph.get(e);t&&(za("ComponentProvider","Removing Datastore"),ph.delete(e),t.terminate())}(this),Promise.resolve()}}class bh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bh(this.firestore,e,this._query)}}class wh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _h(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wh(this.firestore,e,this._key)}toJSON(){return{type:wh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(bs(t,wh._jsonSchema))return new wh(e,n||null,new ms(fs.fromString(t.referencePath)))}}wh._jsonSchemaVersion="firestore/documentReference/1.0",wh._jsonSchema={type:ys("string",wh._jsonSchemaVersion),referencePath:ys("string")};class _h extends bh{constructor(e,t,n){super(e,t,function(e){return new ic(e)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wh(this.firestore,null,new ms(e))}withConverter(e){return new _h(this.firestore,e,this._path)}}const xh="AsyncQueue";class kh{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yu(this,"async_queue_retry"),this._c=()=>{const e=Ku();e&&za(xh,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ku();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ku();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ga;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ns(e))throw e;za(xh,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ja("INTERNAL UNHANDLED ERROR: ",Eh(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ih.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ba(47125,{Pc:Eh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Eh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Sh extends yh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new kh,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kh(e),this._firestoreClient=void 0,await e}}}class Ch{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ch(el.fromBase64String(e))}catch(e){throw new Ka(qa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ch(el.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ch._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bs(e,Ch._jsonSchema))return Ch.fromBase64String(e.bytes)}}Ch._jsonSchemaVersion="firestore/bytes/1.0",Ch._jsonSchema={type:ys("string",Ch._jsonSchemaVersion),bytes:ys("string")};class Th{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ka(qa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ih{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ka(qa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ka(qa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return os(this._lat,e._lat)||os(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ih._jsonSchemaVersion}}static fromJSON(e){if(bs(e,Ih._jsonSchema))return new Ih(e.latitude,e.longitude)}}Ih._jsonSchemaVersion="firestore/geoPoint/1.0",Ih._jsonSchema={type:ys("string",Ih._jsonSchemaVersion),latitude:ys("number"),longitude:ys("number")};class Nh{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bs(e,Nh._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Nh(e.vectorValues);throw new Ka(qa.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nh._jsonSchemaVersion="firestore/vectorValue/1.0",Nh._jsonSchema={type:ys("string",Nh._jsonSchemaVersion),vectorValues:ys("object")};const Ph=new RegExp("[~\\*/\\[\\]]");function Ah(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ka(qa.INVALID_ARGUMENT,s+e+l)}class Rh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dh extends Rh{data(){return super.data()}}function Mh(e,t){return"string"==typeof t?function(e,t,n){if(t.search(Ph)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Th(...t.split("."))._internalPath}catch(r){throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}(e,t):t instanceof Th?t._internalPath:t._delegate._internalPath}class Oh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lh extends Rh{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Mh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ka(qa.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Lh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Lh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lh._jsonSchema={type:ys("string",Lh._jsonSchemaVersion),bundleSource:ys("string","DocumentSnapshot"),bundleName:ys("string"),bundle:ys("string")};class Fh extends Lh{data(e={}){return super.data(e)}}class zh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Oh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Fh(this._firestore,this._userDataWriter,n.key,n,new Oh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ka(qa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Fh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Oh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Fh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Oh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:jh(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ka(qa.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=is.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ba(61501,{type:e})}}zh._jsonSchemaVersion="firestore/querySnapshot/1.0",zh._jsonSchema={type:ys("string",zh._jsonSchemaVersion),bundleSource:ys("string","QuerySnapshot"),bundleName:ys("string"),bundle:ys("string")},new WeakMap,function(e,t=!0){!function(e){Oa=e}(Zn),Gn(new Ft("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Sh(new Ja(e.getProvider("auth-internal")),new ns(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ka(qa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),nr(Ra,Da,e),nr(Ra,Da,"esm2020")}();const Uh="@firebase/database",Vh="1.1.0";let Bh="";class Hh{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:yt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Wh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Hh(t)}}catch(e){}return new Wh},qh=$h("localStorage"),Kh=$h("sessionStorage"),Gh=new Kt("@firebase/database"),Yh=function(){let e=1;return function(){return e++}}(),Qh=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,je(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Pt;n.update(t);const r=n.digest();return Be.encodeByteArray(r)},Xh=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Xh.apply(null,r):t+="object"==typeof r?bt(r):r,t+=" "}return t};let Jh=null,Zh=!0;const ed=function(...e){if(!0===Zh&&(Zh=!1,null===Jh&&!0===Kh.get("logging_enabled")&&(t=!0,je(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Gh.logLevel=Bt.VERBOSE,Jh=Gh.log.bind(Gh),n&&Kh.set("logging_enabled",!0)):"function"==typeof t?Jh=t:(Jh=null,Kh.remove("logging_enabled")))),Jh){const t=Xh.apply(null,e);Jh(t)}var t,n},td=function(e){return function(...t){ed(e,...t)}},nd=function(...e){const t="FIREBASE INTERNAL ERROR: "+Xh(...e);Gh.error(t)},rd=function(...e){const t=`FIREBASE FATAL ERROR: ${Xh(...e)}`;throw Gh.error(t),new Error(t)},id=function(...e){const t="FIREBASE WARNING: "+Xh(...e);Gh.warn(t)},od=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ad="[MIN_NAME]",sd="[MAX_NAME]",ld=function(e,t){if(e===t)return 0;if(e===ad||t===sd)return-1;if(t===ad||e===sd)return 1;{const n=md(e),r=md(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},cd=function(e,t){return e===t?0:e<t?-1:1},ud=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+bt(t))},hd=function(e){if("object"!=typeof e||null===e)return bt(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=bt(t[r]),n+=":",n+=hd(e[t[r]]);return n+="}",n},dd=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function fd(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const pd=function(e){je(!od(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let l="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},gd=new RegExp("^-?(0*)\\d{1,10}$"),md=function(e){if(gd.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},vd=function(e){try{e()}catch(e){setTimeout(()=>{const t=e.stack||"";throw id("Exception was thrown by user callback.",t),e},Math.floor(0))}},yd=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class bd{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){id(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wd{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(ed("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',id(e)}}class _d{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_d.OWNER="owner";const xd="5",kd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ed="ac",Sd="websocket",Cd="long_polling";class Td{constructor(e,t,n,r,i=!1,o="",a=!1,s=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qh.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Id(e,t,n){let r;if(je("string"==typeof t,"typeof type must == string"),je("object"==typeof n,"typeof params must == object"),t===Sd)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Cd)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return fd(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Nd{constructor(){this.counters_={}}incrementCounter(e,t=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ke(this.counters_)}}const Pd={},Ad={};function Rd(e){const t=e.toString();return Pd[t]||(Pd[t]=new Nd),Pd[t]}class Dd{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&vd(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Md="start";class Od{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=td(e),this.stats_=Rd(t),this.urlFn=e=>(this.appCheckToken&&(e[Ed]=this.appCheckToken),Id(t,Cd,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Dd(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ld((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Md)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={};e[Md]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=xd,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Ed]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&kd.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Od.forceAllow_=!0}static forceDisallow(){Od.forceDisallow_=!0}static isAvailable(){return!(!Od.forceAllow_&&(Od.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=bt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=We(t),r=dd(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=bt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ld{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Yh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ld.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){ed("frame writing exception"),e.stack&&ed(e.stack),ed(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ed("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{ed("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let Fd=null;"undefined"!=typeof MozWebSocket?Fd=MozWebSocket:"undefined"!=typeof WebSocket&&(Fd=WebSocket);class zd{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=td(this.connId),this.stats_=Rd(t),this.connURL=zd.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=xd,"undefined"!=typeof location&&location.hostname&&kd.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Ed]=r),i&&(o.p=i),Id(e,Sd,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qh.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new Fd(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){zd.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Fd&&!zd.forceDisallow_}static previouslyFailed(){return qh.isInMemoryStorage||!0===qh.get("previous_websocket_failure")}markConnectionHealthy(){qh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=yt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(je(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=bt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=dd(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zd.responsesRequiredToBeHealthy=2,zd.healthyTimeout=3e4;class jd{static get ALL_TRANSPORTS(){return[Od,zd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=zd&&zd.isAvailable();let n=t&&!zd.previouslyFailed();if(e.webSocketOnly&&(t||id("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[zd];else{const e=this.transports_=[];for(const t of jd.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);jd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jd.globalTransportInitialized_=!1;class Ud{constructor(e,t,n,r,i,o,a,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=td("c:"+this.id+":"),this.transportManager_=new jd(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=yd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ud("t",e),n=ud("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ud("t",e),n=ud("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ud("t",e);if("d"in e){const n=e.d;if("h"===t){const e={...n};this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?nd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),xd!==n&&id("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),yd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Vd{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Bd{constructor(e){this.allowedEvents_=e,this.listeners_={},je(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){je(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Hd extends Bd{static getInstance(){return new Hd}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||ct()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return je("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Wd{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function $d(){return new Wd("")}function qd(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Kd(e){return e.pieces_.length-e.pieceNum_}function Gd(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Wd(e.pieces_,t)}function Yd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Qd(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Xd(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Wd(t,0)}function Jd(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof Wd)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Wd(n,0)}function Zd(e){return e.pieceNum_>=e.pieces_.length}function ef(e,t){const n=qd(e),r=qd(t);if(null===n)return t;if(n===r)return ef(Gd(e),Gd(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function tf(e,t){const n=Qd(e,0),r=Qd(t,0);for(let e=0;e<n.length&&e<r.length;e++){const t=ld(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function nf(e,t){if(Kd(e)!==Kd(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function rf(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Kd(e)>Kd(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class of{constructor(e,t){this.errorPrefix_=t,this.parts_=Qd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=Mt(this.parts_[e]);af(this)}}function af(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sf(e))}function sf(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class lf extends Bd{static getInstance(){return new lf}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return je("visible"===e,"Unknown event type: "+e),[this.visible_]}}const cf=1e3;class uf extends Vd{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=uf.nextPersistentConnectionId_++,this.log_=td("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Hd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(bt(i)),je(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new tt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),je(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,a=i.s;uf.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&_t(e,"w")){const n=xt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();id(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=wt(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=wt(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bt(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):nd("Unrecognized action received from server: "+bt(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){je(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+uf.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},l=function(e){je(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?ed("getToken() completed but was canceled"):(ed("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new Ud(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{id(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&id(e),s())}}}interrupt(e){ed("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ed("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kt(this.interruptReasons_)&&(this.reconnectDelay_=cf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>hd(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Wd(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){ed("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ed("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Bh.replace(/\./g,"-")]=1,ct()?e["framework.cordova"]=1:ht()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hd.getInstance().currentlyOnline();return kt(this.interruptReasons_)&&e}}uf.nextPersistentConnectionId_=0,uf.nextConnectionId_=0;class hf{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new hf(e,t)}}class df{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new hf(ad,e),r=new hf(ad,t);return 0!==this.compare(n,r)}minPost(){return hf.MIN}}let ff;class pf extends df{static get __EMPTY_NODE(){return ff}static set __EMPTY_NODE(e){ff=e}compare(e,t){return ld(e.name,t.name)}isDefinedOn(e){throw Ue("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return hf.MIN}maxPost(){return new hf(sd,ff)}makePost(e,t){return je("string"==typeof e,"KeyIndex indexValue must always be a string."),new hf(e,ff)}toString(){return".key"}}const gf=new pf;class mf{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vf.RED,this.left=null!=r?r:yf.EMPTY_NODE,this.right=null!=i?i:yf.EMPTY_NODE}copy(e,t,n,r,i){return new vf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return yf.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return yf.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vf.RED=!0,vf.BLACK=!1;class yf{constructor(e,t=yf.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yf(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vf.BLACK,null,null))}remove(e){return new yf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vf.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mf(this.root_,null,this.comparator_,!0,e)}}function bf(e,t){return ld(e.name,t.name)}function wf(e,t){return ld(e,t)}let _f;yf.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new vf(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xf=function(e){return"number"==typeof e?"number:"+pd(e):"string:"+e},kf=function(e){if(e.isLeafNode()){const t=e.val();je("string"==typeof t||"number"==typeof t||"object"==typeof t&&_t(t,".sv"),"Priority must be a string or number.")}else je(e===_f||e.isEmpty(),"priority of unexpected type.");je(e===_f||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ef,Sf,Cf;class Tf{static set __childrenNodeConstructor(e){Ef=e}static get __childrenNodeConstructor(){return Ef}constructor(e,t=Tf.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,je(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),kf(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tf(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Tf.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Zd(e)?this:".priority"===qd(e)?this.priorityNode_:Tf.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Tf.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=qd(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(je(".priority"!==n||1===Kd(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Tf.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gd(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xf(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?pd(this.value_):this.value_,this.lazyHash_=Qh(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tf.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tf.__childrenNodeConstructor?-1:(je(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Tf.VALUE_TYPE_ORDER.indexOf(t),i=Tf.VALUE_TYPE_ORDER.indexOf(n);return je(r>=0,"Unknown leaf type: "+t),je(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Tf.VALUE_TYPE_ORDER=["object","boolean","number","string"];const If=new class extends df{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ld(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return hf.MIN}maxPost(){return new hf(sd,new Tf("[PRIORITY-POST]",Cf))}makePost(e,t){const n=Sf(e);return new hf(t,new Tf("[PRIORITY-POST]",n))}toString(){return".priority"}},Nf=Math.log(2);class Pf{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Nf,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Af=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new vf(s,a.node,vf.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],s=n?n(a):a,new vf(s,a.node,vf.BLACK,c,u)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const c=i(o+1,s),u=e[o],h=n?n(u):u;l(new vf(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,vf.BLACK):(s(r,vf.BLACK),s(r,vf.RED))}return o}(new Pf(e.length));return new yf(r||t,o)};let Rf;const Df={};class Mf{static get Default(){return je(Df&&If,"ChildrenNode.ts has not been loaded"),Rf=Rf||new Mf({".priority":Df},{".priority":If}),Rf}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=xt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yf?t:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,t){je(e!==gf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(hf.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Af(n,e.getCompare()):Df;const s=e.toString(),l={...this.indexSet_};l[s]=e;const c={...this.indexes_};return c[s]=o,new Mf(c,l)}addToIndexes(e,t){const n=Et(this.indexes_,(n,r)=>{const i=xt(this.indexSet_,r);if(je(i,"Missing index implementation for "+r),n===Df){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(hf.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Af(n,i.getCompare())}return Df}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new hf(e.name,r))),i.insert(e,e.node)}});return new Mf(n,this.indexSet_)}removeFromIndexes(e,t){const n=Et(this.indexes_,n=>{if(n===Df)return n;{const r=t.get(e.name);return r?n.remove(new hf(e.name,r)):n}});return new Mf(n,this.indexSet_)}}let Of;class Lf{static get EMPTY_NODE(){return Of||(Of=new Lf(new yf(wf),null,Mf.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kf(this.priorityNode_),this.children_.isEmpty()&&je(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Of}updatePriority(e){return this.children_.isEmpty()?this:new Lf(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Of:t}}getChild(e){const t=qd(e);return null===t?this:this.getImmediateChild(t).getChild(Gd(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(je(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new hf(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Of:this.priorityNode_;return new Lf(r,o,i)}}updateChild(e,t){const n=qd(e);if(null===n)return t;{je(".priority"!==qd(e)||1===Kd(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Gd(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(If,(o,a)=>{t[o]=a.val(e),n++,i&&Lf.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+xf(this.getPriority().val())+":"),this.forEachChild(If,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Qh(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new hf(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new hf(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new hf(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,hf.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,hf.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ff?-1:0}withIndex(e){if(e===gf||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Lf(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===gf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(If),n=t.getIterator(If);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===gf?null:this.indexMap_.get(e.toString())}}Lf.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ff=new class extends Lf{constructor(){super(new yf(wf),Lf.EMPTY_NODE,Mf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Lf.EMPTY_NODE}isEmpty(){return!1}};function zf(e,t=null){if(null===e)return Lf.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),je(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Tf(e,zf(t));if(e instanceof Array){let n=Lf.EMPTY_NODE;return fd(e,(t,r)=>{if(_t(e,t)&&"."!==t.substring(0,1)){const e=zf(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(zf(t))}{const n=[];let r=!1;if(fd(e,(e,t)=>{if("."!==e.substring(0,1)){const i=zf(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new hf(e,i)))}}),0===n.length)return Lf.EMPTY_NODE;const i=Af(n,bf,e=>e.name,wf);if(r){const e=Af(n,If.getCompare());return new Lf(i,zf(t),new Mf({".priority":e},{".priority":If}))}return new Lf(i,zf(t),Mf.Default)}}Object.defineProperties(hf,{MIN:{value:new hf(ad,Lf.EMPTY_NODE)},MAX:{value:new hf(sd,Ff)}}),pf.__EMPTY_NODE=Lf.EMPTY_NODE,Tf.__childrenNodeConstructor=Lf,_f=Ff,Cf=Ff,function(e){Sf=e}(zf);class jf extends df{constructor(e){super(),this.indexPath_=e,je(!Zd(e)&&".priority"!==qd(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ld(e.name,t.name):i}makePost(e,t){const n=zf(e),r=Lf.EMPTY_NODE.updateChild(this.indexPath_,n);return new hf(t,r)}maxPost(){const e=Lf.EMPTY_NODE.updateChild(this.indexPath_,Ff);return new hf(sd,e)}toString(){return Qd(this.indexPath_,0).join("/")}}const Uf=new class extends df{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?ld(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return hf.MIN}maxPost(){return hf.MAX}makePost(e,t){const n=zf(e);return new hf(t,n)}toString(){return".value"}};function Vf(e){return{type:"value",snapshotNode:e}}function Bf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class $f{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){je(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Hf(t,a)):je(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Bf(t,n)):o.trackChildChange(Wf(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(If,(e,r)=>{t.hasChild(e)||n.trackChildChange(Hf(e,r))}),t.isLeafNode()||t.forEachChild(If,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Wf(t,r,i))}else n.trackChildChange(Bf(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Lf.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qf{constructor(e){this.indexedFilter_=new $f(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qf.getStartPost_(e),this.endPost_=qf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new hf(t,n))||(n=Lf.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Lf.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Lf.EMPTY_NODE);const i=this;return t.forEachChild(If,(e,t)=>{i.matches(new hf(e,t))||(r=r.updateImmediateChild(e,Lf.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Kf{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new qf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new hf(t,n))||(n=Lf.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Lf.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Lf.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Lf.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Lf.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;je(a.numChildren()===this.limit_,"");const s=new hf(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,s);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Wf(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Hf(t,e));const n=a.updateImmediateChild(t,Lf.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Bf(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,s)>=0?(null!=i&&(i.trackChildChange(Hf(l.name,l.node)),i.trackChildChange(Bf(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Lf.EMPTY_NODE)):e}}class Gf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=If}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return je(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return je(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ad}hasEnd(){return this.endSet_}getIndexEndValue(){return je(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return je(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return je(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===If}copy(){const e=new Gf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yf(e){const t={};if(e.isDefault())return t;let n;if(e.index_===If?n="$priority":e.index_===Uf?n="$value":e.index_===gf?n="$key":(je(e.index_ instanceof jf,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=bt(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=bt(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+bt(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=bt(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+bt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Qf(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==If&&(t.i=e.index_.toString()),t}class Xf extends Vd{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(je(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=td("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Xf.getListenId_(e,n),a={};this.listens_[o]=a;const s=Yf(e._queryParams);this.restRequest_(i+".json",s,(e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),xt(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Xf.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Yf(e._queryParams),n=e._path.toString(),r=new tt;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tt(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=yt(a.responseText)}catch(e){id("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&id("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class Jf{constructor(){this.rootNode_=Lf.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Zf(){return{value:null,children:new Map}}function ep(e,t,n){if(Zd(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=qd(t);e.children.has(r)||e.children.set(r,Zf()),ep(e.children.get(r),t=Gd(t),n)}}function tp(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{tp(r,new Wd(t.toString()+"/"+e),n)})}class np{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&fd(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class rp{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new np(e);const n=1e4+2e4*Math.random();yd(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;fd(e,(e,r)=>{r>0&&_t(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),yd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ip,op;function ap(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(op=ip||(ip={}))[op.OVERWRITE=0]="OVERWRITE",op[op.MERGE=1]="MERGE",op[op.ACK_USER_WRITE=2]="ACK_USER_WRITE",op[op.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class sp{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ip.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Zd(this.path)){if(null!=this.affectedTree.value)return je(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wd(e));return new sp($d(),t,this.revert)}}return je(qd(this.path)===e,"operationForChild called for unrelated child."),new sp(Gd(this.path),this.affectedTree,this.revert)}}class lp{constructor(e,t){this.source=e,this.path=t,this.type=ip.LISTEN_COMPLETE}operationForChild(e){return Zd(this.path)?new lp(this.source,$d()):new lp(this.source,Gd(this.path))}}class cp{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ip.OVERWRITE}operationForChild(e){return Zd(this.path)?new cp(this.source,$d(),this.snap.getImmediateChild(e)):new cp(this.source,Gd(this.path),this.snap)}}class up{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ip.MERGE}operationForChild(e){if(Zd(this.path)){const t=this.children.subtree(new Wd(e));return t.isEmpty()?null:t.value?new cp(this.source,$d(),t.value):new up(this.source,$d(),t)}return je(qd(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new up(this.source,Gd(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hp{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Zd(e))return this.isFullyInitialized()&&!this.filtered_;const t=qd(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class dp{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fp(e,t,n,r,i,o){const a=r.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ue("Should only compare child_ events.");const r=new hf(t.childName,t.snapshotNode),i=new hf(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),a.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function pp(e,t){return{eventCache:e,serverCache:t}}function gp(e,t,n,r){return pp(new hp(t,n,r),e.serverCache)}function mp(e,t,n,r){return pp(e.eventCache,new hp(t,n,r))}function vp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function yp(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let bp;class wp{static fromObject(e){let t=new wp(null);return fd(e,(e,n)=>{t=t.set(new Wd(e),n)}),t}constructor(e,t=(()=>(bp||(bp=new yf(cd)),bp))()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:$d(),value:this.value};if(Zd(e))return null;{const n=qd(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Gd(e),t);return null!=i?{path:Jd(new Wd(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Zd(e))return this;{const t=qd(e),n=this.children.get(t);return null!==n?n.subtree(Gd(e)):new wp(null)}}set(e,t){if(Zd(e))return new wp(t,this.children);{const n=qd(e),r=(this.children.get(n)||new wp(null)).set(Gd(e),t),i=this.children.insert(n,r);return new wp(this.value,i)}}remove(e){if(Zd(e))return this.children.isEmpty()?new wp(null):new wp(null,this.children);{const t=qd(e),n=this.children.get(t);if(n){const r=n.remove(Gd(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new wp(null):new wp(this.value,i)}return this}}get(e){if(Zd(e))return this.value;{const t=qd(e),n=this.children.get(t);return n?n.get(Gd(e)):null}}setTree(e,t){if(Zd(e))return t;{const n=qd(e),r=(this.children.get(n)||new wp(null)).setTree(Gd(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new wp(this.value,i)}}fold(e){return this.fold_($d(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Jd(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,$d(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Zd(e))return null;{const r=qd(e),i=this.children.get(r);return i?i.findOnPath_(Gd(e),Jd(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$d(),t)}foreachOnPath_(e,t,n){if(Zd(e))return this;{this.value&&n(t,this.value);const r=qd(e),i=this.children.get(r);return i?i.foreachOnPath_(Gd(e),Jd(t,r),n):new wp(null)}}foreach(e){this.foreach_($d(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Jd(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class _p{constructor(e){this.writeTree_=e}static empty(){return new _p(new wp(null))}}function xp(e,t,n){if(Zd(t))return new _p(new wp(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=ef(i,t);return o=o.updateChild(a,n),new _p(e.writeTree_.set(i,o))}{const r=new wp(n),i=e.writeTree_.setTree(t,r);return new _p(i)}}}function kp(e,t,n){let r=e;return fd(n,(e,n)=>{r=xp(r,Jd(t,e),n)}),r}function Ep(e,t){if(Zd(t))return _p.empty();{const n=e.writeTree_.setTree(t,new wp(null));return new _p(n)}}function Sp(e,t){return null!=Cp(e,t)}function Cp(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ef(n.path,t)):null}function Tp(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(If,(e,n)=>{t.push(new hf(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new hf(e,n.value))}),t}function Ip(e,t){if(Zd(t))return e;{const n=Cp(e,t);return new _p(null!=n?new wp(n):e.writeTree_.subtree(t))}}function Np(e){return e.writeTree_.isEmpty()}function Pp(e,t){return Ap($d(),e.writeTree_,t)}function Ap(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(je(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ap(Jd(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Jd(e,".priority"),r)),n}}function Rp(e,t){return Hp(t,e)}function Dp(e,t){if(e.snap)return rf(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&rf(Jd(e.path,n),t))return!0;return!1}function Mp(e){return e.visible}function Op(e,t,n){let r=_p.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)rf(n,e)?(t=ef(n,e),r=xp(r,t,o.snap)):rf(e,n)&&(t=ef(e,n),r=xp(r,$d(),o.snap.getChild(t)));else{if(!o.children)throw Ue("WriteRecord should have .snap or .children");if(rf(n,e))t=ef(n,e),r=kp(r,t,o.children);else if(rf(e,n))if(t=ef(e,n),Zd(t))r=kp(r,$d(),o.children);else{const e=xt(o.children,qd(t));if(e){const n=e.getChild(Gd(t));r=xp(r,$d(),n)}}}}}return r}function Lp(e,t,n,r,i){if(r||i){const o=Ip(e.visibleWrites,t);if(!i&&Np(o))return n;if(i||null!=n||Sp(o,$d())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(rf(e.path,t)||rf(t,e.path))};return Pp(Op(e.allWrites,o,t),n||Lf.EMPTY_NODE)}return null}{const r=Cp(e.visibleWrites,t);if(null!=r)return r;{const r=Ip(e.visibleWrites,t);return Np(r)?n:null!=n||Sp(r,$d())?Pp(r,n||Lf.EMPTY_NODE):null}}}function Fp(e,t,n,r){return Lp(e.writeTree,e.treePath,t,n,r)}function zp(e,t){return function(e,t,n){let r=Lf.EMPTY_NODE;const i=Cp(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(If,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Ip(e.visibleWrites,t);return n.forEachChild(If,(e,t)=>{const n=Pp(Ip(i,new Wd(e)),t);r=r.updateImmediateChild(e,n)}),Tp(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Tp(Ip(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function jp(e,t,n,r){return function(e,t,n,r,i){je(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Jd(t,n);if(Sp(e.visibleWrites,o))return null;{const t=Ip(e.visibleWrites,o);return Np(t)?i.getChild(n):Pp(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Up(e,t){return function(e,t){return Cp(e.visibleWrites,t)}(e.writeTree,Jd(e.treePath,t))}function Vp(e,t,n){return function(e,t,n,r){const i=Jd(t,n),o=Cp(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Pp(Ip(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Bp(e,t){return Hp(Jd(e.treePath,t),e.writeTree)}function Hp(e,t){return{treePath:e,writeTree:t}}class Wp{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;je("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),je(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Wf(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Hf(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Bf(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ue("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Wf(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const $p=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class qp{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new hp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vp(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yp(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const l=Ip(e.visibleWrites,t),c=Cp(l,$d());if(null!=c)s=c;else{if(null==n)return[];s=Pp(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Kp(e,t,n,r,i,o){const a=t.eventCache;if(null!=Up(r,n))return t;{let s,l;if(Zd(n))if(je(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=yp(t),i=zp(r,n instanceof Lf?n:Lf.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Fp(r,yp(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=qd(n);if(".priority"===c){je(1===Kd(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const o=jp(r,n,i,l);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const u=Gd(n);let h;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=jp(r,n,a.getNode(),l);h=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else h=Vp(r,c,t.serverCache);s=null!=h?e.filter.updateChild(a.getNode(),c,h,u,i,o):a.getNode()}}return gp(t,s,a.isFullyInitialized()||Zd(n),e.filter.filtersNodes())}}function Gp(e,t,n,r,i,o,a,s){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(Zd(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=qd(n);if(!l.isCompleteForPath(n)&&Kd(n)>1)return t;const i=Gd(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,$p,null)}const h=mp(t,c,l.isFullyInitialized()||Zd(n),u.filtersNodes());return Kp(e,h,n,i,new qp(i,h,o),s)}function Yp(e,t,n,r,i,o,a){const s=t.eventCache;let l,c;const u=new qp(i,t,o);if(Zd(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=gp(t,c,!0,e.filter.filtersNodes());else{const i=qd(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=gp(t,c,s.isFullyInitialized(),s.isFiltered());else{const o=Gd(n),c=s.getNode().getImmediateChild(i);let h;if(Zd(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Yd(o)&&e.getChild(Xd(o)).isEmpty()?e:e.updateChild(o,r):Lf.EMPTY_NODE}l=c.equals(h)?t:gp(t,e.filter.updateChild(s.getNode(),i,h,o,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Qp(e,t){return e.eventCache.isCompleteForChild(t)}function Xp(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Jp(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Zd(n)?r:new wp(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Xp(0,t.serverCache.getNode().getImmediateChild(n),r);c=Gp(e,c,new Wd(n),l,i,o,a,s)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Xp(0,t.serverCache.getNode().getImmediateChild(n),r);c=Gp(e,c,new Wd(n),l,i,o,a,s)}}),c}class Zp{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new $f(n.getIndex()),i=(o=n).loadsAllData()?new $f(o.getIndex()):o.hasLimit()?new Kf(o):new qf(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(Lf.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(Lf.EMPTY_NODE,s.getNode(),null),u=new hp(l,a.isFullyInitialized(),r.filtersNodes()),h=new hp(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=pp(h,u),this.eventGenerator_=new dp(this.query_)}get query(){return this.query_}}function eg(e,t){const n=yp(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Zd(t)&&!n.getImmediateChild(qd(t)).isEmpty())?n.getChild(t):null}function tg(e){return 0===e.eventRegistrations_.length}function ng(e,t,n){const r=[];if(n){je(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function rg(e,t,n,r){t.type===ip.MERGE&&null!==t.source.queryId&&(je(yp(e.viewCache_),"We should always have a full cache before handling merges"),je(vp(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new Wp;let a,s;if(n.type===ip.OVERWRITE){const l=n;l.source.fromUser?a=Yp(e,t,l.path,l.snap,r,i,o):(je(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!Zd(l.path),a=Gp(e,t,l.path,l.snap,r,i,s,o))}else if(n.type===ip.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach((r,l)=>{const c=Jd(n,r);Qp(t,qd(c))&&(s=Yp(e,s,c,l,i,o,a))}),r.foreach((r,l)=>{const c=Jd(n,r);Qp(t,qd(c))||(s=Yp(e,s,c,l,i,o,a))}),s}(e,t,l.path,l.children,r,i,o):(je(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Jp(e,t,l.path,l.children,r,i,s,o))}else if(n.type===ip.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=Up(r,n))return t;{const s=new qp(r,t,i),l=t.eventCache.getNode();let c;if(Zd(n)||".priority"===qd(n)){let n;if(t.serverCache.isFullyInitialized())n=Fp(r,yp(t));else{const e=t.serverCache.getNode();je(e instanceof Lf,"serverChildren would be complete if leaf node"),n=zp(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=qd(n);let u=Vp(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Gd(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Lf.EMPTY_NODE,Gd(n),s,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Fp(r,yp(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=Up(r,$d()),gp(t,c,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=Up(i,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Zd(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Gp(e,t,n,l.getNode().getChild(n),i,o,s,a);if(Zd(n)){let r=new wp(null);return l.getNode().forEachChild(gf,(e,t)=>{r=r.set(new Wd(e),t)}),Jp(e,t,n,r,i,o,s,a)}return t}{let c=new wp(null);return r.foreach((e,t)=>{const r=Jd(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Jp(e,t,n,c,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==ip.LISTEN_COMPLETE)throw Ue("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return Kp(e,mp(t,o.getNode(),o.isFullyInitialized()||Zd(n),o.isFiltered()),n,r,$p,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=vp(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Vf(vp(t)))}}(t,a,l),{viewCache:a,changes:l}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,je(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),je(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),je(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,ig(e,o.changes,o.viewCache.eventCache.getNode(),null)}function ig(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),fp(e,i,"child_removed",t,r,n),fp(e,i,"child_added",t,r,n),fp(e,i,"child_moved",o,r,n),fp(e,i,"child_changed",t,r,n),fp(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let og,ag;class sg{constructor(){this.views=new Map}}function lg(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return je(null!=o,"SyncTree gave us an op for an invalid query."),rg(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(rg(o,t,n,r));return i}}function cg(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=Fp(n,i?r:null),o=!1;e?o=!0:r instanceof Lf?(e=zp(n,r),o=!1):(e=Lf.EMPTY_NODE,o=!1);const a=pp(new hp(e,o,!1),new hp(r,i,!1));return new Zp(t,a)}return a}function ug(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function hg(e,t){let n=null;for(const r of e.views.values())n=n||eg(r,t);return n}function dg(e,t){if(t._queryParams.loadsAllData())return gg(e);{const n=t._queryIdentifier;return e.views.get(n)}}function fg(e,t){return null!=dg(e,t)}function pg(e){return null!=gg(e)}function gg(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let mg=1;class vg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wp(null),this.pendingWriteTree_={visibleWrites:_p.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yg(e,t,n,r,i){return function(e,t,n,r,i){je(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=xp(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Sg(e,new cp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function bg(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);je(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Dp(t,r.path)?i=!1:rf(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=Op(e.allWrites,Mp,$d()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=Ep(e.visibleWrites,r.path):fd(r.children,t=>{e.visibleWrites=Ep(e.visibleWrites,Jd(r.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new wp(null);return null!=r.snap?t=t.set($d(),!0):fd(r.children,e=>{t=t.set(new Wd(e),!0)}),Sg(e,new sp(r.path,t,n))}return[]}function wg(e,t,n){return Sg(e,new cp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _g(e,t,n,r,i=!1){const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||fg(a,t))){const l=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=pg(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(ng(i,n,r)),tg(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(ng(t,n,r)),tg(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!pg(e)&&o.push(new(je(og,"Reference.ts has not been loaded"),og)(t._repo,t._path)),{removed:o,events:a}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(s=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>pg(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&pg(t))return[gg(t)];{let e=[];return t&&(e=ug(t)),fd(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Ig(e,r);e.listenProvider_.startListening(Mg(i),Ng(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Mg(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Pg(t));e.listenProvider_.stopListening(Mg(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Pg(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function xg(e,t,n,r){const i=Ag(e,r);if(null!=i){const r=Rg(i),o=r.path,a=r.queryId,s=ef(o,t);return Dg(e,o,new cp(ap(a),s,n))}return[]}function kg(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=ef(e,i);o=o||hg(t,n),a=a||pg(t)});let s,l=e.syncPointTree_.get(i);l?(a=a||pg(l),o=o||hg(l,$d())):(l=new sg,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o?s=!0:(s=!1,o=Lf.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=hg(t,$d());n&&(o=o.updateImmediateChild(e,n))}));const c=fg(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Pg(t);je(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=mg++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,o){const a=cg(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(If,(e,t)=>{r.push(Bf(e,t))}),n.isFullyInitialized()&&r.push(Vf(n.getNode())),ig(e,r,n.getNode(),t)}(a,n)}(l,t,n,Rp(e.pendingWriteTree_,i),o,s);if(!c&&!a&&!r){const n=dg(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Ng(e,t),o=Ig(e,n),a=e.listenProvider_.startListening(Mg(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)je(!pg(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold((e,t,n)=>{if(!Zd(e)&&t&&pg(t))return[gg(t).query];{let e=[];return t&&(e=e.concat(ug(t).map(e=>e.query))),fd(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Mg(r),Ng(e,r))}}return a}(e,t,n))}return u}function Eg(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=hg(n,ef(e,t));if(r)return r});return Lp(r,t,i,n,!0)}function Sg(e,t){return Cg(t,e.syncPointTree_,null,Rp(e.pendingWriteTree_,$d()))}function Cg(e,t,n,r){if(Zd(e.path))return Tg(e,t,n,r);{const i=t.get($d());null==n&&null!=i&&(n=hg(i,$d()));let o=[];const a=qd(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=Bp(r,a);o=o.concat(Cg(s,l,e,t))}return i&&(o=o.concat(lg(i,e,r,n))),o}}function Tg(e,t,n,r){const i=t.get($d());null==n&&null!=i&&(n=hg(i,$d()));let o=[];return t.children.inorderTraversal((t,i)=>{const a=n?n.getImmediateChild(t):null,s=Bp(r,t),l=e.operationForChild(t);l&&(o=o.concat(Tg(l,i,a,s)))}),i&&(o=o.concat(lg(i,e,r,n))),o}function Ig(e,t){const n=t.query,r=Ng(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Lf.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ag(e,n);if(r){const n=Rg(r),i=n.path,o=n.queryId,a=ef(i,t);return Dg(e,i,new lp(ap(o),a))}return[]}(e,n._path,r):function(e,t){return Sg(e,new lp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _g(e,n,null,r)}}}}function Ng(e,t){const n=Pg(t);return e.queryToTagMap.get(n)}function Pg(e){return e._path.toString()+"$"+e._queryIdentifier}function Ag(e,t){return e.tagToQueryMap.get(t)}function Rg(e){const t=e.indexOf("$");return je(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Wd(e.substr(0,t))}}function Dg(e,t,n){const r=e.syncPointTree_.get(t);return je(r,"Missing sync point for query tag that we're tracking"),lg(r,n,Rp(e.pendingWriteTree_,t),null)}function Mg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(je(ag,"Reference.ts has not been loaded"),ag)(e._repo,e._path):e}class Og{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Og(t)}node(){return this.node_}}class Lg{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Jd(this.path_,e);return new Lg(this.syncTree_,t)}node(){return Eg(this.syncTree_,this.path_)}}const Fg=function(e,t,n){return e&&"object"==typeof e?(je(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?zg(e[".sv"],t,n):"object"==typeof e[".sv"]?jg(e[".sv"],t):void je(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},zg=function(e,t,n){if("timestamp"===e)return n.timestamp;je(!1,"Unexpected server value: "+e)},jg=function(e,t,n){e.hasOwnProperty("increment")||je(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&je(!1,"Unexpected increment value: "+r);const i=t.node();if(je(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Ug=function(e,t,n,r){return Bg(t,new Lg(n,e),r)},Vg=function(e,t,n){return Bg(e,new Og(t),n)};function Bg(e,t,n){const r=e.getPriority().val(),i=Fg(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Fg(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Tf(o,zf(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Tf(i))),r.forEachChild(If,(e,r)=>{const i=Bg(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class Hg{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Wg(e,t){let n=t instanceof Wd?t:new Wd(t),r=e,i=qd(n);for(;null!==i;){const e=xt(r.node.children,i)||{children:{},childCount:0};r=new Hg(i,r,e),n=Gd(n),i=qd(n)}return r}function $g(e){return e.node.value}function qg(e,t){e.node.value=t,Xg(e)}function Kg(e){return e.node.childCount>0}function Gg(e,t){fd(e.node.children,(n,r)=>{t(new Hg(n,e,r))})}function Yg(e,t,n,r){n&&!r&&t(e),Gg(e,e=>{Yg(e,t,!0,r)}),n&&r&&t(e)}function Qg(e){return new Wd(null===e.parent?e.name:Qg(e.parent)+"/"+e.name)}function Xg(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===$g(e)&&!Kg(e)}(n),i=_t(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Xg(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Xg(e))}(e.parent,e.name,e)}const Jg=/[\[\].#$\/\u0000-\u001F\u007F]/,Zg=/[\[\].#$\u0000-\u001F\u007F]/,em=10485760,tm=function(e){return"string"==typeof e&&0!==e.length&&!Jg.test(e)},nm=function(e){return"string"==typeof e&&0!==e.length&&!Zg.test(e)},rm=function(e,t,n,r){r&&void 0===t||im(Dt(e,"value"),t,n)},im=function(e,t,n){const r=n instanceof Wd?new of(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+sf(r));if("function"==typeof t)throw new Error(e+"contains a function "+sf(r)+" with contents = "+t.toString());if(od(t))throw new Error(e+"contains "+t.toString()+" "+sf(r));if("string"==typeof t&&t.length>em/3&&Mt(t)>em)throw new Error(e+"contains a string greater than "+em+" utf8 bytes "+sf(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(fd(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!tm(t)))throw new Error(e+" contains an invalid key ("+t+") "+sf(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Mt(t),af(e)}(r,t),im(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Mt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+sf(r)+" in addition to actual children.")}},om=function(e,t,n,r){if(r&&void 0===t)return;const i=Dt(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];fd(t,(e,t)=>{const r=new Wd(e);if(im(i,t,Jd(n,r)),".priority"===Yd(r)&&!(null===(a=t)||"string"==typeof a||"number"==typeof a&&!od(a)||a&&"object"==typeof a&&_t(a,".sv")))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");var a;o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Qd(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!tm(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(tf);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&rf(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},am=function(e,t,n,r){if(!(r&&void 0===n||nm(n)))throw new Error(Dt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sm=function(e,t){if(".info"===qd(t))throw new Error(e+" failed = Can't modify data under /.info/")};class lm{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cm(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||nf(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function um(e,t,n){cm(e,n),function(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(hm(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,e=>rf(e,t)||rf(t,e))}function hm(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Jh&&ed("event: "+n.toString()),vd(r)}}}class dm{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zf(),this.transactionQueueTree_=new Hg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fm(e,t,n){if(e.stats_=Rd(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Xf(e.repoInfo_,(t,n,r,i)=>{mm(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>vm(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bt(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new uf(e.repoInfo_,t,(t,n,r,i)=>{mm(e,t,n,r,i)},t=>{vm(e,t)},t=>{!function(e,t){fd(t,(t,n)=>{ym(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(t){const n=t.toString();return Ad[n]||(Ad[n]=new rp(e.stats_,e.server_)),Ad[n]}(e.repoInfo_),e.infoData_=new Jf,e.infoSyncTree_=new vg({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=wg(e.infoSyncTree_,t._path,a),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),ym(e,"connected",!1),e.serverSyncTree_=new vg({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);um(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function pm(e){const t=e.infoData_.getNode(new Wd(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gm(e){return(t=(t={timestamp:pm(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function mm(e,t,n,r,i){e.dataUpdateCount++;const o=new Wd(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=Et(n,e=>zf(e));a=function(e,t,n,r){const i=Ag(e,r);if(i){const r=Rg(i),o=r.path,a=r.queryId,s=ef(o,t),l=wp.fromObject(n);return Dg(e,o,new up(ap(a),s,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=zf(n);a=xg(e.serverSyncTree_,o,t,i)}else if(r){const t=Et(n,e=>zf(e));a=function(e,t,n){const r=wp.fromObject(n);return Sg(e,new up({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=zf(n);a=wg(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=Em(e,o)),um(e.eventQueue_,s,a)}function vm(e,t){ym(e,"connected",t),!1===t&&function(e){wm(e,"onDisconnectEvents");const t=gm(e),n=Zf();tp(e.onDisconnect_,$d(),(r,i)=>{const o=Ug(r,i,e.serverSyncTree_,t);ep(n,r,o)});let r=[];tp(n,$d(),(t,n)=>{r=r.concat(wg(e.serverSyncTree_,t,n));const i=Nm(e,t);Em(e,i)}),e.onDisconnect_=Zf(),um(e.eventQueue_,$d(),r)}(e)}function ym(e,t,n){const r=new Wd("/.info/"+t),i=zf(n);e.infoData_.updateSnapshot(r,i);const o=wg(e.infoSyncTree_,r,i);um(e.eventQueue_,r,o)}function bm(e){return e.nextWriteId_++}function wm(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ed(n,...t)}function _m(e,t,n,r){t&&vd(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function xm(e,t,n){return Eg(e.serverSyncTree_,t,n)||Lf.EMPTY_NODE}function km(e,t=e.transactionQueueTree_){if(t||Im(e,t),$g(t)){const n=Cm(e,t);je(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=xm(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];je(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=ef(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,r=>{wm(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(bg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Im(e,Wg(e.transactionQueueTree_,t)),km(e,e.transactionQueueTree_),um(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)vd(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{id("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Em(e,t)}},a)}(e,Qg(t),n)}else Kg(t)&&Gg(t,t=>{km(e,t)})}function Em(e,t){const n=Sm(e,t),r=Qg(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),a=o.map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const s=t[o],l=ef(n,s.path);let c,u=!1;if(je(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(bg(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(bg(e.serverSyncTree_,s.currentWriteId,!0));else{const n=xm(e,s.path,a);s.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){im("transaction failed: Data returned ",r,s.path);let t=zf(r);"object"==typeof r&&null!=r&&_t(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,l=gm(e),c=Vg(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=bm(e),a.splice(a.indexOf(o),1),i=i.concat(yg(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(bg(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(bg(e.serverSyncTree_,s.currentWriteId,!0))}um(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,function(e){setTimeout(e,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&("nodata"===c?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(new Error(c),!1,null))))}Im(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)vd(r[e]);km(e,e.transactionQueueTree_)}(e,Cm(e,n),r),r}function Sm(e,t){let n,r=e.transactionQueueTree_;for(n=qd(t);null!==n&&void 0===$g(r);)r=Wg(r,n),n=qd(t=Gd(t));return r}function Cm(e,t){const n=[];return Tm(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Tm(e,t,n){const r=$g(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Gg(t,t=>{Tm(e,t,n)})}function Im(e,t){const n=$g(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,qg(t,n.length>0?n:void 0)}Gg(t,t=>{Im(e,t)})}function Nm(e,t){const n=Qg(Sm(e,t)),r=Wg(e.transactionQueueTree_,t);return function(e,t){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(r,t=>{Pm(e,t)}),Pm(e,r),Yg(r,t=>{Pm(e,t)}),n}function Pm(e,t){const n=$g(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(je(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(je(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(bg(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?qg(t,void 0):n.length=o+1,um(e.eventQueue_,Qg(t),i);for(let e=0;e<r.length;e++)vd(r[e])}}const Am=function(e,t){const n=Rm(e),r=n.namespace;"firebase.com"===n.domain&&rd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&id("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Td(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Wd(n.pathString)}},Rm=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):id(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Dm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mm=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Dm.charAt(n%64),n=Math.floor(n/64);je(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=Dm.charAt(t[i]);return je(20===a.length,"nextPushId: Length should be 20."),a}}();class Om{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bt(this.snapshot.exportVal())}}class Lm{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fm{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return je(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zm{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Zd(this._path)?null:Yd(this._path)}get ref(){return new jm(this._repo,this._path)}get _queryIdentifier(){const e=Qf(this._queryParams),t=hd(e);return"{}"===t?"default":t}get _queryObject(){return Qf(this._queryParams)}isEqual(e){if(!((e=Lt(e))instanceof zm))return!1;const t=this._repo===e._repo,n=nf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class jm extends zm{constructor(e,t){super(e,t,new Gf,!1)}get parent(){const e=Xd(this._path);return null===e?null:new jm(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Um{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Wd(e),n=Bm(this.ref,e);return new Um(this._node.getChild(t),n,If)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new Um(n,Bm(this.ref,t),If)))}hasChild(e){const t=new Wd(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vm(e,t){return(e=Lt(e))._checkNotDeleted("ref"),void 0!==t?Bm(e._root,t):e._root}function Bm(e,t){var n;return null===qd((e=Lt(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),am("child","path",n,false)):am("child","path",t,!1),new jm(e._repo,Jd(e._path,t))}function Hm(e,t){e=Lt(e),sm("set",e._path),rm("set",t,e._path,!1);const n=new tt;return function(e,t,n,r,i){wm(e,"set",{path:t.toString(),value:n,priority:r});const o=gm(e),a=zf(n,r),s=Eg(e.serverSyncTree_,t),l=Vg(a,s,o),c=bm(e),u=yg(e.serverSyncTree_,t,l,c,!0);cm(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(n,r)=>{const o="ok"===n;o||id("set at "+t+" failed: "+n);const a=bg(e.serverSyncTree_,c,!o);um(e.eventQueue_,t,a),_m(0,i,n,r)});const h=Nm(e,t);Em(e,h),um(e.eventQueue_,h,[])}(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Wm(e,t){om("update",t,e._path,!1);const n=new tt;return function(e,t,n,r){wm(e,"update",{path:t.toString(),value:n});let i=!0;const o=gm(e),a={};if(fd(n,(n,r)=>{i=!1,a[n]=Ug(Jd(t,n),zf(r),e.serverSyncTree_,o)}),i)ed("update() called with empty data.  Don't do anything."),_m(0,r,"ok",void 0);else{const i=bm(e),o=function(e,t,n,r){!function(e,t,n,r){je(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=kp(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=wp.fromObject(n);return Sg(e,new up({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,a,i);cm(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const a="ok"===n;a||id("update at "+t+" failed: "+n);const s=bg(e.serverSyncTree_,i,!a),l=s.length>0?Em(e,t):t;um(e.eventQueue_,l,s),_m(0,r,n,o)}),fd(n,n=>{const r=Nm(e,Jd(t,n));Em(e,r)}),um(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function $m(e){e=Lt(e);const t=new Fm(()=>{}),n=new qm(t);return function(e,t,n){const r=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=ef(e,n);r=r||hg(t,i)});let i=e.syncPointTree_.get(n);i?r=r||hg(i,$d()):(i=new sg,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new hp(r,!0,!1):null;return vp(cg(i,t,Rp(e.pendingWriteTree_,t._path),o?a.getNode():Lf.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=zf(r).withIndex(t._queryParams.getIndex());let o;if(kg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=wg(e.serverSyncTree_,t._path,i);else{const n=Ng(e.serverSyncTree_,t);o=xg(e.serverSyncTree_,t._path,i,n)}return um(e.eventQueue_,t._path,o),_g(e.serverSyncTree_,t,n,null,!0),i},n=>(wm(e,"get for query "+bt(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Um(t,new jm(e._repo,e._path),e._queryParams.getIndex()))}class qm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Om("value",this,new Um(e.snapshotNode,new jm(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Lm(this,e,t):null}matches(e){return e instanceof qm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){je(!og,"__referenceConstructor has already been defined"),og=e}(jm),function(e){je(!ag,"__referenceConstructor has already been defined"),ag=e}(jm);const Km={};function Gm(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||rd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ed("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,l=Am(o,i),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${c.namespace}`,l=Am(o,i),c=l.repoInfo):a=!l.repoInfo.secure;const u=i&&a?new _d(_d.OWNER):new wd(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tm(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nm(e)}(n))throw new Error(Dt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",l),Zd(l.path)||rd("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Km[t.name];i||(i={},Km[t.name]=i);let o=i[e.toURLString()];return o&&rd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dm(e,false,n,r),i[e.toURLString()]=o,o}(c,e,u,new bd(e,n));return new Ym(h,e)}class Ym{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fm(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jm(this._repo,$d())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=Km[t];n&&n[e.key]===e||rd(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&rd("Cannot call "+e+" on a deleted database.")}}uf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},Bh=Zn,Gn(new Ft("database",(e,{instanceIdentifier:t})=>Gm(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),nr(Uh,Vh,void 0),nr(Uh,Vh,"esm2020");const Qm="@firebase/installations",Xm="0.6.19",Jm=`w:${Xm}`,Zm="FIS_v2",ev=new mt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tv(e){return e instanceof gt&&e.code.includes("request-failed")}function nv({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function rv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function iv(e,t){const n=(await t.json()).error;return ev.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ov({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function av(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sv(e){return new Promise(t=>{setTimeout(t,e)})}const lv=/^[cdef][\w-]{21}$/;function cv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return lv.test(t)?t:""}catch{return""}}function uv(e){return`${e.appName}!${e.appId}`}const hv=new Map;function dv(e,t){const n=uv(e);fv(n,t),function(e,t){const n=(!pv&&"BroadcastChannel"in self&&(pv=new BroadcastChannel("[Firebase] FID Change"),pv.onmessage=e=>{fv(e.data.key,e.data.fid)}),pv);n&&n.postMessage({key:e,fid:t}),0===hv.size&&pv&&(pv.close(),pv=null)}(n,t)}function fv(e,t){const n=hv.get(e);if(n)for(const e of n)e(t)}let pv=null;const gv="firebase-installations-store";let mv=null;function vv(){return mv||(mv=an("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(gv)}})),mv}async function yv(e,t){const n=uv(e),r=(await vv()).transaction(gv,"readwrite"),i=r.objectStore(gv),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||dv(e,t.fid),t}async function bv(e){const t=uv(e),n=(await vv()).transaction(gv,"readwrite");await n.objectStore(gv).delete(t),await n.done}async function wv(e,t){const n=uv(e),r=(await vv()).transaction(gv,"readwrite"),i=r.objectStore(gv),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||dv(e,a.fid),a}async function _v(e){let t;const n=await wv(e.appConfig,n=>{const r=function(e){return Ev(e||{fid:cv(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ev.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=nv(e),i=ov(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={fid:n,authVersion:Zm,appId:e.appId,sdkVersion:Jm},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await av(()=>fetch(r,s));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:rv(e.authToken)}}throw await iv("Create Installation",l)}(e,t);return yv(e.appConfig,n)}catch(n){throw tv(n)&&409===n.customData.serverCode?await bv(e.appConfig):await yv(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:xv(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function xv(e){let t=await kv(e.appConfig);for(;1===t.registrationStatus;)await sv(100),t=await kv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await _v(e);return n||t}return t}function kv(e){return wv(e,e=>{if(!e)throw ev.create("installation-not-found");return Ev(e)})}function Ev(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Sv({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${nv(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=ov(e);return n.append("Authorization",function(e){return`${Zm} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:Jm,appId:e.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await av(()=>fetch(r,s));if(l.ok)return rv(await l.json());throw await iv("Generate Auth Token",l)}async function Cv(e,t=!1){let n;const r=await wv(e.appConfig,r=>{if(!Iv(r))throw ev.create("not-registered");const i=r.authToken;if(!t&&(2===(o=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(o)))return r;var o;if(1===i.requestStatus)return n=async function(e,t){let n=await Tv(e.appConfig);for(;1===n.authToken.requestStatus;)await sv(100),n=await Tv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Cv(e,t):r}(e,t),r;{if(!navigator.onLine)throw ev.create("app-offline");const t=function(e){return{...e,authToken:{requestStatus:1,requestTime:Date.now()}}}(r);return n=async function(e,t){try{const n=await Sv(e,t),r={...t,authToken:n};return await yv(e.appConfig,r),n}catch(n){if(!tv(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await yv(e.appConfig,n)}else await bv(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function Tv(e){return wv(e,e=>{if(!Iv(e))throw ev.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?{...e,authToken:{requestStatus:0}}:e;var t})}function Iv(e){return void 0!==e&&2===e.registrationStatus}function Nv(e){return ev.create("missing-app-config-values",{valueName:e})}const Pv="installations";Gn(new Ft(Pv,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Nv("App Configuration");if(!e.name)throw Nv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Nv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Yn(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Gn(new Ft("installations-internal",e=>{const t=Yn(e.getProvider("app").getImmediate(),Pv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await _v(t);return r?r.catch(console.error):Cv(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await _v(e);t&&await t}(n),(await Cv(n,t)).token}(t,e)}},"PRIVATE")),nr(Qm,Xm),nr(Qm,Xm,"esm2020");const Av="analytics",Rv="https://www.googletagmanager.com/gtag/js",Dv=new Kt("@firebase/analytics"),Mv=new mt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ov(e){if(!e.startsWith(Rv)){const t=Mv.create("invalid-gtag-resource",{gtagURL:e});return Dv.warn(t.message),""}return e}function Lv(e){return Promise.all(e.map(e=>e.catch(e=>e)))}const Fv=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function zv(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function jv(e,t=Fv,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Mv.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Mv.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Vv;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),Uv({appId:r,apiKey:i,measurementId:o},a,s,t)}async function Uv(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Fv){const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Mv.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(e){if(a)return Dv.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:o,measurementId:a};throw e}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:zv(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{const t=await o.json();t.error?.message&&(e=t.error.message)}catch(e){}throw Mv.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return i.deleteThrottleMetadata(o),t}catch(t){const s=t;if(!function(e){if(!(e instanceof gt&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s)){if(i.deleteThrottleMetadata(o),a)return Dv.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${s?.message}]`),{appId:o,measurementId:a};throw t}const l=503===Number(s?.customData?.httpStatus)?Ot(n,i.intervalMillis,30):Ot(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,c),Dv.debug(`Calling attemptFetch again in ${l} millis`),Uv(e,c,r,i)}}class Vv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Bv,Hv;async function Wv(e,t,n,r,i,o,a){const s=jv(e);s.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Dv.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Dv.error(e)),t.push(s);const l=async function(){if(!ft())return Dv.warn(Mv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await pt()}catch(e){return Dv.warn(Mv.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([s,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rv)&&n.src.includes(e))return n;return null})(o)||function(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy("firebase-js-sdk-policy",t)),n}(0,{createScriptURL:Ov}),r=document.createElement("script"),i=`${Rv}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,c.measurementId),Hv&&(i("consent","default",Hv),Hv=void 0),i("js",new Date);const h=a?.config??{};return h.origin="firebase",h.update=!0,null!=u&&(h.firebase_id=u),i("config",c.measurementId,h),Bv&&(i("set",Bv),Bv=void 0),c.measurementId}class $v{constructor(e){this.app=e}_delete(){return delete qv[this.app.options.appId],Promise.resolve()}}let qv={},Kv=[];const Gv={};let Yv,Qv,Xv="dataLayer",Jv=!1;function Zv(e,t,n){!function(){const e=[];if(ut()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Mv.create("invalid-analytics-context",{errorInfo:t});Dv.warn(n.message)}}();const r=e.options.appId;if(!r)throw Mv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Mv.create("no-api-key");Dv.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qv[r])throw Mv.create("already-exists",{id:r});if(!Jv){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Xv);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return async function(i,...o){try{if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Lv(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(e){Dv.error(e)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await Lv(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){Dv.error(e)}e("config",i,o)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(e){Dv.error(e)}}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(qv,Kv,Gv,Xv,"gtag");Qv=e,Yv=t,Jv=!0}return qv[r]=Wv(e,Kv,Gv,t,Yv,Xv,n),new $v(e)}const ey="@firebase/analytics",ty="0.10.19";Gn(new Ft(Av,(e,{options:t})=>Zv(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Gn(new Ft("analytics-internal",function(e){try{const t=e.getProvider(Av).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Lt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,{...r,send_to:i})}}(Qv,qv[e.app.options.appId],t,n,r).catch(e=>Dv.error(e))}(t,e,n,r),setUserProperties:(e,n)=>function(e,t,n){e=Lt(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Qv,qv[e.app.options.appId],t,n).catch(e=>Dv.error(e))}(t,e,n)}}catch(e){throw Mv.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),nr(ey,ty),nr(ey,ty,"esm2020");const ny={apiKey:"AIzaSyCzyBwFrRvqoMcspj7lIYpiR3nRa7Bcy00",authDomain:"oa-ai-dash.firebaseapp.com",databaseURL:"https://oa-ai-dash-default-rtdb.firebaseio.com",projectId:"oa-ai-dash",storageBucket:"oa-ai-dash.firebasestorage.app",messagingSenderId:"1036320496271",appId:"1:1036320496271:web:ef72456abd7bcf3f02aefa",measurementId:"G-GKETS43FTH"};ny.apiKey&&ny.projectId||console.error("❌ Firebase configuration is incomplete. Check your environment variables.");const ry=er(ny),iy=function(e=tr()){const t=Yn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Yn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(St(n.getOptions(),t??{}))return e;mr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ha,persistence:[To,co,ho]}),r=et("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ga)return;const r=t?.token;ma!==r&&(ma=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Lt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e){Lt(e).onIdTokenChanged(e=>t(e),void 0,void 0)}(n)}}var i;const o=Xe("auth");return o&&function(e,t,n){const r=xi(e);_r(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=Di(t),{host:a,port:s}=function(e){const t=Di(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Mi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Mi(t)}}}(t),l=null===s?"":`:${s}`,c={url:`${o}//${a}${l}/`},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return _r(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void _r(St(c,r.config.emulator)&&St(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,nt(a)?(rt(`${o}//${a}${l}`),st("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}(ry),oy=new Yi,ay=new Qi,sy=(function(e){const t="object"==typeof e?e:tr(),n="string"==typeof e?e:dl,r=Yn(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Je("firestore");e&&function(e,t,n,r={}){e=vs(e,yh);const i=nt(t),o=e._getSettings(),a={...o,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(rt(`https://${s}`),st("Firestore",!0)),o.host!==gh&&o.host!==s&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!St(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ma.MOCK_USER;else{t=it(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Ka(qa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ma(i)}e._authCredentials=new Xa(new Ya(t,n))}}(r,...e)}}(ry),function(e=tr(),t){const n=Yn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Je("database");e&&function(e,t,n,r={}){(e=Lt(e))._checkNotDeleted("useEmulator");const i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&St(r,o.repoInfo_.emulatorOptions))return;rd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&rd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new _d(_d.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:it(r.mockUserToken,e.app.options.projectId);a=new _d(t)}nt(t)&&(rt(t),st("Database",!0)),function(e,t,n,r){const i=t.lastIndexOf(":"),o=nt(t.substring(0,i));e.repoInfo_=new Td(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,a)}(n,...e)}return n}(ry));function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach(function(t){uy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uy(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hy=async e=>{try{const t=Vm(sy,"users/".concat(e,"/projects")),n=await $m(t);if(n.exists()){const e=n.val();return e&&"object"==typeof e?Object.keys(e).map(t=>cy({id:t},e[t])):[]}return console.log("No projects found for user, returning empty array"),[]}catch(e){return console.error("Error getting projects from Realtime Database:",e),[]}},dy=async(e,t)=>{try{const n=Vm(sy,"users/".concat(e,"/projects/").concat(t));return await function(e){return sm("remove",e._path),Hm(e,null)}(n),console.log("✅ Project deleted from Realtime Database"),!0}catch(e){throw console.error("❌ Error deleting project from Realtime Database:",e),e}};function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(t){gy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gy(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const my=(0,r.createContext)(),vy=()=>(0,r.useContext)(my),yy=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(!0),s=async e=>{if(e)try{await(async e=>{if(e)try{var t;const n=Vm(sy,"users/".concat(e.uid)),r=await $m(n),i={uid:e.uid,email:e.email,displayName:e.displayName||(null===(t=e.email)||void 0===t?void 0:t.split("@")[0]),photoURL:e.photoURL||null,lastLogin:(new Date).toISOString()};return r.exists()?(await Wm(n,{lastLogin:i.lastLogin}),console.log("✅ User login updated in Realtime Database:",e.email)):(await Hm(n,cy(cy({},i),{},{createdAt:(new Date).toISOString(),projects:[],preferences:{theme:"light",notifications:!0}})),console.log("✅ New user created in Realtime Database:",e.email)),i}catch(e){throw console.error("❌ Error saving user to Realtime Database:",e),e}})(e)}catch(e){throw console.error("❌ Error saving user to database:",e),e}};(0,r.useEffect)(()=>{const e=localStorage.getItem("demoUser");if(e)return i(JSON.parse(e)),void a(!1);const t=function(e){return Lt(e).onAuthStateChanged(async e=>{e&&!e.isDemo&&await s(e),i(e),a(!1)},void 0,void 0)}(iy);return t},[]);const l={currentUser:n,signInWithGoogle:async()=>{try{const e=await Uo(iy,oy);return await s(e.user),e}catch(e){throw console.error("Error signing in with Google:",e),e}},signInWithGithub:async()=>{try{const e=await Uo(iy,ay);return await s(e.user),e}catch(e){throw console.error("Error signing in with GitHub:",e),e}},signInWithEmail:async(e,t)=>{try{const n=await function(e,t,n){return Qn(e.app)?Promise.reject(br(e)):async function(e,t){return ro(xi(e),t)}(Lt(e),$i.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&io(e),t})}(iy,e,t);return await s(n.user),n}catch(e){throw console.error("Error signing in with email:",e),e}},signUpWithEmail:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=await async function(e,t,n){if(Qn(e.app))return Promise.reject(br(e));const r=xi(e),i=Ri(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ji,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&io(e),t}),a=await Zi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(iy,e,t),i=py(py({},r.user),{},{displayName:n||e.split("@")[0]});return await s(i),r}catch(e){throw console.error("Error signing up with email:",e),e}},demoLogin:()=>{const e={uid:"demo-user-123",email:"demo@oaitracker.com",displayName:"Demo User",photoURL:null,isDemo:!0};return i(e),localStorage.setItem("demoUser",JSON.stringify(e)),Promise.resolve(e)},logout:async()=>{if(n&&n.isDemo){try{localStorage.removeItem("demoUser"),localStorage.removeItem("demoData")}catch(e){console.warn("Could not remove demo data from localStorage:",e)}return i(null),Promise.resolve()}try{return await function(e){return Lt(e).signOut()}(iy),i(null),Promise.resolve()}catch(e){throw console.error("❌ Error during sign out:",e),e}}};return r.createElement(my.Provider,{value:l},!o&&t)},by=()=>{const{currentUser:e,logout:t}=vy(),n=q(),i=Y(),o=async()=>{try{await t(),i("/")}catch(e){console.error("Failed to logout:",e)}},a=e=>n.pathname===e;return r.createElement("nav",{className:"bg-white/80 backdrop-blur-lg shadow-lg sticky top-0 z-50 border-b border-gray-200"},r.createElement("div",{className:"container mx-auto px-4"},r.createElement("div",{className:"flex justify-between items-center h-16"},r.createElement(De,{to:"/",className:"flex items-center gap-3 group"},r.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300"},r.createElement("span",{className:"text-2xl"},"🤖")),r.createElement("span",{className:"text-xl font-extrabold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"OA AI Tracker")),r.createElement("div",{className:"hidden md:flex items-center gap-2"},e?r.createElement(r.Fragment,null,r.createElement(De,{to:"/dashboard",className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 ".concat(a("/dashboard")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600")},"📊 Dashboard"),r.createElement(De,{to:"/projects",className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 ".concat(a("/projects")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600")},"🚀 Projects"),r.createElement(De,{to:"/profile",className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 ".concat(a("/profile")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600")},"👤 Profile"),r.createElement("button",{onClick:o,className:"ml-2 bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-xl hover:scale-105 transition-all duration-300 transform"},"Logout")):r.createElement(r.Fragment,null,r.createElement(De,{to:"/",className:"px-4 py-2 rounded-lg font-semibold transition-all duration-300 ".concat(a("/")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600")},"🏠 Home"),r.createElement(De,{to:"/login",className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-xl hover:scale-105 transition-all duration-300 transform"},"Login"))),r.createElement("div",{className:"md:hidden"},e?r.createElement(De,{to:"/profile",className:"text-gray-700 hover:text-indigo-600"},r.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))):r.createElement(De,{to:"/login",className:"text-indigo-600 font-medium"},"Login")))),e&&r.createElement("div",{className:"md:hidden border-t border-gray-200 bg-white/90 backdrop-blur-lg"},r.createElement("div",{className:"container mx-auto px-4 py-4 space-y-2"},r.createElement(De,{to:"/dashboard",className:"block px-4 py-3 rounded-xl font-semibold transition-all duration-300 ".concat(a("/dashboard")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50")},"📊 Dashboard"),r.createElement(De,{to:"/projects",className:"block px-4 py-3 rounded-xl font-semibold transition-all duration-300 ".concat(a("/projects")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50")},"🚀 Projects"),r.createElement(De,{to:"/profile",className:"block px-4 py-3 rounded-xl font-semibold transition-all duration-300 ".concat(a("/profile")?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 hover:bg-indigo-50")},"👤 Profile"),r.createElement("button",{onClick:o,className:"block w-full text-left px-4 py-3 rounded-xl font-semibold bg-gradient-to-r from-red-500 to-pink-500 text-white hover:shadow-lg transition-all duration-300"},"🚪 Logout"))))},wy=e=>{let{children:t}=e;const{currentUser:n}=vy();return n?t:r.createElement(ae,{to:"/login",replace:!0})},_y=()=>{const{currentUser:e}=vy();return r.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 relative overflow-hidden"},r.createElement("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-float"}),r.createElement("div",{className:"absolute top-40 right-10 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-float",style:{animationDelay:"2s"}}),r.createElement("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-float",style:{animationDelay:"4s"}}),r.createElement("div",{className:"container mx-auto px-4 py-16 relative z-10"},r.createElement("div",{className:"text-center mb-16 animate-fadeInDown"},r.createElement("h1",{className:"text-6xl md:text-7xl font-extrabold mb-6 leading-tight"},r.createElement("span",{className:"gradient-text"},"OA AI Tracker")),r.createElement("div",{className:"inline-block bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-semibold mb-6 shadow-lg"},"🚀 Enterprise AI Readiness Platform"),r.createElement("p",{className:"text-2xl md:text-3xl text-gray-800 font-semibold mb-4"},"Transform Your AI Journey"),r.createElement("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto mb-8 leading-relaxed"},"Track, measure, and optimize your organization's AI and automation initiatives with comprehensive metrics, real-time insights, and intelligent dashboards."),e?r.createElement(De,{to:"/dashboard",className:"inline-block bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-10 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:scale-105 transition-all duration-300 transform hover:-translate-y-1"},"Open Dashboard →"):r.createElement("div",{className:"flex gap-4 justify-center flex-wrap animate-fadeInUp"},r.createElement(De,{to:"/login",className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-10 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:scale-105 transition-all duration-300 transform hover:-translate-y-1"},"Get Started Free →"),r.createElement(De,{to:"/login?demo=true",className:"bg-white text-indigo-600 px-10 py-4 rounded-xl font-bold text-lg border-2 border-indigo-600 hover:bg-indigo-50 hover:shadow-xl hover:scale-105 transition-all duration-300 transform"},"🎮 Try Live Demo"))),r.createElement("div",{className:"grid md:grid-cols-3 gap-8 mb-16"},r.createElement("div",{className:"group bg-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 animate-fadeInUp",style:{animationDelay:"0.1s"}},r.createElement("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300"},"📊"),r.createElement("h3",{className:"text-2xl font-bold mb-3 text-gray-900"},"Real-Time Analytics"),r.createElement("p",{className:"text-gray-600 leading-relaxed"},"Monitor AI readiness scores, project status, and key performance indicators with live dashboards and interactive visualizations."),r.createElement("div",{className:"mt-4 h-1 w-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full transform group-hover:w-full transition-all duration-300"})),r.createElement("div",{className:"group bg-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 animate-fadeInUp",style:{animationDelay:"0.2s"}},r.createElement("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300"},"🔗"),r.createElement("h3",{className:"text-2xl font-bold mb-3 text-gray-900"},"10+ Integrations"),r.createElement("p",{className:"text-gray-600 leading-relaxed"},"Seamlessly connect to AWS, Azure, Google Sheets, Excel, Salesforce, and 6+ more popular enterprise data platforms."),r.createElement("div",{className:"mt-4 h-1 w-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full transform group-hover:w-full transition-all duration-300"})),r.createElement("div",{className:"group bg-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 animate-fadeInUp",style:{animationDelay:"0.3s"}},r.createElement("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300"},"🤖"),r.createElement("h3",{className:"text-2xl font-bold mb-3 text-gray-900"},"AI-Powered Insights"),r.createElement("p",{className:"text-gray-600 leading-relaxed"},"Auto-generated dashboards with intelligent recommendations and actionable insights powered by advanced analytics."),r.createElement("div",{className:"mt-4 h-1 w-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full transform group-hover:w-full transition-all duration-300"}))),r.createElement("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl p-10 mb-16 border border-white/50 animate-fadeInUp"},r.createElement("h2",{className:"text-4xl font-bold text-center mb-12"},r.createElement("span",{className:"gradient-text"},"Powerful Features")),r.createElement("div",{className:"grid md:grid-cols-2 gap-8"},[{icon:"✅",title:"Project Management",desc:"Track AI systems and automation projects across your enterprise"},{icon:"📈",title:"Readiness Scoring",desc:"Measure AI readiness with comprehensive metrics and benchmarks"},{icon:"👥",title:"Department Analytics",desc:"View progress and metrics segmented by department and team"},{icon:"📉",title:"Trend Analysis",desc:"Identify patterns and forecast future AI adoption trends"},{icon:"🔐",title:"Secure Authentication",desc:"Google, GitHub, and email-based secure login options"},{icon:"🎯",title:"Custom Dashboards",desc:"AI-generated visualizations tailored to your data"}].map((e,t)=>r.createElement("div",{key:t,className:"flex items-start gap-4 p-4 rounded-xl hover:bg-indigo-50 transition-all duration-300 group",style:{animationDelay:"".concat(.1*t,"s")}},r.createElement("span",{className:"text-3xl transform group-hover:scale-125 transition-transform duration-300"},e.icon),r.createElement("div",null,r.createElement("h4",{className:"font-bold text-lg mb-1 text-gray-900"},e.title),r.createElement("p",{className:"text-gray-600"},e.desc)))))),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16"},[{value:"10+",label:"Data Sources"},{value:"100%",label:"Secure"},{value:"24/7",label:"Monitoring"},{value:"∞",label:"Scalability"}].map((e,t)=>r.createElement("div",{key:t,className:"bg-gradient-to-br from-indigo-600 to-purple-600 p-6 rounded-2xl text-center text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 animate-scaleIn",style:{animationDelay:"".concat(.1*t,"s")}},r.createElement("div",{className:"text-4xl font-extrabold mb-2"},e.value),r.createElement("div",{className:"text-sm opacity-90"},e.label)))),r.createElement("div",{className:"relative bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-3xl shadow-2xl p-12 text-center overflow-hidden animate-gradient"},r.createElement("div",{className:"absolute inset-0 bg-black/10"}),r.createElement("div",{className:"relative z-10"},r.createElement("h2",{className:"text-4xl font-bold mb-4"},"Ready to Transform Your AI Journey?"),r.createElement("p",{className:"text-xl mb-8 opacity-95"},"Join forward-thinking organizations successfully managing their AI transformation."),!e&&r.createElement(De,{to:"/login",className:"inline-block bg-white text-indigo-600 px-10 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 hover:shadow-2xl hover:scale-105 transition-all duration-300 transform"},"Start Tracking Now →")),r.createElement("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"}),r.createElement("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"}))))},xy={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ky;const Ey=new Uint8Array(16),Sy=[];for(let e=0;e<256;++e)Sy.push((e+256).toString(16).slice(1));function Cy(e,t,n){const r=(e=e||{}).random??e.rng?.()??function(){if(!ky){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ky=crypto.getRandomValues.bind(crypto)}return ky(Ey)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Sy[e[t+0]]+Sy[e[t+1]]+Sy[e[t+2]]+Sy[e[t+3]]+"-"+Sy[e[t+4]]+Sy[e[t+5]]+"-"+Sy[e[t+6]]+Sy[e[t+7]]+"-"+Sy[e[t+8]]+Sy[e[t+9]]+"-"+Sy[e[t+10]]+Sy[e[t+11]]+Sy[e[t+12]]+Sy[e[t+13]]+Sy[e[t+14]]+Sy[e[t+15]]).toLowerCase()}(r)}const Ty=function(e,t,n){return!xy.randomUUID||t||e?Cy(e,t,n):xy.randomUUID()};function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach(function(t){Py(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Py(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ay=()=>{const e=localStorage.getItem("demoData");if(!e){const e=(()=>{const e=[{id:Ty(),name:"Customer Service AI Chatbot",status:"In Progress",type:"Automation",dataSource:"AWS",readinessScore:78,startDate:"2024-08-15",owner:"Sarah Johnson",department:"Customer Service"},{id:Ty(),name:"Predictive Maintenance System",status:"Completed",type:"AI System",dataSource:"Azure",readinessScore:92,startDate:"2024-05-01",owner:"Michael Chen",department:"Operations"},{id:Ty(),name:"Invoice Processing Automation",status:"In Progress",type:"Automation",dataSource:"Google Sheets",readinessScore:65,startDate:"2024-09-10",owner:"Emily Rodriguez",department:"Finance"},{id:Ty(),name:"Inventory Optimization AI",status:"Planning",type:"AI System",dataSource:"Excel",readinessScore:45,startDate:"2024-10-01",owner:"David Kim",department:"Supply Chain"},{id:Ty(),name:"HR Recruitment Assistant",status:"In Progress",type:"AI System",dataSource:"Salesforce",readinessScore:71,startDate:"2024-07-20",owner:"Lisa Thompson",department:"Human Resources"}],t=[],n=["Data Quality Score","Model Accuracy","Infrastructure Readiness","Team Skill Level","Compliance Status","Budget Utilization","Timeline Adherence","Stakeholder Engagement"];for(let r=0;r<100;r++){const i=e[r%e.length],o=n[r%n.length];t.push({id:Ty(),projectId:i.id,projectName:i.name,metric:o,value:Math.floor(40*Math.random())+60,timestamp:new Date(2024,8+r%3,r%28+1).toISOString(),category:r%2==0?"Technical":"Organizational",trend:Math.random()>.5?"up":"down"})}const r={overallReadiness:Math.floor(t.reduce((e,t)=>e+t.value,0)/t.length),totalProjects:e.length,activeProjects:e.filter(e=>"In Progress"===e.status).length,completedProjects:e.filter(e=>"Completed"===e.status).length,averageScore:Math.floor(e.reduce((e,t)=>e+t.readinessScore,0)/e.length)},i={};e.forEach(e=>{i[e.department]||(i[e.department]={projectCount:0,avgReadiness:0,totalReadiness:0}),i[e.department].projectCount++,i[e.department].totalReadiness+=e.readinessScore,i[e.department].avgReadiness=Math.floor(i[e.department].totalReadiness/i[e.department].projectCount)});const o=[];for(let e=0;e<6;e++)o.push({month:["May","June","July","Aug","Sept","Oct"][e],readiness:60+5*e+Math.floor(5*Math.random()),projects:2+Math.floor(e/2),dataQuality:65+4*e+Math.floor(5*Math.random())});return{projects:e,dataPoints:t,aggregateMetrics:r,departmentMetrics:i,timeSeriesData:o}})();return localStorage.setItem("demoData",JSON.stringify(e)),e}return JSON.parse(e)},Ry=()=>{const e=localStorage.getItem("demoData");return e?JSON.parse(e):Ay()},Dy=e=>"string"!=typeof e?"":e.replace(/<[^>]*>/g,"").replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim(),My=e=>{if("string"!=typeof e)return"";const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/g,e=>t[e])},Oy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:n="string",minLength:r=0,maxLength:i=1e3,required:o=!1,allowHTML:a=!1}=t;if(o&&(!e||"string"==typeof e&&""===e.trim()))return{valid:!1,error:"This field is required",sanitized:""};if("email"===n&&!("string"==typeof(s=e)&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)&&s.length<=254))return{valid:!1,error:"Invalid email format",sanitized:""};var s,l,c;if("url"===n&&!(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}})(e))return{valid:!1,error:"Invalid URL format",sanitized:""};if("phone"===n&&!("string"==typeof(l=e)&&/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,9}$/.test(l)&&l.length<=20))return{valid:!1,error:"Invalid phone number",sanitized:""};if("string"==typeof e){if(!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if("string"!=typeof e)return!1;const r=e.trim().length;return r>=t&&r<=n}(e,r,i))return{valid:!1,error:"Length must be between ".concat(r," and ").concat(i," characters"),sanitized:""};if("string"==typeof(c=e)&&[/(\bOR\b|\bAND\b).*=.*/i,/UNION.*SELECT/i,/INSERT.*INTO/i,/DELETE.*FROM/i,/DROP.*TABLE/i,/UPDATE.*SET/i,/;\s*DROP/i,/--/,/\/\*/,/xp_/i].some(e=>e.test(c)))return{valid:!1,error:"Invalid input detected",sanitized:""};if((e=>"string"==typeof e&&[/<script[^>]*>.*?<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe/gi,/<embed/gi,/<object/gi,/eval\(/gi,/expression\(/gi].some(t=>t.test(e)))(e))return{valid:!1,error:"Invalid input detected",sanitized:""}}return{valid:!0,error:null,sanitized:a?My(e):Dy(e)}};class Ly{constructor(e,t,n){this.key="rateLimit_".concat(e),this.maxAttempts=t,this.windowMs=n}getAttempts(){try{const e=localStorage.getItem(this.key);if(!e)return[];const t=JSON.parse(e),n=Date.now();return t.filter(e=>n-e<this.windowMs)}catch(e){return[]}}recordAttempt(){try{const e=this.getAttempts();e.push(Date.now()),localStorage.setItem(this.key,JSON.stringify(e))}catch(e){console.warn("Failed to record rate limit attempt:",e)}}isAllowed(){return this.getAttempts().length<this.maxAttempts}getRemainingAttempts(){const e=this.getAttempts();return Math.max(0,this.maxAttempts-e.length)}getTimeUntilReset(){const e=this.getAttempts();if(0===e.length)return 0;const t=Math.min(...e)+this.windowMs;return Math.max(0,t-Date.now())}reset(){try{localStorage.removeItem(this.key)}catch(e){console.warn("Failed to reset rate limit:",e)}}}const Fy=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(""),{signInWithGoogle:f,signInWithGithub:p,signInWithEmail:g,signUpWithEmail:m,demoLogin:v}=vy(),y=Y(),b=q(),w=(()=>{const e=parseInt("5")||5,t=parseInt("15")||15;return new Ly("login",e,60*t*1e3)})();(0,r.useEffect)(()=>{"true"===new URLSearchParams(b.search).get("demo")&&x()},[b]);const _=()=>{if(!w.isAllowed()){const e=Math.ceil(w.getTimeUntilReset()/6e4);return d("Too many login attempts. Please try again in ".concat(e," minute").concat(e>1?"s":"",".")),!1}return d(""),!0},x=async()=>{try{u(!0),l(""),Ay(),await v(),y("/dashboard")}catch(e){l("Failed to login with demo account")}finally{u(!1)}};return r.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center px-4 relative overflow-hidden"},r.createElement("div",{className:"absolute top-0 left-0 w-full h-full"},r.createElement("div",{className:"absolute top-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-float"}),r.createElement("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),r.createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-float",style:{animationDelay:"4s"}})),r.createElement("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-8 w-full max-w-md relative z-10 border border-white/50 animate-scaleIn"},r.createElement("div",{className:"text-center mb-8"},r.createElement("div",{className:"inline-block p-4 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300"},r.createElement("span",{className:"text-4xl"},"🤖")),r.createElement("h1",{className:"text-3xl font-bold mb-2"},r.createElement("span",{className:"gradient-text"},o?"Create Account":"Welcome Back")),r.createElement("p",{className:"text-gray-600"},o?"Join the AI revolution today":"Continue your AI journey")),s&&r.createElement("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg mb-4 animate-fadeInDown shadow-md"},r.createElement("p",{className:"font-medium"},"⚠️ ",s)),h&&r.createElement("div",{className:"bg-orange-50 border-l-4 border-orange-500 text-orange-700 px-4 py-3 rounded-lg mb-4 animate-fadeInDown shadow-md"},r.createElement("p",{className:"font-medium"},"🔒 ",h)),r.createElement("button",{onClick:x,disabled:c,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold mb-4 hover:from-purple-700 hover:to-pink-700 transition-all duration-300 disabled:opacity-50 shadow-lg hover:shadow-xl hover:-translate-y-1 transform flex items-center justify-center gap-2"},r.createElement("span",{className:"text-xl"},"🎮")," Try Demo Account"),r.createElement("div",{className:"relative mb-6"},r.createElement("div",{className:"absolute inset-0 flex items-center"},r.createElement("div",{className:"w-full border-t border-gray-300"})),r.createElement("div",{className:"relative flex justify-center text-sm"},r.createElement("span",{className:"px-2 bg-white text-gray-500"},"Or continue with"))),r.createElement("div",{className:"space-y-3 mb-6"},r.createElement("button",{onClick:async()=>{if(_())try{u(!0),l(""),await f(),w.reset(),y("/dashboard")}catch(e){w.recordAttempt(),l("Failed to sign in with Google: "+e.message)}finally{u(!1)}},disabled:c,className:"w-full bg-white border-2 border-gray-200 text-gray-700 py-4 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-50 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 disabled:opacity-50 transform hover:-translate-y-1"},r.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},r.createElement("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.createElement("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.createElement("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.createElement("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),"Sign ",o?"up":"in"," with Google"),r.createElement("button",{onClick:async()=>{if(_())try{u(!0),l(""),await p(),w.reset(),y("/dashboard")}catch(e){w.recordAttempt(),l("Failed to sign in with GitHub: "+e.message)}finally{u(!1)}},disabled:c,className:"w-full bg-gray-900 text-white py-4 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-800 hover:shadow-lg transition-all duration-300 disabled:opacity-50 transform hover:-translate-y-1"},r.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})),"Sign ",o?"up":"in"," with GitHub")),r.createElement("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-4"},r.createElement("div",{className:"flex items-start gap-3"},r.createElement("span",{className:"text-2xl"},"💾"),r.createElement("div",null,r.createElement("p",{className:"font-semibold text-blue-900 mb-1"},"Your Data is Secure"),r.createElement("p",{className:"text-sm text-blue-700"},"All account information is automatically saved to our secure Firebase Realtime Database and protected by Google Cloud security.")))),r.createElement("div",{className:"relative mb-6"},r.createElement("div",{className:"absolute inset-0 flex items-center"},r.createElement("div",{className:"w-full border-t border-gray-300"})),r.createElement("div",{className:"relative flex justify-center text-sm"},r.createElement("span",{className:"px-2 bg-white text-gray-500"},"Or use email"))),r.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),_())try{u(!0),l("");const t=Oy(e,{type:"email",required:!0,maxLength:254});if(!t.valid)return l(t.error),void u(!1);if(!n||n.length<6)return l("Password must be at least 6 characters long"),void u(!1);const r=t.sanitized;o?await m(r,n):await g(r,n),w.reset(),y("/dashboard")}catch(e){w.recordAttempt(),l(e.message)}finally{u(!1)}},className:"space-y-5"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},"Email Address"),r.createElement("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"you@example.com"})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},"Password"),r.createElement("input",{type:"password",value:n,onChange:e=>i(e.target.value),required:!0,minLength:"6",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"••••••••"})),r.createElement("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-4 rounded-xl font-bold hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 shadow-lg hover:shadow-xl hover:-translate-y-1 transform"},c?"⏳ Please wait...":o?"🚀 Create Account":"🔓 Sign In")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("button",{onClick:()=>a(!o),className:"text-indigo-600 hover:text-indigo-700 font-semibold hover:underline transition-all duration-300"},o?"Already have an account? Sign in":"Don't have an account? Sign up"))))};function zy(e){return e+.5|0}const jy=(e,t,n)=>Math.max(Math.min(e,n),t);function Uy(e){return jy(zy(2.55*e),0,255)}function Vy(e){return jy(zy(255*e),0,255)}function By(e){return jy(zy(e/2.55)/100,0,1)}function Hy(e){return jy(zy(100*e),0,100)}const Wy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$y=[..."0123456789ABCDEF"],qy=e=>$y[15&e],Ky=e=>$y[(240&e)>>4]+$y[15&e],Gy=e=>(240&e)>>4==(15&e);const Yy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Qy(e,t,n){const r=t*Math.min(n,1-n),i=(t,i=(t+e/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function Xy(e,t,n){const r=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Jy(e,t,n){const r=Qy(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Zy(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),a=(i+o)/2;let s,l,c;return i!==o&&(c=i-o,l=a>.5?c/(2-i-o):c/(i+o),s=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),s=60*s+.5),[0|s,l||0,a]}function eb(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Vy)}function tb(e,t,n){return eb(Qy,e,t,n)}function nb(e){return(e%360+360)%360}const rb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ib={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ob;const ab=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,sb=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,lb=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function cb(e,t,n){if(e){let r=Zy(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=tb(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function ub(e,t){return e?Object.assign(t||{},e):e}function hb(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Vy(e[3]))):(t=ub(e,{r:0,g:0,b:0,a:1})).a=Vy(t.a),t}function db(e){return"r"===e.charAt(0)?function(e){const t=ab.exec(e);let n,r,i,o=255;if(t){if(t[7]!==n){const e=+t[7];o=t[8]?Uy(e):jy(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?Uy(n):jy(n,0,255)),r=255&(t[4]?Uy(r):jy(r,0,255)),i=255&(t[6]?Uy(i):jy(i,0,255)),{r:n,g:r,b:i,a:o}}}(e):function(e){const t=Yy.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Uy(+t[5]):Vy(+t[5]));const i=nb(+t[2]),o=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return eb(Jy,e,t,n)}(i,o,a):"hsv"===t[1]?function(e,t,n){return eb(Xy,e,t,n)}(i,o,a):tb(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}(e)}class fb{constructor(e){if(e instanceof fb)return e;const t=typeof e;let n;var r,i,o;"object"===t?n=hb(e):"string"===t&&(o=(r=e).length,"#"===r[0]&&(4===o||5===o?i={r:255&17*Wy[r[1]],g:255&17*Wy[r[2]],b:255&17*Wy[r[3]],a:5===o?17*Wy[r[4]]:255}:7!==o&&9!==o||(i={r:Wy[r[1]]<<4|Wy[r[2]],g:Wy[r[3]]<<4|Wy[r[4]],b:Wy[r[5]]<<4|Wy[r[6]],a:9===o?Wy[r[7]]<<4|Wy[r[8]]:255})),n=i||function(e){ob||(ob=function(){const e={},t=Object.keys(ib),n=Object.keys(rb);let r,i,o,a,s;for(r=0;r<t.length;r++){for(a=s=t[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,rb[o]);o=parseInt(ib[a],16),e[s]=[o>>16&255,o>>8&255,255&o]}return e}(),ob.transparent=[0,0,0,0]);const t=ob[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||db(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ub(this._rgb);return e&&(e.a=By(e.a)),e}set rgb(e){this._rgb=hb(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${By(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?(e=this._rgb,t=(e=>Gy(e.r)&&Gy(e.g)&&Gy(e.b)&&Gy(e.a))(e)?qy:Ky,e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0):void 0;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=Zy(e),n=t[0],r=Hy(t[1]),i=Hy(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${By(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const o=t===i?.5:t,a=2*o-1,s=n.a-r.a,l=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=lb(By(e.r)),i=lb(By(e.g)),o=lb(By(e.b));return{r:Vy(sb(r+n*(lb(By(t.r))-r))),g:Vy(sb(i+n*(lb(By(t.g))-i))),b:Vy(sb(o+n*(lb(By(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new fb(this.rgb)}alpha(e){return this._rgb.a=Vy(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=zy(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cb(this._rgb,2,e),this}darken(e){return cb(this._rgb,2,-e),this}saturate(e){return cb(this._rgb,1,e),this}desaturate(e){return cb(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Zy(e);n[0]=nb(n[0]+t),n=tb(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function pb(){}const gb=(()=>{let e=0;return()=>e++})();function mb(e){return null==e}function vb(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function yb(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function bb(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function wb(e,t){return bb(e)?e:t}function _b(e,t){return void 0===e?t:e}const xb=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function kb(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function Eb(e,t,n,r){let i,o,a;if(vb(e))if(o=e.length,r)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(yb(e))for(a=Object.keys(e),o=a.length,i=0;i<o;i++)t.call(n,e[a[i]],a[i])}function Sb(e,t){let n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Cb(e){if(vb(e))return e.map(Cb);if(yb(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Cb(e[n[i]]);return t}return e}function Tb(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Ib(e,t,n,r){if(!Tb(e))return;const i=t[e],o=n[e];yb(i)&&yb(o)?Nb(i,o,r):t[e]=Cb(o)}function Nb(e,t,n){const r=vb(t)?t:[t],i=r.length;if(!yb(e))return e;const o=(n=n||{}).merger||Ib;let a;for(let t=0;t<i;++t){if(a=r[t],!yb(a))continue;const i=Object.keys(a);for(let t=0,r=i.length;t<r;++t)o(i[t],e,a,n)}return e}function Pb(e,t){return Nb(e,t,{merger:Ab})}function Ab(e,t,n){if(!Tb(e))return;const r=t[e],i=n[e];yb(r)&&yb(i)?Pb(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Cb(i))}const Rb={"":e=>e,x:e=>e.x,y:e=>e.y};function Db(e,t){const n=Rb[t]||(Rb[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const e of t)r+=e,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Mb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ob=e=>void 0!==e,Lb=e=>"function"==typeof e,Fb=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},zb=Math.PI,jb=2*zb,Ub=jb+zb,Vb=Number.POSITIVE_INFINITY,Bb=zb/180,Hb=zb/2,Wb=zb/4,$b=2*zb/3,qb=Math.log10,Kb=Math.sign;function Gb(e,t,n){return Math.abs(e-t)<n}function Yb(e){const t=Math.round(e);e=Gb(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(qb(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Qb(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Xb(e){return e*(zb/180)}function Jb(e){if(!bb(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Zb(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*zb&&(o+=jb),{angle:o,distance:i}}function ew(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function tw(e,t){return(e-t+Ub)%jb-zb}function nw(e){return(e%jb+jb)%jb}function rw(e,t,n,r){const i=nw(e),o=nw(t),a=nw(n),s=nw(o-i),l=nw(a-i),c=nw(i-o),u=nw(i-a);return i===o||i===a||r&&o===a||s>l&&c<u}function iw(e,t,n){return Math.max(t,Math.min(n,e))}function ow(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function aw(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const sw=(e,t,n,r)=>aw(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),lw=(e,t,n)=>aw(e,n,r=>e[r][t]>=n),cw=["push","pop","shift","splice","unshift"];function uw(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(cw.forEach(t=>{delete e[t]}),delete e._chartjs)}const hw="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function dw(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,hw.call(window,()=>{r=!1,e.apply(t,n)}))}}const fw=e=>"start"===e?"left":"end"===e?"right":"center",pw=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;const gw=e=>0===e||1===e,mw=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*jb/n),vw=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*jb/n)+1,yw={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Hb),easeOutSine:e=>Math.sin(e*Hb),easeInOutSine:e=>-.5*(Math.cos(zb*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>gw(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>gw(e)?e:mw(e,.075,.3),easeOutElastic:e=>gw(e)?e:vw(e,.075,.3),easeInOutElastic(e){const t=.1125;return gw(e)?e:e<.5?.5*mw(2*e,t,.45):.5+.5*vw(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-yw.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*yw.easeInBounce(2*e):.5*yw.easeOutBounce(2*e-1)+.5};function bw(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ww(e){return bw(e)?e:new fb(e)}function _w(e){return bw(e)?e:new fb(e).saturate(.5).darken(.1).hexString()}const xw=["x","y","borderWidth","radius","tension"],kw=["color","borderColor","backgroundColor"],Ew=new Map;function Sw(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Ew.get(n);return r||(r=new Intl.NumberFormat(e,t),Ew.set(n,r)),r}(t,n).format(e)}const Cw={values:e=>vb(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const a=qb(Math.abs(o)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Sw(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(qb(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Cw.numeric.call(this,e,t,n):""}};var Tw={formatters:Cw};const Iw=Object.create(null),Nw=Object.create(null);function Pw(e,t){if(!t)return e;const n=t.split(".");for(let t=0,r=n.length;t<r;++t){const r=n[t];e=e[r]||(e[r]=Object.create(null))}return e}function Aw(e,t,n){return"string"==typeof t?Nb(Pw(e,t),n):Nb(Pw(e,""),t)}class Rw{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>_w(t.backgroundColor),this.hoverBorderColor=(e,t)=>_w(t.borderColor),this.hoverColor=(e,t)=>_w(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Aw(this,e,t)}get(e){return Pw(this,e)}describe(e,t){return Aw(Nw,e,t)}override(e,t){return Aw(Iw,e,t)}route(e,t,n,r){const i=Pw(this,e),o=Pw(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=o[r];return yb(e)?Object.assign({},t,e):_b(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach(e=>e(this))}}var Dw=new Rw({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:kw},numbers:{type:"number",properties:xw}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Mw(e,t,n,r,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Ow(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Lw(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Fw(e,t,n,r){zw(e,t,n,r,null)}function zw(e,t,n,r,i){let o,a,s,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*Bb;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,jb):e.arc(n,r,g,0,jb),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=$b,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=$b,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,a=Math.cos(m+Wb)*l,h=Math.cos(m+Wb)*(i?i/2-c:l),s=Math.sin(m+Wb)*l,d=Math.sin(m+Wb)*(i?i/2-c:l),e.arc(n-h,r-s,c,m-zb,m-Hb),e.arc(n+d,r-a,c,m-Hb,m),e.arc(n+h,r+s,c,m,m+Hb),e.arc(n-d,r+a,c,m+Hb,m+zb),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=Wb;case"rectRot":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+d,r-a),e.lineTo(n+h,r+s),e.lineTo(n-d,r+a),e.closePath();break;case"crossRot":m+=Wb;case"cross":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"star":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a),m+=Wb,h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(m)*g,s=Math.sin(m)*g,e.moveTo(n-a,r-s),e.lineTo(n+a,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function jw(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Uw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Vw(e){e.restore()}function Bw(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Hw(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Ww(e,t,n,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(s,u),e.stroke()}}function $w(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function qw(e,t,n,r,i,o={}){const a=vb(t)?t:[t],s=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),mb(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),l=0;l<a.length;++l)c=a[l],o.backdrop&&$w(e,o.backdrop),s&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),mb(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,n,r,o.maxWidth)),e.fillText(c,n,r,o.maxWidth),Ww(e,n,r,c,o),r+=Number(i.lineHeight);e.restore()}function Kw(e,t){const{x:n,y:r,w:i,h:o,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*zb,zb,!0),e.lineTo(n,r+o-a.bottomLeft),e.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,zb,Hb,!0),e.lineTo(n+i-a.bottomRight,r+o),e.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,Hb,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Hb,!0),e.lineTo(n+a.topLeft,r)}const Gw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qw(e,t){const n=(""+e).match(Gw);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Xw=e=>+e||0;function Jw(e,t){const n={},r=yb(t),i=r?Object.keys(t):t,o=yb(e)?r?n=>_b(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of i)n[e]=Xw(o(e));return n}function Zw(e){return Jw(e,{top:"y",right:"x",bottom:"y",left:"x"})}function e_(e){return Jw(e,["topLeft","topRight","bottomLeft","bottomRight"])}function t_(e){const t=Zw(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function n_(e,t){e=e||{},t=t||Dw.font;let n=_b(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let r=_b(e.style,t.style);r&&!(""+r).match(Yw)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:_b(e.family,t.family),lineHeight:Qw(_b(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:_b(e.weight,t.weight),string:""};return i.string=function(e){return!e||mb(e.size)||mb(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function r_(e,t,n,r){let i,o,a,s=!0;for(i=0,o=e.length;i<o;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),s=!1),void 0!==n&&vb(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function i_(e,t){return Object.assign(Object.create(e),t)}function o_(e,t=[""],n,r,i=()=>e[0]){const o=n||e;void 0===r&&(r=m_("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:n=>o_([n,...e],t,o,r)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>u_(n,r,()=>function(e,t,n,r){let i;for(const o of t)if(i=m_(l_(o,e),n),void 0!==i)return c_(e,i)?p_(n,r,e,i):i}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>v_(e).includes(t),ownKeys:e=>v_(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function a_(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:s_(e,r),setContext:t=>a_(e,t,n,r),override:i=>a_(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>u_(e,t,()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=e;let s=r[t];return Lb(s)&&a.isScriptable(t)&&(s=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(o,a||r);return s.delete(e),c_(e,l)&&(l=p_(i._scopes,i,e,l)),l}(t,s,e,n)),vb(s)&&s.length&&(s=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if(void 0!==o.index&&r(e))return t[o.index%t.length];if(yb(t[0])){const n=t,r=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=p_(r,i,e,l);t.push(a_(n,o,a&&a[e],s))}}return t}(t,s,e,a.isIndexable)),c_(t,s)&&(s=a_(s,i,o&&o[t],a)),s}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function s_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Lb(n)?n:()=>n,isIndexable:Lb(r)?r:()=>r}}const l_=(e,t)=>e?e+Mb(t):t,c_=(e,t)=>yb(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function u_(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function h_(e,t,n){return Lb(e)?e(t,n):e}const d_=(e,t)=>!0===e?t:"string"==typeof e?Db(t,e):void 0;function f_(e,t,n,r,i){for(const o of t){const t=d_(n,o);if(t){e.add(t);const o=h_(t._fallback,n,i);if(void 0!==o&&o!==n&&o!==r)return o}else if(!1===t&&void 0!==r&&n!==r)return null}return!1}function p_(e,t,n,r){const i=t._rootScopes,o=h_(t._fallback,n,r),a=[...e,...i],s=new Set;s.add(r);let l=g_(s,a,n,o||n,r);return null!==l&&(void 0===o||o===n||(l=g_(s,a,o,l,r),null!==l))&&o_(Array.from(s),[""],i,o,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return vb(i)&&yb(n)?n:i||{}}(t,n,r))}function g_(e,t,n,r,i){for(;n;)n=f_(e,t,n,r,i);return n}function m_(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function v_(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const y_=Number.EPSILON||1e-14,b_=(e,t)=>t<e.length&&!e[t].skip&&e[t],w_=e=>"x"===e?"y":"x";function __(e,t,n,r){const i=e.skip?t:e,o=t,a=n.skip?t:n,s=ew(o,i),l=ew(a,o);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+d*(a.x-i.x),y:o.y+d*(a.y-i.y)}}}function x_(e,t,n){return Math.max(Math.min(e,n),t)}function k_(e,t,n,r,i){let o,a,s,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const n=w_(t),r=e.length,i=Array(r).fill(0),o=Array(r);let a,s,l,c=b_(e,0);for(a=0;a<r;++a)if(s=l,l=c,c=b_(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}o[a]=s?c?Kb(i[a-1])!==Kb(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,o,a,s,l,c=b_(e,0);for(let u=0;u<r-1;++u)l=c,c=b_(e,u+1),l&&c&&(Gb(t[u],0,y_)?n[u]=n[u+1]=0:(i=n[u]/t[u],o=n[u+1]/t[u],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[u]=i*a*t[u],n[u+1]=o*a*t[u])))}(e,i,o),function(e,t,n="x"){const r=w_(n),i=e.length;let o,a,s,l=b_(e,0);for(let c=0;c<i;++c){if(a=s,s=l,l=b_(e,c+1),!s)continue;const i=s[n],u=s[r];a&&(o=(i-a[n])/3,s[`cp1${n}`]=i-o,s[`cp1${r}`]=u-o*t[c]),l&&(o=(l[n]-i)/3,s[`cp2${n}`]=i+o,s[`cp2${r}`]=u+o*t[c])}}(e,o,t)}(e,i);else{let n=r?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)s=e[o],l=__(n,s,e[Math.min(o+1,a-(r?0:1))%a],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,r,i,o,a,s=jw(e[0],t);for(n=0,r=e.length;n<r;++n)a=o,o=s,s=n<r-1&&jw(e[n+1],t),o&&(i=e[n],a&&(i.cp1x=x_(i.cp1x,t.left,t.right),i.cp1y=x_(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=x_(i.cp2x,t.left,t.right),i.cp2y=x_(i.cp2y,t.top,t.bottom)))}(e,n)}function E_(){return"undefined"!=typeof window&&"undefined"!=typeof document}function S_(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function C_(e,t,n){let r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const T_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),I_=["top","right","bottom","left"];function N_(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=I_[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function P_(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=T_(n),o="border-box"===i.boxSizing,a=N_(i,"padding"),s=N_(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=r;let a,s,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,o,e.target))a=i,s=o;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,s=r.clientY-e.top,l=!0}return{x:a,y:s,box:l}}(e,n),h=a.left+(u&&s.left),d=a.top+(u&&s.top);let{width:f,height:p}=t;return o&&(f-=a.width+s.width,p-=a.height+s.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const A_=e=>Math.round(10*e)/10;function R_(e,t,n){const r=t||1,i=A_(e.height*r),o=A_(e.width*r);e.height=A_(e.height),e.width=A_(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)}const D_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};E_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function M_(e,t){const n=function(e,t){return T_(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function O_(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function L_(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function F_(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=O_(e,i,n),s=O_(i,o,n),l=O_(o,t,n),c=O_(a,s,n),u=O_(s,l,n);return O_(c,u,n)}function z_(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function j_(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function U_(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function V_(e){return"angle"===e?{between:rw,compare:tw,normalize:nw}:{between:ow,compare:(e,t)=>e-t,normalize:e=>e}}function B_({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n==0,style:i}}function H_(e,t,n){if(!n)return[e];const{property:r,start:i,end:o}=n,a=t.length,{compare:s,between:l,normalize:c}=V_(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=V_(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&a(s(t[h%l][r]),i,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,v,y=!1,b=null;const w=()=>y||l(i,v,g)&&0!==s(i,v),_=()=>!y||0===s(o,g)||l(o,v,g);for(let e=u,n=u;e<=h;++e)m=t[e%a],m.skip||(g=c(m[r]),g!==v&&(y=l(g,i,o),null===b&&w()&&(b=0===s(g,i)?e:n),null!==b&&_()&&(p.push(B_({start:b,end:e,loop:d,count:a,style:f})),b=null),n=e,v=g));return null!==b&&p.push(B_({start:b,end:h,loop:d,count:a,style:f})),p}function W_(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const o=H_(r[i],e.points,t);o.length&&n.push(...o)}return n}function $_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function q_(e,t){if(!t)return!1;const n=[],r=function(e,t){return bw(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function K_(e,t,n){return e.options.clip?e[n]:t[n]}function G_(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:K_(n,t,"left"),right:K_(n,t,"right"),top:K_(r,t,"top"),bottom:K_(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class Y_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],o=t.duration;i.forEach(r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=hw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Q_=new Y_;const X_="transparent",J_={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=ww(e||X_),i=r.valid&&ww(t||X_);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Z_{constructor(e,t,n,r){const i=t[n];r=r_([e.to,r,i,e.from]);const o=r_([e.from,i,r]);this._active=!0,this._fn=e.fn||J_[e.type||typeof o],this._easing=yw[e.easing]||yw.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=r_([e.to,t,r,e.from]),this._from=r_([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(s=t/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}class ex{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!yb(e))return;const t=Object.keys(Dw.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!yb(i))return;const o={};for(const e of t)o[e]=i[e];(vb(i.properties)&&i.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,o)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let t=0;t<r.length;t++){const i=e[r[t]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const l=o[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new Z_(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Q_.add(this._chart,n),!0):void 0}}function tx(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:i,end:r?i:o}}function nx(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function rx(e,t,n,r={}){const i=e.keys,o="single"===r.mode;let a,s,l,c;if(null===t)return;let u=!1;for(a=0,s=i.length;a<s;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],bb(c)&&(o||0===t||Kb(t)===Kb(c))&&(t+=c)}return u||r.all?t:0}function ix(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function ox(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function ax(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function sx(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,l=o.axis,c=a.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(o,a,r),h=t.length;let d;for(let e=0;e<h;++e){const n=t[e],{[l]:o,[c]:h}=n;d=(n._stacks||(n._stacks={}))[c]=ox(i,u,o),d[s]=h,d._top=ax(d,a,!0,r.type),d._bottom=ax(d,a,!1,r.type),(d._visualValues||(d._visualValues={}))[s]=h}}function lx(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function cx(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const ux=e=>"reset"===e||"none"===e,hx=(e,t)=>t?e:Object.assign({},e);class dx{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ix(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cx(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=_b(n.xAxisID,lx(e,"x")),o=t.yAxisID=_b(n.yAxisID,lx(e,"y")),a=t.rAxisID=_b(n.rAxisID,lx(e,"r")),s=t.indexAxis,l=t.iAxisID=r(s,i,o,a),c=t.vAxisID=r(s,o,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uw(this._data,this),e._stacked&&cx(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(yb(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",o="x"===r.axis?"x":"y",a=Object.keys(e),s=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],s[l]={[i]:u,[o]:e[u]};return s}(t,e)}else if(n!==t){if(n){uw(n,this);const e=this._cachedMeta;cx(e),e._parsed=[]}t&&Object.isExtensible(t)&&((r=t)._chartjs?r._chartjs.listeners.push(this):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),cw.forEach(e=>{const t="_onData"+Mb(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...e){const i=n.apply(this,e);return r._chartjs.listeners.forEach(n=>{"function"==typeof n[t]&&n[t](...e)}),i}})}))),this._syncList=[],this._data=t}var r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=ix(t.vScale,t),t.stack!==n.stack&&(r=!0,cx(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(sx(this,t._parsed),t._stacked=ix(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let s,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=vb(r[e])?this.parseArrayData(n,r,e,t):yb(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||h&&l[a]<h[a];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],u&&(i()&&(u=!1),h=l);n._sorted=u}o&&sx(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:o}=e,a=i.axis,s=o.axis,l=i.getLabels(),c=i===o,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[a]:c||i.parse(l[f],f),[s]:o.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:o}=e,a=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=t[c],a[s]={x:i.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(Db(d,a),h),y:o.parse(Db(d,s),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,o=t[e.axis];return rx({keys:nx(r,!0),values:t._stacks[e.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let o=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,o=rx(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,o=r.length,a=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:nx(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,d;function f(){d=r[h];const t=d[a.axis];return!bb(d[e.axis])||c>t||u<t}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,e,d,s),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r][e.axis],bb(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return yb(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(_b(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=tx(e,n),i=tx(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,s),c=a;c<a+s;++c){const t=r[c];t.hidden||(t.active&&l?o.push(t):t.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return i_(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return i_(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r="active"===t,i=this._cachedDataOpts,o=e+"-"+t,a=i[o],s=this.enableOptionSharing&&Ob(n);if(a)return hx(a,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Dw.elements[e]),f=l.resolveNamedOptions(h,d,()=>this.getContext(n,r,t),u);return f.$shared&&(f.$shared=s,i[o]=Object.freeze(hx(f,s))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(e,n,t))}const l=new ex(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ux(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:o}}updateElement(e,t,n,r){ux(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!ux(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const r=n.length,i=t.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t,n=!0){const r=this._cachedMeta,i=r.data,o=e+t;let a;const s=e=>{for(e.length+=t,a=e.length-1;a>=o;a--)e[a]=e[a-t]};for(s(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&cx(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fx(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=function(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,i,o,a,s=t._length;const l=()=>{32767!==o&&-32768!==o&&(Ob(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),l();return s}function px(e,t,n,r){return vb(e)?function(e,t,n,r){const i=n.parse(e[0],r),o=n.parse(e[1],r),a=Math.min(i,o),s=Math.max(i,o);let l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:a,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function gx(e,t,n,r){const i=e.iScale,o=e.vScale,a=i.getLabels(),s=i===o,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=s||i.parse(a[c],c),l.push(px(d,h,o,c));return l}function mx(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function vx(e,t,n,r){let i=t.borderSkipped;const o={};if(!i)return void(e.borderSkipped=o);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:t,top:i,bottom:o}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(o[yx(u,a,s,l)]=!0,i=c)),o[yx(i,a,s,l)]=!0,e.borderSkipped=o}function yx(e,t,n,r){var i,o,a;return r?(a=n,e=bx(e=(i=e)===(o=t)?a:i===a?o:i,n,t)):e=bx(e,t,n),e}function bx(e,t,n){return"start"===e?t:"end"===e?n:e}function wx(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class _x extends dx{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return gx(e,t,n,r)}parseArrayData(e,t,n,r){return gx(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===i.axis?a:s,c="x"===o.axis?a:s,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(Db(p,l),h),u.push(px(Db(p,c),f,o,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),o=i._custom,a=mx(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||mb(t[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[a.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||mx(t._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const m=g.options||e[d].options;vx(g,m,p,o),wx(g,m,c.ratio),this.updateElement(e[d],d,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),i=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),s=a&&a[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===s),r=t&&t[e.vScale.axis];if(mb(r)||isNaN(r))return!0};for(const n of r)if((void 0===t||!l(n))&&((!1===i||-1===o.indexOf(n.stack)||void 0===i&&void 0===n.stack)&&o.push(n.stack),n.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[_b("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,o;for(i=0,o=t.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||fx(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,s=this.getParsed(e),l=s._custom,c=mx(l);let u,h,d=s[t.axis],f=0,p=n?this.applyStack(t,s,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Kb(d)!==Kb(l.barEnd)&&(f=0),f+=d);const g=mb(i)||c?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<o){h=function(e,t,n){return 0!==e?Kb(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,a)*o,d===a&&(m-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(s._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(a)){const e=Kb(h)*t.getLineWidthForValue(a)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,o=_b(r.maxBarThickness,1/0);let a,s;const l=this._getAxisCount();if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,o=i[e];let a=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a);const c=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const i=n.barThickness;let o,a;return mb(i)?(o=t.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:t.pixels[e]-o/2}}(e,t,r,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(_b(u,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+h;a=c.start+c.chunk*d+c.chunk/2,s=Math.min(o,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(o,t.min*t.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}class xx extends dx{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(s),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:r,pointStyle:n,borderRadius:o&&(a||l.borderRadius),index:s}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,a=e=>+n[e];if(yb(n[e])){const{key:e="value"}=this._parsing;a=t=>+Db(n[t],e)}for(i=e,o=e+t;i<o;++i)r._parsed[i]=a(i)}}_getRotation(){return Xb(this.options.rotation-90)}_getCircumference(){return Xb(this.options.circumference)}_getRotationExtents(){let e=jb,t=-jb;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min((c=a,"string"==typeof(l=this.options.cutout)&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let r=1,i=1,o=0,a=0;if(t<jb){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>rw(e,s,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>rw(e,s,l,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,c,h),m=f(Hb,u,d),v=p(zb,c,h),y=p(zb+Hb,u,d);r=(g-v)/2,i=(m-y)/2,o=-(g+v)/2,a=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(d,h,s),v=(n.width-o)/f,y=(n.height-o)/p,b=Math.max(Math.min(v,y)/2,0),w=xb(this.options.radius,b),_=(w-Math.max(w*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/jb)}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&s.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(o.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,o,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?jb*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Sw(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,o,a,s;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,a=o.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(_b(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class kx extends dx{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:a,count:s}=function(e,t,n){const r=t.length;let i=0,o=r;if(e._sorted){const{iScale:a,vScale:s,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:h,max:d,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(sw(l,u,h).lo,n?r:sw(t,u,a.getPixelForValue(h)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!mb(e[s.axis]));i-=Math.max(0,e)}i=iw(i,0,r-1)}if(p){let e=Math.max(sw(l,a.axis,d,!0).hi+1,n?0:sw(t,u,a.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!mb(e[s.axis]));e+=Math.max(0,t)}o=iw(e,i,r)-i}else o=r-i}return{start:i,count:o}}(t,r,o);this._drawStart=a,this._drawCount=s,function(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}(t)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(r,a,s,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=o.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,g=Qb(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let n=0;n<y;++n){const f=e[n],y=m?f:{};if(n<t||n>=v){y.skip=!0;continue}const w=this.getParsed(n),_=mb(w[d]),x=y[h]=o.getPixelForValue(w[h],n),k=y[d]=i||_?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,w,s):w[d],n);y.skip=isNaN(x)||isNaN(k)||_,y.stop=n>0&&Math.abs(w[h]-b[h])>g,p&&(y.parsed=w,y.raw=l.data[n]),u&&(y.options=c||this.resolveDataElementOptions(n,f.active?"active":r)),m||this.updateElement(f,n,y,r),b=w}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Ex extends xx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Sx(e,t,n,r){const{controller:i,data:o,_sorted:a}=e,s=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(s&&t===s.axis&&"r"!==t&&a&&o.length){const a=s._reversePixels?lw:sw;if(!r){const r=a(o,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,o=n.slice(0,r.lo+1).reverse().findIndex(e=>!mb(e[t.axis]));r.lo-=Math.max(0,o);const a=n.slice(r.hi).findIndex(e=>!mb(e[t.axis]));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const e=o[0],r="function"==typeof e.getRange&&e.getRange(t);if(r){const e=a(o,t,n-r),i=a(o,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:o.length-1}}function Cx(e,t,n,r,i){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let e=0,n=o.length;e<n;++e){const{index:n,data:s}=o[e],{lo:l,hi:c}=Sx(o[e],t,a,i);for(let e=l;e<=c;++e){const t=s[e];t.skip||r(t,n,e)}}}function Tx(e,t,n,r,i){const o=[];return i||e.isPointInArea(t)?(Cx(e,n,t,function(n,a,s){(i||jw(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&o.push({element:n,datasetIndex:a,index:s})},!0),o):o}function Ix(e,t,n,r,i,o){return o||e.isPointInArea(t)?"r"!==n||r?function(e,t,n,r,i,o){let a=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return Cx(e,n,t,function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!o&&!e.isPointInArea(d)&&!h)return;const f=s(t,d);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})}),a}(e,t,n,r,i,o):function(e,t,n,r){let i=[];return Cx(e,n,t,function(e,n,o){const{startAngle:a,endAngle:s}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Zb(e,{x:t.x,y:t.y});rw(l,a,s)&&i.push({element:e,datasetIndex:n,index:o})}),i}(e,t,n,i):[]}function Nx(e,t,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return Cx(e,n,t,(e,r,l)=>{e[a]&&e[a](t[n],i)&&(o.push({element:e,datasetIndex:r,index:l}),s=s||e.inRange(t.x,t.y,i))}),r&&!s?[]:o}var Px={evaluateInteractionItems:Cx,modes:{index(e,t,n,r){const i=P_(t,e),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?Tx(e,i,o,r,a):Ix(e,i,o,!1,r,a),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const i=P_(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?Tx(e,i,o,r,a):Ix(e,i,o,!1,r,a);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,r)=>Tx(e,P_(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=P_(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Ix(e,i,o,n.intersect,r,a)},x:(e,t,n,r)=>Nx(e,P_(t,e),"x",n.intersect,r),y:(e,t,n,r)=>Nx(e,P_(t,e),"y",n.intersect,r)}};const Ax=["left","top","right","bottom"];function Rx(e,t){return e.filter(e=>e.pos===t)}function Dx(e,t){return e.filter(e=>-1===Ax.indexOf(e.pos)&&e.box.axis===t)}function Mx(e,t){return e.sort((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function Ox(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Lx(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Fx(e,t,n,r){const{pos:i,box:o}=n,a=e.maxPadding;if(!yb(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[i]+=n.size}o.getPadding&&Lx(a,o.getPadding());const s=Math.max(0,t.outerWidth-Ox(a,e,"left","right")),l=Math.max(0,t.outerHeight-Ox(a,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function zx(e,t){const n=t.maxPadding;return function(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}(e?["left","right"]:["top","bottom"])}function jx(e,t,n,r){const i=[];let o,a,s,l,c,u;for(o=0,a=e.length,c=0;o<a;++o){s=e[o],l=s.box,l.update(s.width||t.w,s.height||t.h,zx(s.horizontal,t));const{same:a,other:h}=Fx(t,n,s,r);c|=a&&i.length,u=u||h,l.fullSize||i.push(s)}return c&&jx(i,t,n,r)||u}function Ux(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Vx(e,t,n,r){const i=n.padding;let{x:o,y:a}=t;for(const s of e){const e=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const r=t.w*c,o=l.size||e.height;Ob(l.start)&&(a=l.start),e.fullSize?Ux(e,i.left,a,n.outerWidth-i.right-i.left,o):Ux(e,t.left+l.placed,a,r,o),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;Ob(l.start)&&(o=l.start),e.fullSize?Ux(e,o,i.top,a,n.outerHeight-i.bottom-i.top):Ux(e,o,t.top+l.placed,a,r),l.start=o,l.placed+=r,o=e.right}}t.x=o,t.y=a}var Bx={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=t_(e.options.layout.padding),o=Math.max(t-i.width,0),a=Math.max(n-i.height,0),s=function(e){const t=function(e){const t=[];let n,r,i,o,a,s;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return t}(e),n=Mx(t.filter(e=>e.box.fullSize),!0),r=Mx(Rx(t,"left"),!0),i=Mx(Rx(t,"right")),o=Mx(Rx(t,"top"),!0),a=Mx(Rx(t,"bottom")),s=Dx(t,"x"),l=Dx(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:Rx(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(a).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;Eb(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},i);Lx(d,t_(r));const f=Object.assign({maxPadding:d,w:o,h:a,x:i.left,y:i.top},i),p=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!Ax.includes(r))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,a,s;for(o=0,a=e.length;o<a;++o){s=e[o];const{fullSize:a}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*r:a&&t.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:a&&t.availableHeight)}return n}(l.concat(c),h);jx(s.fullSize,f,h,p),jx(l,f,h,p),jx(c,f,h,p)&&jx(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),Vx(s.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Vx(s.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Eb(s.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Hx{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Wx extends Hx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $x="$chartjs",qx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kx=e=>null===e||""===e,Gx=!!D_&&{passive:!0};function Yx(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Gx)}function Qx(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Xx(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Qx(n.addedNodes,r),t=t&&!Qx(n.removedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Jx(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Qx(n.removedNodes,r),t=t&&!Qx(n.addedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Zx=new Map;let ek=0;function tk(){const e=window.devicePixelRatio;e!==ek&&(ek=e,Zx.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function nk(e,t,n){const r=e.canvas,i=r&&S_(r);if(!i)return;const o=dw((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()},window),a=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||o(n,r)});return a.observe(i),function(e,t){Zx.size||window.addEventListener("resize",tk),Zx.set(e,t)}(e,o),a}function rk(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Zx.delete(e),Zx.size||window.removeEventListener("resize",tk)}(e)}function ik(e,t,n){const r=e.canvas,i=dw(t=>{null!==e.ctx&&n(function(e,t){const n=qx[e.type]||e.type,{x:r,y:i}=P_(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,Gx)}(r,t,i),i}class ok extends Hx{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[$x]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Kx(i)){const t=M_(e,"width");void 0!==t&&(e.width=t)}if(Kx(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=M_(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[$x])return!1;const n=t[$x].initial;["height","width"].forEach(e=>{const r=n[e];mb(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[$x],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Xx,detach:Jx,resize:nk}[t]||ik;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:rk,detach:rk,resize:rk}[t]||Yx)(e,t,r),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return function(e,t,n,r){const i=T_(e),o=N_(i,"margin"),a=C_(i.maxWidth,e,"clientWidth")||Vb,s=C_(i.maxHeight,e,"clientHeight")||Vb,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const o=e&&S_(e);if(o){const e=o.getBoundingClientRect(),a=T_(o),s=N_(a,"border","width"),l=N_(a,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,r=C_(a.maxWidth,o,"clientWidth"),i=C_(a.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Vb,maxHeight:i||Vb}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=N_(i,"border","width"),t=N_(i,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=A_(Math.min(c,a,l.maxWidth)),u=A_(Math.min(u,s,l.maxHeight)),c&&!u&&(u=A_(c/2)),(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=A_(Math.floor(u*r))),{width:c,height:u}}(e,t,n,r)}isAttached(e){const t=e&&S_(e);return!(!t||!t.isConnected)}}class ak{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Qb(this.x)&&Qb(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function sk(e,t,n,r,i){const o=_b(r,0),a=Math.min(_b(i,e.length),e.length);let s,l,c,u=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(o+u*n))}const lk=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,ck=(e,t)=>Math.min(t||e,e);function uk(e,t){const n=[],r=e.length/t,i=e.length;let o=0;for(;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function hk(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),o=e._startPixel,a=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-o,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<o-s||c>a+s)))return c}function dk(e){return e.drawTicks?e.tickLength:0}function fk(e,t){if(!e.display)return 0;const n=n_(e.font,t),r=t_(e.padding);return(vb(e.text)?e.text.length:1)*n.lineHeight+r.height}function pk(e,t,n){let r=fw(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class gk extends ak{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=wb(e,Number.POSITIVE_INFINITY),t=wb(t,Number.NEGATIVE_INFINITY),n=wb(n,Number.POSITIVE_INFINITY),r=wb(r,Number.NEGATIVE_INFINITY),{min:wb(e,n),max:wb(t,r),minDefined:bb(e),maxDefined:bb(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)t=a[s].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),o||(r=Math.max(r,t.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:wb(n,wb(r,n)),max:wb(r,wb(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){kb(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,o=xb(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?uk(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=o.length,s=o[0],l=o[a-1],c=[];if(a>i)return function(e,t,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),o++,a=n[o*r])}(t,c,o,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const o=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let e=0,t=o.length-1;e<t;e++){const t=o[e];if(t>i)return t}return Math.max(i,1)}(o,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-s)/(a-1)):null;for(sk(t,c,u,mb(r)?0:s-r,s),e=0,n=a-1;e<n;e++)sk(t,c,u,o[e],o[e+1]);return sk(t,c,u,l,mb(r)?t.length:l+r),c}return sk(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){kb(this.options.afterUpdate,[this])}beforeSetDimensions(){kb(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){kb(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),kb(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){kb(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=kb(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){kb(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){kb(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=ck(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let o,a,s,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=iw(this.chart.width-u,0,this.maxWidth);o=e.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(e.offset?.5:1)),a=this.maxHeight-dk(e.grid)-t.padding-fk(e.title,this.chart.options.font),s=Math.sqrt(u*u+h*h),l=Math.min(Math.asin(iw((c.highest.height+6)/o,-1,1)),Math.asin(iw(a/s,-1,1))-Math.asin(iw(h/s,-1,1)))*(180/zb),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){kb(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){kb(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=fk(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=dk(i)+o):(e.height=this.maxHeight,e.width=dk(i)+o),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,l=Xb(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*o.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*i.width+u*o.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;s?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){kb(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)mb(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=uk(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],s=Math.floor(t/ck(t,n));let l,c,u,h,d,f,p,g,m,v,y,b=0,w=0;for(l=0;l<t;l+=s){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,mb(h)||vb(h)){if(vb(h))for(c=0,u=h.length;c<u;++c)y=h[c],mb(y)||vb(y)||(m=Mw(r,p.data,p.gc,m,y),v+=g)}else m=Mw(r,p.data,p.gc,m,h),v=g;o.push(m),a.push(v),b=Math.max(m,b),w=Math.max(v,w)}!function(e,t){Eb(e,e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}})}(i,t);const _=o.indexOf(b),x=a.indexOf(w),k=e=>({width:o[e]||0,height:a[e]||0});return{first:k(0),last:k(t-1),widest:k(_),highest:k(x),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return iw(this._alignToPixels?Ow(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return i_(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=i_(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Xb(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:a}=r,s=i.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=dk(i),h=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return Ow(n,e,f)};let m,v,y,b,w,_,x,k,E,S,C,T;if("top"===o)m=g(this.bottom),_=this.bottom-u,k=m-p,S=g(e.top)+p,T=e.bottom;else if("bottom"===o)m=g(this.top),S=e.top,T=g(e.bottom)-p,_=m+p,k=this.top+u;else if("left"===o)m=g(this.right),w=this.right-u,x=m-p,E=g(e.left)+p,C=e.right;else if("right"===o)m=g(this.left),E=e.left,C=g(e.right)-p,w=m+p,x=this.left+u;else if("x"===t){if("center"===o)m=g((e.top+e.bottom)/2+.5);else if(yb(o)){const e=Object.keys(o)[0],t=o[e];m=g(this.chart.scales[e].getPixelForValue(t))}S=e.top,T=e.bottom,_=m+p,k=_+u}else if("y"===t){if("center"===o)m=g((e.left+e.right)/2);else if(yb(o)){const e=Object.keys(o)[0],t=o[e];m=g(this.chart.scales[e].getPixelForValue(t))}w=m-p,x=w-u,E=e.left,C=e.right}const I=_b(r.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/I));for(v=0;v<c;v+=N){const e=this.getContext(v),t=i.setContext(e),r=a.setContext(e),o=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=hk(this,v,s),void 0!==y&&(b=Ow(n,y,o),l?w=x=E=C=b:_=k=S=T=b,h.push({tx1:w,ty1:_,tx2:x,ty2:k,x1:E,y1:S,x2:C,y2:T,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=i,h=dk(n.grid),d=h+c,f=u?-c:d,p=-Xb(this.labelRotation),g=[];let m,v,y,b,w,_,x,k,E,S,C,T,I="middle";if("top"===r)_=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===r)_=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);x=e.textAlign,w=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);x=e.textAlign,w=e.x}else if("x"===t){if("center"===r)_=(e.top+e.bottom)/2+d;else if(yb(r)){const e=Object.keys(r)[0],t=r[e];_=this.chart.scales[e].getPixelForValue(t)+d}x=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)w=(e.left+e.right)/2-d;else if(yb(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===s?I="top":"end"===s&&(I="bottom"));const N=this._getLabelSizes();for(m=0,v=a.length;m<v;++m){y=a[m],b=y.label;const e=i.setContext(this.getContext(m));k=this.getPixelForTick(m)+i.labelOffset,E=this._resolveTickFontOptions(m),S=E.lineHeight,C=vb(b)?b.length:1;const t=C/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let h,d=x;if(o?(w=k,"inner"===x&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===l||0!==p?-C*S+S/2:"center"===l?-N.highest.height/2-t*S+S:-N.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?N.highest.height/2-t*S:N.highest.height-C*S,u&&(T*=-1),0===p||e.showLabelBackdrop||(w+=S/2*Math.sin(p))):(_=k,T=(1-C)*S/2),e.showLabelBackdrop){const t=t_(e.backdropPadding),n=N.heights[m],r=N.widths[m];let i=T-t.top,o=0-t.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":o-=r/2;break;case"right":o-=r;break;case"inner":m===v-1?o-=r:m>0&&(o-=r/2)}h={left:o,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:E,textOffset:T,options:{rotation:p,color:n,strokeColor:s,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Xb(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=e+i,a=this._getLabelSizes().widest.width;let s,l;return"left"===t?r?(l=this.right+i,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l+=a)):(l=this.right-o,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l-=a)):(l=this.left+o,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,o=r.length;i<o;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Ow(e,this.left,o)-o/2,c=Ow(e,this.right,a)+a/2,u=h=s):(u=Ow(e,this.top,o)-o/2,h=Ow(e,this.bottom,a)+a/2,l=c=s),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Uw(t,n);const r=this.getLabelItems(e);for(const e of r){const n=e.options,r=e.font;qw(t,e.label,0,e.textOffset,r,n)}n&&Vw(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=n_(n.font),o=t_(n.padding),a=n.align;let s=i.lineHeight/2;"bottom"===t||"center"===t||yb(t)?(s+=o.bottom,vb(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:o,bottom:a,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=a-i,m=s-o;if(e.isHorizontal()){if(d=pw(r,o,s),yb(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:lk(e,n,t);h=s-o}else{if(yb(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:lk(e,n,t);f=pw(r,a,i),p="left"===n?-Hb:Hb}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,s,t,a);qw(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:pk(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=_b(e.grid&&e.grid.z,-1),r=_b(e.border&&e.border.z,0);return this._isVisible()&&this.draw===gk.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=t.length;i<o;++i){const o=t[i];o[n]!==this.id||e&&o.type!==e||r.push(o)}return r}_resolveTickFontOptions(e){return n_(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mk{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=Nb(Object.create(null),[n?Dw.get(n):{},Dw.get(t),e.defaults]);Dw.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),o=[e].concat(r).join("."),a=t[n].split("."),s=a.pop(),l=a.join(".");Dw.route(o,i,l,s)})}(t,e.defaultRoutes),e.descriptors&&Dw.describe(t,e.descriptors)}(e,o,n),this.override&&Dw.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Dw[r]&&(delete Dw[r][n],this.override&&delete Iw[n])}}class vk{constructor(){this.controllers=new mk(dx,"datasets",!0),this.elements=new mk(ak,"elements"),this.plugins=new mk(Object,"plugins"),this.scales=new mk(gk,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):Eb(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=Mb(e);kb(n["before"+r],[],n),t[e](n),kb(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var yk=new vk;class bk{constructor(){this._init=void 0}notify(e,t,n,r){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===kb(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){mb(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=_b(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(yk.plugins.items);for(let e=0;e<r.length;e++)n.push(yk.getPlugin(r[e]));const i=e.plugins||[];for(let e=0;e<i.length;e++){const r=i[e];-1===n.indexOf(r)&&(n.push(r),t[r.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,{plugins:t,localIds:n},r,i){const o=[],a=e.getContext();for(const s of t){const t=s.id,l=wk(r[t],i);null!==l&&o.push({plugin:s,options:_k(e.config,{plugin:s,local:n[t]},l,a)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function wk(e,t){return t||!1!==e?!0===e?{}:e:null}function _k(e,{plugin:t,local:n},r,i){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(r,o);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xk(e,t){const n=Dw.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function kk(e){if("x"===e||"y"===e||"r"===e)return e}function Ek(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Sk(e,...t){if(kk(e))return e;for(const n of t){const t=n.axis||Ek(n.position)||e.length>1&&kk(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ck(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Tk(e){const t=e.options||(e.options={});t.plugins=_b(t.plugins,{}),t.scales=function(e,t){const n=Iw[e.type]||{scales:{}},r=t.scales||{},i=xk(e.type,t),o=Object.create(null);return Object.keys(r).forEach(t=>{const a=r[t];if(!yb(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const s=Sk(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Ck(e,"x",n[0])||Ck(e,"y",n[0])}return{}}(t,e),Dw.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,i),c=n.scales||{};o[t]=Pb(Object.create(null),[{axis:s},a,c[s],c[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,a=n.indexAxis||xk(i,t),s=(Iw[i]||{}).scales||{};Object.keys(s).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;o[i]=o[i]||Object.create(null),Pb(o[i],[{axis:t},r[i],s[e]])})}),Object.keys(o).forEach(e=>{const t=o[e];Pb(t,[Dw.scales[t.type],Dw.scale])}),o}(e,t)}function Ik(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Nk=new Map,Pk=new Set;function Ak(e,t){let n=Nk.get(e);return n||(n=t(),Nk.set(e,n),Pk.add(n)),n}const Rk=(e,t,n)=>{const r=Db(t,n);void 0!==r&&e.add(r)};class Dk{constructor(e){this._config=function(e){return(e=e||{}).data=Ik(e.data),Tk(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ik(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Tk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ak(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ak(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ak(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return Ak(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;const s=new Set;t.forEach(t=>{e&&(s.add(e),t.forEach(t=>Rk(s,e,t))),t.forEach(e=>Rk(s,r,e)),t.forEach(e=>Rk(s,Iw[i]||{},e)),t.forEach(e=>Rk(s,Dw,e)),t.forEach(e=>Rk(s,Nw,e))});const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),Pk.has(t)&&o.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Iw[t]||{},Dw.datasets[t]||{},{type:t},Dw,Nw]}resolveNamedOptions(e,t,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Mk(this._resolverCache,e,r);let s=o;(function(e,t){const{isScriptable:n,isIndexable:r}=s_(e);for(const i of t){const t=n(i),o=r(i),a=(o||t)&&e[i];if(t&&(Lb(a)||Ok(a))||o&&vb(a))return!0}return!1})(o,t)&&(i.$shared=!1,s=a_(o,n=Lb(n)?n():n,this.createResolver(e,n,a)));for(const e of t)i[e]=s[e];return i}createResolver(e,t,n=[""],r){const{resolver:i}=Mk(this._resolverCache,e,n);return yb(t)?a_(i,t,void 0,r):i}}function Mk(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let o=r.get(i);return o||(o={resolver:o_(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(i,o)),o}const Ok=e=>yb(e)&&Object.getOwnPropertyNames(e).some(t=>Lb(e[t])),Lk=["top","bottom","left","right","chartArea"];function Fk(e,t){return"top"===e||"bottom"===e||-1===Lk.indexOf(e)&&"x"===t}function zk(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function jk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),kb(n&&n.onComplete,[e],t)}function Uk(e){const t=e.chart,n=t.options.animation;kb(n&&n.onProgress,[e],t)}function Vk(e){return E_()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Bk={},Hk=e=>{const t=Vk(e);return Object.values(Bk).filter(e=>e.canvas===t).pop()};function Wk(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}class $k{static defaults=Dw;static instances=Bk;static overrides=Iw;static registry=yk;static version="4.5.1";static getChart=Hk;static register(...e){yk.add(...e),qk()}static unregister(...e){yk.remove(...e),qk()}constructor(e,t){const n=this.config=new Dk(t),r=Vk(e),i=Hk(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!E_()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Wx:ok}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),s=a&&a.canvas,l=s&&s.height,c=s&&s.width;this.id=gb(),this.ctx=a,this.canvas=s,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),o.resizeDelay||0),this._dataChanges=[],Bk[this.id]=this,a&&s?(Q_.listen(this,"complete",jk),Q_.listen(this,"progress",Uk),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return mb(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yk}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():R_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lw(this.canvas,this.ctx),this}stop(){return Q_.stop(this),this}resize(e,t){Q_.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,R_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),kb(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Eb(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],r=Sk(e,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}}))),Eb(i,t=>{const i=t.options,o=i.id,a=Sk(o,i),s=_b(i.type,t.dtype);void 0!==i.position&&Fk(i.position,a)===Fk(t.dposition)||(i.position=t.dposition),r[o]=!0;let l=null;o in n&&n[o].type===s?l=n[o]:(l=new(yk.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(i,e)}),Eb(r,(e,t)=>{e||delete n[t]}),Eb(n,e=>{Bx.configure(this,e,e.options),Bx.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(zk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||xk(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=yk.getController(o),{datasetElementType:r,dataElementType:a}=Dw.datasets[o];Object.assign(t,{dataElementType:yk.getElement(a),datasetElementType:r&&yk.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){Eb(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(n),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Eb(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(zk("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Eb(this.scales,e=>{Bx.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Fb(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t)Wk(e,r,"_removeElements"===n?-i:i)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let e=1;e<t;e++)if(!Fb(r,n(e)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Bx.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Eb(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Lb(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Q_.has(this)?this.attached&&!Q_.running(this)&&Q_.start(this):(this.draw(),jk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=G_(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Uw(t,r),e.controller.draw(),r&&Vw(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return jw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=Px.modes[t];return"function"==typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=i_(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);Ob(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Q_.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Bk[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Eb(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Eb(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Eb(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=e.length;a<s;++a){o=e[a];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}});!Sb(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),o=i(t,e),a=n?e:i(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,o=t,a=this._getActiveElements(e,r,n,o),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,kb(i.onHover,[e,a,this],this),s&&kb(i.onClick,[e,a,this],this));const c=!Sb(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function qk(){return Eb($k.instances,e=>e._plugins.invalidate())}function Kk(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Gk(e,t,n,r,i,o){const{x:a,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*h-n/zb)/h)/2,m=l+g+f,v=i-g-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:_}=function(e,t,n,r){const i=Jw(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-t)/2,a=Math.min(o,r*t/2),s=e=>{const t=(n-Math.min(o,e))*r/2;return iw(e,0,Math.min(o,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:iw(i.innerStart,0,a),innerEnd:iw(i.innerEnd,0,a)}}(t,d,h,v-m),x=h-y,k=h-b,E=m+y/x,S=v-b/k,C=d+w,T=d+_,I=m+w/C,N=v-_/T;if(e.beginPath(),o){const t=(E+S)/2;if(e.arc(a,s,h,E,t),e.arc(a,s,h,t,S),b>0){const t=Kk(k,S,a,s);e.arc(t.x,t.y,b,S,v+Hb)}const n=Kk(T,v,a,s);if(e.lineTo(n.x,n.y),_>0){const t=Kk(T,N,a,s);e.arc(t.x,t.y,_,v+Hb,N+Math.PI)}const r=(v-_/d+(m+w/d))/2;if(e.arc(a,s,d,v-_/d,r,!0),e.arc(a,s,d,r,m+w/d,!0),w>0){const t=Kk(C,I,a,s);e.arc(t.x,t.y,w,I+Math.PI,m-Hb)}const i=Kk(x,m,a,s);if(e.lineTo(i.x,i.y),y>0){const t=Kk(x,E,a,s);e.arc(t.x,t.y,y,m-Hb,E)}}else{e.moveTo(a,s);const t=Math.cos(E)*h+a,n=Math.sin(E)*h+s;e.lineTo(t,n);const r=Math.cos(S)*h+a,i=Math.sin(S)*h+s;e.lineTo(r,i)}e.closePath()}function Yk(e,t,n=t){e.lineCap=_b(n.borderCapStyle,t.borderCapStyle),e.setLineDash(_b(n.borderDash,t.borderDash)),e.lineDashOffset=_b(n.borderDashOffset,t.borderDashOffset),e.lineJoin=_b(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=_b(n.borderWidth,t.borderWidth),e.strokeStyle=_b(n.borderColor,t.borderColor)}function Qk(e,t,n){e.lineTo(n.x,n.y)}function Xk(e,t,n={}){const r=e.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=t,l=Math.max(i,a),c=Math.min(o,s),u=i<a&&o<a||i>s&&o>s;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Jk(e,t,n,r){const{points:i,options:o}=t,{count:a,start:s,loop:l,ilen:c}=Xk(i,n,r),u=function(e){return e.stepped?Bw:e.tension||"monotone"===e.cubicInterpolationMode?Hw:Qk}(o);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(s+(g?c-h:h))%a],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,o.stepped),f=d);return l&&(d=i[(s+(g?c:0))%a],u(e,f,d,g,o.stepped)),!!l}function Zk(e,t,n,r){const i=t.points,{count:o,start:a,ilen:s}=Xk(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,v=0;const y=e=>(a+(c?s-e:e))%o,b=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=i[y(0)],e.moveTo(h.x,h.y)),u=0;u<=s;++u){if(h=i[y(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),m=(v*m+t)/++v):(b(),e.lineTo(t,n),d=r,v=0,f=p=n),g=n}b()}function eE(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?Jk:Zk}const tE="function"==typeof Path2D;class nE extends ak{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;k_(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:a,end:s}=function(e,t,n,r){let i=0,o=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}(n,i,o,r);return function(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),o=$_(e.options),{_datasetIndex:a,options:{spanGaps:s}}=e,l=n.length,c=[];let u=o,h=t[0].start,d=h;function f(e,t,r,i){const o=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=o;for(;n[t%l].skip;)t+=o;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const e of t){h=s?h:e.start;let t,o=n[h%l];for(d=h+1;d<=e.end;d++){const s=n[d%l];t=$_(r.setContext(i_(i,{type:"segment",p0:o,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),q_(t,u)&&f(h,d-1,e.loop,u),o=s,u=t}h<d-1&&f(h,d-1,e.loop,u)}return c}(e,t,n,r):t}(e,!0===r?[{start:a,end:s,loop:o}]:function(e,t,n,r){const i=e.length,o=[];let a,s=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:t%i,end:(a-1)%i,loop:r}),t=s=n.stop?a:null):(s=a,l.skip&&(t=a)),l=n}return null!==s&&o.push({start:t%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!e._fullLoop&&0===a&&s===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,o=W_(this,{property:t,start:r,end:r});if(!o.length)return;const a=[],s=function(e){return e.stepped?L_:e.tension||"monotone"===e.cubicInterpolationMode?F_:O_}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=i[c],d=i[u];if(h===d){a.push(h);continue}const f=s(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return eE(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=eE(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)o&=i(e,this,a,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),function(e,t,n,r){tE&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Yk(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:o}=t,a=eE(t);for(const s of i)Yk(e,o,s.style),e.beginPath(),a(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function rE(e,t,n,r){const i=e.options,{[n]:o}=e.getProps([n],r);return Math.abs(t-o)<i.radius+i.hitRadius}function iE(e,t){const{x:n,y:r,base:i,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,h;return e.horizontal?(h=a/2,s=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=o/2,s=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:s,top:c,right:l,bottom:u}}function oE(e,t,n,r){return e?0:iw(t,n,r)}function aE(e,t,n,r){const i=null===t,o=null===n,a=e&&!(i&&o)&&iE(e,r);return a&&(i||ow(t,a.left,a.right))&&(o||ow(n,a.top,a.bottom))}function sE(e,t){e.rect(t.x,t.y,t.w,t.h)}function lE(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+a,radius:e.radius}}function cE(e,t,n,r){if(r)return;let i=t[e],o=n[e];return"angle"===e&&(i=nw(i),o=nw(o)),{property:e,start:i,end:o}}function uE(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function hE(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function dE(e,t){let n=[],r=!1;return vb(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:e,end:t})=>{t=uE(e,t,i);const a=i[e],s=i[t];null!==r?(o.push({x:a.x,y:r}),o.push({x:s.x,y:r})):null!==n&&(o.push({x:n,y:a.y}),o.push({x:n,y:s.y}))}),o}(e,t),n.length?new nE({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function fE(e){return e&&!1!==e.fill}function pE(e,t,n){let r=e[t].fill;const i=[t];let o;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!bb(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function gE(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=_b(n&&n.target,n);return void 0===r&&(r=!!t.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(e);if(yb(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return bb(i)&&Math.floor(i)===i?function(e,t,n,r){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=r)&&n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function mE(e,t,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:a,last:s,point:l}=vE(o,t,"x");if(!(!l||a&&s))if(a)r.unshift(l);else if(e.push(l),!s)break}e.push(...r)}function vE(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],o=e.segments,a=e.points;let s=!1,l=!1;for(let e=0;e<o.length;e++){const t=o[e],r=a[t.start][n],c=a[t.end][n];if(ow(i,r,c)){s=i===r,l=i===c;break}}return{first:s,last:l,point:r}}class yE{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:o}=this;return t=t||{start:0,end:jb},e.arc(r,i,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function bE(e,t,n){const r=function(e){const{chart:t,fill:n,line:r}=e;if(bb(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],o=r.segments,a=r.points,s=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let e=0;e<r.length;e++){const i=r[e];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}(t,n);s.push(dE({x:null,y:t.bottom},r));for(let e=0;e<o.length;e++){const t=o[e];for(let e=t.start;e<=t.end;e++)mE(i,a[e],s)}return new nE({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,a=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:yb(e)?e.value:t.getBaseValue(),r}(n,t,o),s=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,o);return new yE({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(a)})}for(let e=0;e<i;++e)s.push(t.getPointPositionForValue(e,a));return s}(e):function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:yb(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(bb(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof yE?i:dE(i,r)}(t),{chart:i,index:o,line:a,scale:s,axis:l}=t,c=a.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},p=i.getDatasetMeta(o),g=G_(i,p);r&&a.points.length&&(Uw(e,n),function(e,t){const{line:n,target:r,above:i,below:o,area:a,scale:s,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=o;o!==i&&("x"===c?(wE(e,r,a.top),xE(e,{line:n,target:r,color:i,scale:s,property:c,clip:l}),e.restore(),e.save(),wE(e,r,a.bottom)):"y"===c&&(_E(e,r,a.left),xE(e,{line:n,target:r,color:o,scale:s,property:c,clip:l}),e.restore(),e.save(),_E(e,r,a.right),u=i)),xE(e,{line:n,target:r,color:u,scale:s,property:c,clip:l}),e.restore()}(e,{line:a,target:r,above:d,below:f,area:n,scale:s,axis:l,clip:g}),Vw(e))}function wE(e,t,n){const{segments:r,points:i}=t;let o=!0,a=!1;e.beginPath();for(const s of r){const{start:r,end:l}=s,c=i[r],u=i[uE(r,l,i)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,s,{move:a}),a?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function _E(e,t,n){const{segments:r,points:i}=t;let o=!0,a=!1;e.beginPath();for(const s of r){const{start:r,end:l}=s,c=i[r],u=i[uE(r,l,i)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,s,{move:a}),a?e.closePath():e.lineTo(n,u.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function xE(e,t){const{line:n,target:r,property:i,color:o,scale:a,clip:s}=t,l=function(e,t,n){const r=e.segments,i=e.points,o=t.points,a=[];for(const e of r){let{start:r,end:s}=e;s=uE(r,s,i);const l=cE(n,i[r],i[s],e.loop);if(!t.segments){a.push({source:e,target:l,start:i[r],end:i[s]});continue}const c=W_(t,l);for(const t of c){const r=cE(n,o[t.start],o[t.end],t.loop),s=H_(e,i,r);for(const e of s)a.push({source:e,target:t,start:{[n]:hE(l,r,"start",Math.max)},end:{[n]:hE(l,r,"end",Math.min)}})}}return a}(n,r,i);for(const{source:t,target:c,start:u,end:h}of l){const{style:{backgroundColor:l=o}={}}=t,d=!0!==r;e.save(),e.fillStyle=l,kE(e,a,s,d&&cE(i,u,h)),e.beginPath();const f=!!n.pathSegment(e,t);let p;if(d){f?e.closePath():EE(e,r,h,i);const t=!!r.pathSegment(e,c,{move:f,reverse:!0});p=f&&t,p||EE(e,r,u,i)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function kE(e,t,n,r){const i=t.chart.chartArea,{property:o,start:a,end:s}=r||{};if("x"===o||"y"===o){let t,r,l,c;"x"===o?(t=a,r=i.top,l=s,c=i.bottom):(t=i.left,r=a,l=i.right,c=s),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),c=Math.min(c,n.bottom)),e.rect(t,r,l-t,c-r),e.clip()}}function EE(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var SE={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let o,a,s,l;for(a=0;a<r;++a)o=e.getDatasetMeta(a),s=o.dataset,l=null,s&&s.options&&s instanceof nE&&(l={visible:e.isDatasetVisible(a),index:a,fill:gE(s,a,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],l&&!1!==l.fill&&(l.fill=pE(i,a,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;n&&(n.line.updateControlPoints(o,n.axis),r&&n.fill&&bE(e.ctx,n,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;fE(n)&&bE(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;fE(r)&&"beforeDatasetDraw"===n.drawTime&&bE(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const CE=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class TE extends ak{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=kb(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=n_(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=CE(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,i,a,s)+10):(c=this.maxHeight,l=this._fitCols(o,r,a,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),s[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+a}),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e;let u=a,h=0,d=0,f=0,p=0;return this.legendItems.forEach((e,o)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const o=function(e,t,n,r){let i=e.text;return i&&"string"!=typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t)),t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;return"string"!=typeof t.text&&(r=IE(t,n)),r}(i,r,t.lineHeight);return{itemWidth:o,itemHeight:a}}(n,t,i,e,r);o>0&&d+m+2*a>c&&(u+=h+a,l.push({width:h,height:d}),f+=h+a,p++,h=d=0),s[o]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+a}),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,o=z_(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=pw(n,this.left+r,this.right-this.lineWidths[i]);for(const s of t)i!==s.row&&(i=s.row,a=pw(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+e+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=pw(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const s of t)s.col!==i&&(i=s.col,a=pw(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Uw(e,this),this._draw(),Vw(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:o}=e,a=Dw.color,s=z_(e.rtl,this.left,this.width),l=n_(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=CE(o,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:pw(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:pw(i,this.top+v+c,this.bottom-t[0].height),line:0},j_(this.ctx,e.textDirection);const y=g+c;this.legendItems.forEach((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const _=r.measureText(b.text).width,x=s.textAlign(b.textAlign||(b.textAlign=o.textAlign)),k=f+h+_;let E=d.x,S=d.y;if(s.setWidth(this.width),m?w>0&&E+k+c>this.right&&(S=d.y+=y,d.line++,E=d.x=pw(i,this.left+c,this.right-n[d.line])):w>0&&S+y>this.bottom&&(E=d.x=E+t[d.line].width+c,d.line++,S=d.y=pw(i,this.top+v+c,this.bottom-t[d.line].height)),function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=_b(n.lineWidth,1);if(r.fillStyle=_b(n.fillStyle,a),r.lineCap=_b(n.lineCap,"butt"),r.lineDashOffset=_b(n.lineDashOffset,0),r.lineJoin=_b(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=_b(n.strokeStyle,a),r.setLineDash(_b(n.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=s.xPlus(e,f/2);zw(r,a,l,t+h,o.pointStyleWidth&&f)}else{const o=t+Math.max((u-p)/2,0),a=s.leftForLtr(e,f),l=e_(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?Kw(r,{x:a,y:o,w:f,h:p,radius:l}):r.rect(a,o,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(E),S,b),E=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(x,E+f+h,m?E+k:this.right,e.rtl),function(e,t,n){qw(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(E),S,b),m)d.x+=k+c;else if("string"!=typeof b.text){const e=l.lineHeight;d.y+=IE(b,e)+c}else d.y+=y}),U_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=n_(t.font),r=t_(t.padding);if(!t.display)return;const i=z_(e.rtl,this.left,this.width),o=this.ctx,a=t.position,s=n.size/2,l=r.top+s;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=pw(e.align,u,this.right-h);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+pw(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=pw(a,u,u+h);o.textAlign=i.textAlign(fw(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,qw(o,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=n_(e.font),n=t_(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(ow(e,this.left,this.right)&&ow(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],ow(e,r.left,r.left+r.width)&&ow(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const o=this._hoveredItem,a=(i=n,null!==(r=o)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);o&&!a&&kb(t.onLeave,[e,o,this],this),this._hoveredItem=n,n&&!a&&kb(t.onHover,[e,n,this],this)}else n&&kb(t.onClick,[e,n,this],this);var r,i}}function IE(e,t){return t*(e.text?e.text.length:0)}var NE={id:"legend",_element:TE,start(e,t,n){const r=e.legend=new TE({ctx:e.ctx,options:n,chart:e});Bx.configure(e,r,n),Bx.addBox(e,r)},stop(e){Bx.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Bx.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:a,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=t_(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(s||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class PE extends ak{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=vb(n.text)?n.text.length:1;this._padding=t_(n.padding);const i=r*n_(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,l,c,u=0;return this.isHorizontal()?(l=pw(a,n,i),c=t+e,s=i-n):("left"===o.position?(l=n+e,c=pw(a,r,t),u=-.5*zb):(l=i-e,c=pw(a,t,r),u=.5*zb),s=r-t),{titleX:l,titleY:c,maxWidth:s,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=n_(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);qw(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:s,textAlign:fw(t.align),textBaseline:"middle",translation:[i,o]})}}var AE={id:"title",_element:PE,start(e,t,n){!function(e,t){const n=new PE({ctx:e.ctx,options:t,chart:e});Bx.configure(e,n,t),Bx.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Bx.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Bx.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const RE={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++o}}return 0!==o&&0!==r.size&&{x:[...r].reduce((e,t)=>e+t)/r.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let n,r,i,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=ew(t,r.getCenterPoint());e<s&&(s=e,i=r)}}if(i){const e=i.tooltipPosition();o=e.x,a=e.y}return{x:o,y:a}}};function DE(e,t){return t&&(vb(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ME(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function OE(e,t){const{element:n,datasetIndex:r,index:i}=t,o=e.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:e,label:a,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function LE(e,t){const n=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:a,boxHeight:s}=t,l=n_(t.bodyFont),c=n_(t.titleFont),u=n_(t.footerFont),h=o.length,d=i.length,f=r.length,p=t_(t.padding);let g=p.height,m=0,v=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v&&(g+=f*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing),d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const b=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=c.string,Eb(e.title,b),n.font=l.string,Eb(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?a+2+t.boxPadding:0,Eb(r,e=>{Eb(e.before,b),Eb(e.lines,b),Eb(e.after,b)}),y=0,n.font=u.string,Eb(e.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function FE(e,t,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:l}}=e;let c="center";return"center"===r?c=i<=(s+l)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(e,t,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+o+a>t.width||"right"===e&&i-o-a<0||void 0}(c,e,t,n)&&(c="center"),c}function zE(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||FE(e,t,n,r),yAlign:r}}function jE(e,t,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=e,{xAlign:s,yAlign:l}=n,c=i+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=e_(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(u,d)+i:"right"===s&&(p+=Math.max(h,f)+i),{x:iw(p,0,r.width-t.width),y:iw(g,0,r.height-t.height)}}function UE(e,t,n){const r=t_(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function VE(e){return DE([],ME(e))}function BE(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const HE={beforeTitle:pb,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:pb,beforeBody:pb,beforeLabel:pb,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return mb(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:pb,afterBody:pb,beforeFooter:pb,footer:pb,afterFooter:pb};function WE(e,t,n,r){const i=e[t].call(n,r);return void 0===i?HE[t].call(n,r):i}class $E extends ak{static positioners=RE;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new ex(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=i_(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){const{callbacks:n}=t,r=WE(n,"beforeTitle",this,e),i=WE(n,"title",this,e),o=WE(n,"afterTitle",this,e);let a=[];return a=DE(a,ME(r)),a=DE(a,ME(i)),a=DE(a,ME(o)),a}getBeforeBody(e,t){return VE(WE(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return Eb(e,e=>{const t={before:[],lines:[],after:[]},i=BE(n,e);DE(t.before,ME(WE(i,"beforeLabel",this,e))),DE(t.lines,WE(i,"label",this,e)),DE(t.after,ME(WE(i,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return VE(WE(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=WE(n,"beforeFooter",this,e),i=WE(n,"footer",this,e),o=WE(n,"afterFooter",this,e);let a=[];return a=DE(a,ME(r)),a=DE(a,ME(i)),a=DE(a,ME(o)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,l=[];for(a=0,s=t.length;a<s;++a)l.push(OE(this.chart,t[a]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),Eb(l,t=>{const n=BE(e.callbacks,t);r.push(WE(n,"labelColor",this,t)),i.push(WE(n,"labelPointStyle",this,t)),o.push(WE(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const e=RE[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=LE(this,n),a=Object.assign({},e,t),s=zE(this.chart,n,a),l=jE(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=e_(a),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,v,y,b,w;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-o,y=b+o,w=b-o):(g=h+f,m=g+o,y=b-o,w=b+o),v=g):(m="left"===r?h+Math.max(s,c)+o:"right"===r?h+f-Math.max(l,u)-o:this.caretX,"top"===i?(y=d,b=y-o,g=m-o,v=m+o):(y=d+p,b=y+o,g=m+o,v=m-o),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const r=this.title,i=r.length;let o,a,s;if(i){const l=z_(n.rtl,this.x,this.width);for(e.x=UE(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",o=n_(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,s=0;s<i;++s)t.fillText(r[s],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,s+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=i,c=n_(i.bodyFont),u=UE(this,"left",i),h=r.x(u),d=s<c.lineHeight?(c.lineHeight-s)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Fw(e,t,n,c),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Fw(e,t,n,c)}else{e.lineWidth=yb(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),a=e_(o.borderRadius);Object.values(a).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Kw(e,{x:t,y:f,w:l,h:s,radius:a}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Kw(e,{x:n,y:f+1,w:l-2,h:s-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,s),e.strokeRect(t,f,l,s),e.fillStyle=o.backgroundColor,e.fillRect(n,f+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=n_(n.bodyFont);let h=u.lineHeight,d=0;const f=z_(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},g=f.textAlign(o);let m,v,y,b,w,_,x;for(t.textAlign=o,t.textBaseline="middle",t.font=u.string,e.x=UE(this,g,n),t.fillStyle=n.bodyColor,Eb(this.beforeBody,p),d=a&&"right"!==g?"center"===o?l/2+c:l+2+c:0,b=0,_=r.length;b<_;++b){for(m=r[b],v=this.labelTextColors[b],t.fillStyle=v,Eb(m.before,p),y=m.lines,a&&y.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,s)),w=0,x=y.length;w<x;++w)p(y[w]),h=u.lineHeight;Eb(m.after,p)}d=0,h=u.lineHeight,Eb(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let o,a;if(i){const s=z_(n.rtl,this.x,this.width);for(e.x=UE(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",o=n_(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,a=0;a<i;++a)t.fillText(r[a],s.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=e_(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,s),"top"===o&&this.drawCaret(e,t,n,r),t.lineTo(a+l-h,s),t.quadraticCurveTo(a+l,s,a+l,s+h),"center"===o&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,s+c-f),t.quadraticCurveTo(a+l,s+c,a+l-f,s+c),"bottom"===o&&this.drawCaret(e,t,n,r),t.lineTo(a+d,s+c),t.quadraticCurveTo(a,s+c,a,s+c-d),"center"===o&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,s+u),t.quadraticCurveTo(a,s,a+u,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=RE[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=LE(this,e),a=Object.assign({},n,this._size),s=zE(t,e,a),l=jE(e,a,s,t);r._to===l.x&&i._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=t_(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),j_(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),U_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}),i=!Sb(n,r),o=this._positionChanged(r,t);(i||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,n),a=this._positionChanged(o,e),s=t||!Sb(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,o=RE[i.position].call(this,e,t);return!1!==o&&(n!==o.x||r!==o.y)}}var qE={id:"tooltip",_element:$E,positioners:RE,afterInit(e,t,n){n&&(e.tooltip=new $E({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function KE(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function GE(e,t,{horizontal:n,minRotation:r}){const i=Xb(r),o=(n?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class YE extends gk{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return mb(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=Kb(r),t=Kb(i);e<0&&t<0?a(0):e>0&&t>0&&o(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||o(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=function(e,t){const n=[],{bounds:r,step:i,min:o,max:a,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:g}=t,m=!mb(o),v=!mb(a),y=!mb(l),b=(g-p)/(u+1);let w,_,x,k,E=Yb((g-p)/f/d)*d;if(E<1e-14&&!m&&!v)return[{value:p},{value:g}];k=Math.ceil(g/E)-Math.floor(p/E),k>f&&(E=Yb(k*E/f/d)*d),mb(s)||(w=Math.pow(10,s),E=Math.ceil(E*w)/w),"ticks"===r?(_=Math.floor(p/E)*E,x=Math.ceil(g/E)*E):(_=p,x=g),m&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-o)/i,E/1e3)?(k=Math.round(Math.min((a-o)/E,c)),E=(a-o)/k,_=o,x=a):y?(_=m?o:_,x=v?a:x,k=l-1,E=(x-_)/k):(k=(x-_)/E,k=Gb(k,Math.round(k),E/1e3)?Math.round(k):Math.ceil(k));const S=Math.max(Jb(E),Jb(_));w=Math.pow(10,mb(s)?S:s),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let C=0;for(m&&(h&&_!==o?(n.push({value:o}),_<o&&C++,Gb(Math.round((_+C*E)*w)/w,o,GE(o,b,e))&&C++):_<o&&C++);C<k;++C){const e=Math.round((_+C*E)*w)/w;if(v&&e>a)break;n.push({value:e})}return v&&h&&x!==a?n.length&&Gb(n[n.length-1].value,a,GE(a,b,e))?n[n.length-1].value=a:n.push({value:a}):v&&x!==a||n.push({value:x}),n}({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,n){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Sw(e,this.chart.options.locale,this.options.ticks.format)}}class QE extends YE{static id="linear";static defaults={ticks:{callback:Tw.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=bb(e)?e:0,this.max=bb(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Xb(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Tw.formatters.logarithmic,Tw.formatters.numeric;const XE="label";function JE(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function ZE(e,t){e.labels=t}function eS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XE;const r=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[n]===t[n]);return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}})}function tS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XE;const n={labels:[],datasets:[]};return ZE(n,e.labels),eS(n,e.datasets,t),n}function nS(e,t){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:s,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=e,p=(0,r.useRef)(null),g=(0,r.useRef)(null),m=()=>{p.current&&(g.current=new $k(p.current,{type:s,data:tS(l,a),options:c&&{...c},plugins:u}),JE(t,g.current))},v=()=>{JE(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,r.useEffect)(()=>{!o&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)},[o,c]),(0,r.useEffect)(()=>{!o&&g.current&&ZE(g.current.config.data,l.labels)},[o,l.labels]),(0,r.useEffect)(()=>{!o&&g.current&&l.datasets&&eS(g.current.config.data,l.datasets,a)},[o,l.datasets]),(0,r.useEffect)(()=>{g.current&&(o?(v(),setTimeout(m)):g.current.update(d))},[o,c,l.labels,l.datasets,d]),(0,r.useEffect)(()=>{g.current&&(v(),setTimeout(m))},[s]),(0,r.useEffect)(()=>(m(),()=>v()),[]),r.createElement("canvas",{ref:p,role:"img",height:n,width:i,...f},h)}const rS=(0,r.forwardRef)(nS);function iS(e,t){return $k.register(t),(0,r.forwardRef)((t,n)=>r.createElement(rS,{...t,ref:n,type:e}))}const oS=iS("line",kx),aS=iS("bar",_x),sS=iS("doughnut",xx),lS=iS("pie",Ex);$k.register(class extends gk{static id="category";static defaults={ticks:{callback:KE}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(mb(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:iw(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:function(e,t,n,r){const i=e.indexOf(t);return-1===i?((e,t,n,r)=>("string"==typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r):i!==e.lastIndexOf(t)?n:i}(n,e,_b(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)r.push({value:n});return r}getLabelForValue(e){return KE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},QE,class extends ak{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return rE(this,e,"x",t)}inYRange(e,t){return rE(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!jw(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Fw(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}},nE,class extends ak{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=function(e){const t=iE(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,o=Zw(r);return{t:oE(i.top,o.top,0,n),r:oE(i.right,o.right,0,t),b:oE(i.bottom,o.bottom,0,n),l:oE(i.left,o.left,0,t)}}(e,n/2,r/2),o=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=e_(i),a=Math.min(t,n),s=e.borderSkipped,l=r||yb(i);return{topLeft:oE(!l||s.top||s.left,o.topLeft,0,a),topRight:oE(!l||s.top||s.right,o.topRight,0,a),bottomLeft:oE(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:oE(!l||s.bottom||s.right,o.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Kw:sE;var s;e.save(),o.w===i.w&&o.h===i.h||(e.beginPath(),a(e,lE(o,t,i)),e.clip(),a(e,lE(i,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,lE(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return aE(this,e,t,n)}inXRange(e,t){return aE(this,e,null,t)}inYRange(e,t){return aE(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},class extends ak{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=Zb(r,{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=_b(u,s-a),f=rw(i,a,s)&&a!==s,p=d>=jb||f,g=ow(o,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(r+i)/2,u=(o+a+l+s)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>jb?Math.floor(n/jb):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const s=r*(1-Math.sin(Math.min(zb,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=t;let l=t.endAngle;if(o){Gk(e,t,n,r,l,i);for(let t=0;t<o;++t)e.fill();isNaN(s)||(l=a+(s%jb||jb))}Gk(e,t,n,r,l,i),e.fill()}(e,this,s,i,o),function(e,t,n,r,i){const{fullCircles:o,startAngle:a,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(o){Gk(e,t,n,r,g,i);for(let t=0;t<o;++t)e.stroke();isNaN(s)||(g=a+(s%jb||jb))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:l}=t;let c=i/s;e.beginPath(),e.arc(o,a,s,r-c,n+c),l>i?(c=i/l,e.arc(o,a,l,n+c,r-c,!0)):e.arc(o,a,i,n+Hb,r-Hb),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-a>=zb&&0===f&&"miter"!==u&&function(e,t,n){const{startAngle:r,x:i,y:o,outerRadius:a,innerRadius:s,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/a,nw(r-n));if(e.beginPath(),e.arc(i,o,a-c/2,r+h/2,n-h/2),s>0){const t=Math.min(c/s,nw(r-n));e.arc(i,o,s+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,a*nw(r-n));if("round"===u)e.arc(i,o,t,n-zb/2,r+zb/2,!0);else if("bevel"===u){const a=2*t*t,s=-a*Math.cos(n+zb/2)+i,l=-a*Math.sin(n+zb/2)+o,c=a*Math.cos(r+zb/2)+i,u=a*Math.sin(r+zb/2)+o;e.lineTo(s,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),o||(Gk(e,t,n,r,g,i),e.stroke())}(e,this,s,i,o),e.restore()}},AE,qE,NE,SE);const cS=e=>{const t=[],n=["May","June","July","Aug","Sept","Oct"];if(!e||0===e.length){for(let e=0;e<6;e++)t.push({month:n[e],readiness:0,projects:0,dataQuality:0});return{aggregateMetrics:{totalProjects:0,activeProjects:0,avgReadiness:0,dataPoints:0},departmentMetrics:{},timeSeriesData:t,projects:[]}}const r=e.filter(e=>"Active"===e.status||"In Progress"===e.status).length,i=e.reduce((e,t)=>e+(t.readinessScore||0),0)/e.length,o={};e.forEach(e=>{const t=e.department||"Unassigned";o[t]||(o[t]={count:0,avgReadiness:0,projects:[]}),o[t].count++,o[t].projects.push(e)}),Object.keys(o).forEach(e=>{const t=o[e].projects;o[e].avgReadiness=t.reduce((e,t)=>e+(t.readinessScore||0),0)/t.length});for(let r=0;r<6;r++)t.push({month:n[r],readiness:Math.min(100,Math.max(0,Math.round(i+2*r+(10*Math.random()-5)))),projects:Math.max(1,Math.floor(e.length*(.5+.1*r))),dataQuality:Math.min(100,Math.max(0,Math.round(i+3*r+(10*Math.random()-5))))});return{aggregateMetrics:{totalProjects:e.length,activeProjects:r,avgReadiness:Math.round(i),dataPoints:20*e.length},departmentMetrics:o,timeSeriesData:t,projects:e}},uS=()=>{const{currentUser:e}=vy(),[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{o(!0);try{if(null!=e&&e.isDemo){const e=Ry();n(e)}else if(e){const t=await hy(e.uid),r=cS(t||[]);n(r)}}catch(e){console.error("Error loading dashboard data:",e),n(cS([]))}o(!1)})()},[e]),i||!t)return r.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},r.createElement("div",{className:"text-xl text-gray-600"},"Loading dashboard..."));const{aggregateMetrics:a,departmentMetrics:s,timeSeriesData:l,projects:c}=t,u=Array.isArray(l)?l:[],h=Array.isArray(c)?c:[],d=s&&"object"==typeof s?s:{},f={labels:u.map(e=>e.month),datasets:[{label:"Overall Readiness Score",data:u.map(e=>e.readiness),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4},{label:"Data Quality Score",data:u.map(e=>e.dataQuality),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4}]},p={labels:Object.keys(d),datasets:[{label:"Average Readiness by Department",data:Object.values(d).map(e=>e.avgReadiness),backgroundColor:["rgba(99, 102, 241, 0.8)","rgba(34, 197, 94, 0.8)","rgba(234, 179, 8, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)"],borderColor:["rgb(99, 102, 241)","rgb(34, 197, 94)","rgb(234, 179, 8)","rgb(239, 68, 68)","rgb(168, 85, 247)"],borderWidth:2}]},g={labels:["Planning","In Progress","Completed","On Hold"],datasets:[{data:[h.filter(e=>"Planning"===e.status).length,h.filter(e=>"In Progress"===e.status).length,h.filter(e=>"Completed"===e.status).length,h.filter(e=>"On Hold"===e.status).length],backgroundColor:["rgba(234, 179, 8, 0.8)","rgba(59, 130, 246, 0.8)","rgba(34, 197, 94, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgb(234, 179, 8)","rgb(59, 130, 246)","rgb(34, 197, 94)","rgb(156, 163, 175)"],borderWidth:2}]},m={labels:["AI System","Automation","Analytics","Infrastructure"],datasets:[{data:[h.filter(e=>"AI System"===e.type).length,h.filter(e=>"Automation"===e.type).length,h.filter(e=>"Analytics"===e.type).length,h.filter(e=>"Infrastructure"===e.type).length],backgroundColor:["rgba(168, 85, 247, 0.8)","rgba(99, 102, 241, 0.8)","rgba(34, 197, 94, 0.8)","rgba(234, 179, 8, 0.8)"],borderColor:["rgb(168, 85, 247)","rgb(99, 102, 241)","rgb(34, 197, 94)","rgb(234, 179, 8)"],borderWidth:2}]},v={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,max:100}}},y={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}};return r.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 py-8"},r.createElement("div",{className:"container mx-auto px-4"},r.createElement("div",{className:"mb-8 animate-fadeInDown"},r.createElement("h1",{className:"text-4xl font-extrabold mb-2"},r.createElement("span",{className:"gradient-text"},"AI Readiness Dashboard")),r.createElement("p",{className:"text-gray-600 text-lg"},"Enterprise-wide AI and automation tracking metrics")),r.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},r.createElement("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300 hover:shadow-2xl animate-fadeInUp"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h3",{className:"text-sm font-semibold opacity-90"},"Overall Readiness"),r.createElement("span",{className:"text-3xl"},"🎯")),r.createElement("p",{className:"text-4xl font-extrabold mb-1"},a.overallReadiness,"%"),r.createElement("p",{className:"text-sm opacity-80"},"Enterprise average"),r.createElement("div",{className:"mt-4 h-2 bg-white/30 rounded-full overflow-hidden"},r.createElement("div",{className:"h-full bg-white rounded-full",style:{width:"".concat(a.overallReadiness,"%")}}))),r.createElement("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300 hover:shadow-2xl animate-fadeInUp",style:{animationDelay:"0.1s"}},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h3",{className:"text-sm font-semibold opacity-90"},"Total Projects"),r.createElement("span",{className:"text-3xl"},"📊")),r.createElement("p",{className:"text-4xl font-extrabold mb-1"},a.totalProjects),r.createElement("p",{className:"text-sm opacity-80"},"Active & completed"),r.createElement("div",{className:"mt-4 flex gap-1"},[...Array(a.totalProjects)].map((e,t)=>r.createElement("div",{key:t,className:"flex-1 h-2 bg-white/50 rounded-full"})))),r.createElement("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300 hover:shadow-2xl animate-fadeInUp",style:{animationDelay:"0.2s"}},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h3",{className:"text-sm font-semibold opacity-90"},"In Progress"),r.createElement("span",{className:"text-3xl"},"⚡")),r.createElement("p",{className:"text-4xl font-extrabold mb-1"},a.activeProjects),r.createElement("p",{className:"text-sm opacity-80"},"Currently active"),r.createElement("div",{className:"mt-4 flex items-center gap-2"},r.createElement("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),r.createElement("div",{className:"text-xs opacity-90"},"Live tracking"))),r.createElement("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300 hover:shadow-2xl animate-fadeInUp",style:{animationDelay:"0.3s"}},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h3",{className:"text-sm font-semibold opacity-90"},"Completed"),r.createElement("span",{className:"text-3xl"},"✅")),r.createElement("p",{className:"text-4xl font-extrabold mb-1"},a.completedProjects),r.createElement("p",{className:"text-sm opacity-80"},"Successfully deployed"),r.createElement("div",{className:"mt-4 flex items-center gap-2"},r.createElement("div",{className:"text-2xl"},"🎉"),r.createElement("div",{className:"text-xs opacity-90"},"Celebrating success")))),r.createElement("div",{className:"grid lg:grid-cols-2 gap-6 mb-6"},r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-gray-100 hover:shadow-2xl transition-all duration-300 animate-fadeInUp"},r.createElement("div",{className:"flex items-center justify-between mb-6"},r.createElement("h3",{className:"text-xl font-bold text-gray-900"},"📈 AI Readiness Trends"),r.createElement("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-semibold"},"6 Months")),r.createElement(oS,{data:f,options:v})),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-gray-100 hover:shadow-2xl transition-all duration-300 animate-fadeInUp",style:{animationDelay:"0.1s"}},r.createElement("div",{className:"flex items-center justify-between mb-6"},r.createElement("h3",{className:"text-xl font-bold text-gray-900"},"🏢 Department Performance"),r.createElement("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold"},"Live Data")),r.createElement(aS,{data:p,options:v}))),r.createElement("div",{className:"grid lg:grid-cols-2 gap-6 mb-6"},r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-gray-100 hover:shadow-2xl transition-all duration-300 animate-fadeInUp",style:{animationDelay:"0.2s"}},r.createElement("div",{className:"flex items-center justify-between mb-6"},r.createElement("h3",{className:"text-xl font-bold text-gray-900"},"📊 Project Status"),r.createElement("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold"},"Distribution")),r.createElement("div",{className:"max-w-md mx-auto"},r.createElement(sS,{data:g,options:y}))),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-gray-100 hover:shadow-2xl transition-all duration-300 animate-fadeInUp",style:{animationDelay:"0.3s"}},r.createElement("div",{className:"flex items-center justify-between mb-6"},r.createElement("h3",{className:"text-xl font-bold text-gray-900"},"🎯 Project Types"),r.createElement("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold"},"Categories")),r.createElement("div",{className:"max-w-md mx-auto"},r.createElement(lS,{data:m,options:y})))),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6 border border-gray-100 animate-fadeInUp"},r.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2"},r.createElement("span",null,"🏭")," Department Breakdown"),r.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4"},Object.entries(d).map(e=>{let[t,n]=e;return r.createElement("div",{key:t,className:"border-2 border-gray-100 rounded-xl p-5 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-white to-gray-50"},r.createElement("h4",{className:"font-bold text-gray-900 mb-3 text-lg"},t),r.createElement("div",{className:"space-y-3"},r.createElement("div",{className:"flex justify-between items-center"},r.createElement("span",{className:"text-sm text-gray-600"},"Projects:"),r.createElement("span",{className:"font-bold text-indigo-600 text-lg"},n.projectCount||n.count||0)),r.createElement("div",{className:"flex justify-between items-center"},r.createElement("span",{className:"text-sm text-gray-600"},"Avg Readiness:"),r.createElement("span",{className:"font-bold text-purple-600 text-lg"},Math.round(n.avgReadiness||0),"%")),r.createElement("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden"},r.createElement("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.round(n.avgReadiness||0),"%")}}))))}))),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6 border border-gray-100 animate-fadeInUp"},r.createElement("div",{className:"flex justify-between items-center mb-6"},r.createElement("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2"},r.createElement("span",null,"📋")," Recent Projects"),r.createElement(De,{to:"/projects",className:"text-indigo-600 hover:text-indigo-700 font-semibold flex items-center gap-1 hover:gap-2 transition-all duration-300"},"View All ",r.createElement("span",null,"→"))),r.createElement("div",{className:"overflow-x-auto"},r.createElement("table",{className:"w-full"},r.createElement("thead",null,r.createElement("tr",{className:"border-b-2 border-gray-200 bg-gray-50"},r.createElement("th",{className:"text-left py-4 px-4 font-bold text-gray-700"},"Project Name"),r.createElement("th",{className:"text-left py-4 px-4 font-bold text-gray-700"},"Type"),r.createElement("th",{className:"text-left py-4 px-4 font-bold text-gray-700"},"Department"),r.createElement("th",{className:"text-left py-4 px-4 font-bold text-gray-700"},"Status"),r.createElement("th",{className:"text-left py-4 px-4 font-bold text-gray-700"},"Readiness"))),r.createElement("tbody",null,h.slice(0,5).map((e,t)=>r.createElement("tr",{key:e.id,className:"border-b border-gray-100 hover:bg-indigo-50 transition-colors duration-200",style:{animationDelay:"".concat(.05*t,"s")}},r.createElement("td",{className:"py-4 px-4 font-semibold text-gray-900"},e.name),r.createElement("td",{className:"py-4 px-4 text-gray-600"},e.type),r.createElement("td",{className:"py-4 px-4 text-gray-600"},e.department),r.createElement("td",{className:"py-4 px-4"},r.createElement("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold shadow-sm ".concat("Completed"===e.status?"bg-gradient-to-r from-green-400 to-emerald-500 text-white":"In Progress"===e.status?"bg-gradient-to-r from-blue-400 to-indigo-500 text-white":"Planning"===e.status?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-200 text-gray-700")},e.status)),r.createElement("td",{className:"py-4 px-4"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"flex-grow bg-gray-200 rounded-full h-3 w-28 overflow-hidden"},r.createElement("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(e.readinessScore,"%")}})),r.createElement("span",{className:"font-bold text-gray-900 min-w-[3rem] text-right"},e.readinessScore,"%"))))))))),r.createElement("div",{className:"grid md:grid-cols-2 gap-6 animate-fadeInUp"},r.createElement("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden"},r.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),r.createElement("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),r.createElement("div",{className:"relative z-10"},r.createElement("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2"},r.createElement("span",null,"📈")," Key Insights"),r.createElement("ul",{className:"space-y-4"},r.createElement("li",{className:"flex items-start gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300"},r.createElement("span",{className:"text-green-300 font-bold text-xl"},"✓"),r.createElement("span",{className:"leading-relaxed"},"Overall readiness has improved by 15% this quarter")),r.createElement("li",{className:"flex items-start gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300"},r.createElement("span",{className:"text-yellow-300 font-bold text-xl"},"!"),r.createElement("span",{className:"leading-relaxed"},"2 projects need attention to meet deadlines")),r.createElement("li",{className:"flex items-start gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300"},r.createElement("span",{className:"text-blue-300 font-bold text-xl"},"→"),r.createElement("span",{className:"leading-relaxed"},"Consider expanding AI initiatives in top-performing departments"))))),r.createElement("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden"},r.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),r.createElement("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),r.createElement("div",{className:"relative z-10"},r.createElement("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2"},r.createElement("span",null,"🎯")," Recommendations"),r.createElement("ul",{className:"space-y-4"},r.createElement("li",{className:"flex items-start gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300"},r.createElement("span",{className:"font-bold text-xl"},"1."),r.createElement("span",{className:"leading-relaxed"},"Focus on data quality improvements for projects below 60%")),r.createElement("li",{className:"flex items-start gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300"},r.createElement("span",{className:"font-bold text-xl"},"2."),r.createElement("span",{className:"leading-relaxed"},"Share best practices from completed projects")),r.createElement("li",{className:"flex items-start gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300"},r.createElement("span",{className:"font-bold text-xl"},"3."),r.createElement("span",{className:"leading-relaxed"},"Schedule cross-department collaboration sessions"))))))))},hS={AWS:{name:"Amazon Web Services",icon:"☁️",connect:async e=>(console.log("Connecting to AWS...",e),{success:!0,message:"Connected to AWS"}),fetchData:async e=>({metrics:dS("AWS"),timestamp:(new Date).toISOString()})},Azure:{name:"Microsoft Azure",icon:"🔷",connect:async e=>(console.log("Connecting to Azure...",e),{success:!0,message:"Connected to Azure"}),fetchData:async e=>({metrics:dS("Azure"),timestamp:(new Date).toISOString()})},"Google Sheets":{name:"Google Sheets",icon:"📊",connect:async e=>(console.log("Connecting to Google Sheets...",e),{success:!0,message:"Connected to Google Sheets"}),fetchData:async e=>({metrics:dS("Google Sheets"),timestamp:(new Date).toISOString()})},Excel:{name:"Microsoft Excel",icon:"📈",connect:async e=>(console.log("Connecting to Excel...",e),{success:!0,message:"Connected to Excel"}),fetchData:async e=>({metrics:dS("Excel"),timestamp:(new Date).toISOString()})},Salesforce:{name:"Salesforce",icon:"☁️",connect:async e=>(console.log("Connecting to Salesforce...",e),{success:!0,message:"Connected to Salesforce"}),fetchData:async e=>({metrics:dS("Salesforce"),timestamp:(new Date).toISOString()})},PostgreSQL:{name:"PostgreSQL",icon:"🐘",connect:async e=>(console.log("Connecting to PostgreSQL...",e),{success:!0,message:"Connected to PostgreSQL"}),fetchData:async e=>({metrics:dS("PostgreSQL"),timestamp:(new Date).toISOString()})},MongoDB:{name:"MongoDB",icon:"🍃",connect:async e=>(console.log("Connecting to MongoDB...",e),{success:!0,message:"Connected to MongoDB"}),fetchData:async e=>({metrics:dS("MongoDB"),timestamp:(new Date).toISOString()})},Snowflake:{name:"Snowflake",icon:"❄️",connect:async e=>(console.log("Connecting to Snowflake...",e),{success:!0,message:"Connected to Snowflake"}),fetchData:async e=>({metrics:dS("Snowflake"),timestamp:(new Date).toISOString()})},Databricks:{name:"Databricks",icon:"🧱",connect:async e=>(console.log("Connecting to Databricks...",e),{success:!0,message:"Connected to Databricks"}),fetchData:async e=>({metrics:dS("Databricks"),timestamp:(new Date).toISOString()})},Tableau:{name:"Tableau",icon:"📊",connect:async e=>(console.log("Connecting to Tableau...",e),{success:!0,message:"Connected to Tableau"}),fetchData:async e=>({metrics:dS("Tableau"),timestamp:(new Date).toISOString()})}};function dS(e){return{dataQuality:Math.floor(30*Math.random())+70,recordCount:Math.floor(1e4*Math.random())+1e3,lastUpdated:(new Date).toISOString(),source:e,status:"active"}}function fS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fS(Object(n),!0).forEach(function(t){gS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gS(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mS=()=>{const{currentUser:e}=vy(),[t,n]=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),[l]=(0,r.useState)(Object.keys(hS).map(e=>({id:e,name:hS[e].name,icon:hS[e].icon}))),[c,u]=(0,r.useState)(!0),[h,d]=(0,r.useState)({name:"",type:"AI System",status:"Planning",dataSource:"AWS",owner:"",department:"",readinessScore:50});(0,r.useEffect)(()=>{f()},[e]);const f=async()=>{u(!0);try{if(null!=e&&e.isDemo){const e=Ry();n(e.projects)}else if(e){const t=await hy(e.uid);n(t||[])}}catch(e){console.error("Error loading projects:",e),n([])}u(!1)},p=e=>{const{name:t,value:n}=e.target;d(e=>pS(pS({},e),{},{[t]:n}))},g=()=>{d({name:"",type:"AI System",status:"Planning",dataSource:"AWS",owner:"",department:"",readinessScore:50}),s(null),o(!1)};return r.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-indigo-50 to-purple-50 py-8"},r.createElement("div",{className:"container mx-auto px-4"},r.createElement("div",{className:"flex justify-between items-center mb-8 animate-fadeInDown"},r.createElement("div",null,r.createElement("h1",{className:"text-4xl font-extrabold mb-2"},r.createElement("span",{className:"gradient-text"},"Projects & Systems")),r.createElement("p",{className:"text-gray-600"},"Manage your AI and automation initiatives")),r.createElement("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 transform flex items-center gap-2"},r.createElement("span",{className:"text-2xl"},"+")," Add New Project")),r.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((t,n)=>{return r.createElement("div",{key:t.id,className:"group bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-gray-100 animate-fadeInUp",style:{animationDelay:"".concat(.05*n,"s")}},r.createElement("div",{className:"p-6 relative"},r.createElement("div",{className:"absolute top-4 right-4"},r.createElement("span",{className:"px-4 py-2 rounded-full text-xs font-bold shadow-lg ".concat((a=t.status,{Planning:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white","In Progress":"bg-gradient-to-r from-blue-400 to-indigo-500 text-white",Completed:"bg-gradient-to-r from-green-400 to-emerald-500 text-white","On Hold":"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700"}[a]||"bg-gray-200 text-gray-700"))},t.status)),r.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-6 pr-20 group-hover:text-indigo-600 transition-colors duration-300"},t.name),r.createElement("div",{className:"space-y-4"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-lg flex items-center justify-center"},r.createElement("span",{className:"text-lg"},"🎯")),r.createElement("div",null,r.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Type"),r.createElement("p",{className:"font-bold text-gray-900"},t.type))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-lg flex items-center justify-center"},r.createElement("span",{className:"text-lg"},"💾")),r.createElement("div",null,r.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Data Source"),r.createElement("p",{className:"font-bold text-gray-900"},t.dataSource))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-green-100 to-emerald-100 rounded-lg flex items-center justify-center"},r.createElement("span",{className:"text-lg"},"👤")),r.createElement("div",null,r.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Owner"),r.createElement("p",{className:"font-bold text-gray-900"},t.owner))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center"},r.createElement("span",{className:"text-lg"},"🏢")),r.createElement("div",null,r.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Department"),r.createElement("p",{className:"font-bold text-gray-900"},t.department))),r.createElement("div",{className:"pt-4 border-t border-gray-100"},r.createElement("p",{className:"text-xs text-gray-500 font-semibold mb-2"},"AI Readiness Score"),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"flex-grow bg-gray-200 rounded-full h-3 overflow-hidden"},r.createElement("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500 shadow-lg",style:{width:"".concat(t.readinessScore,"%")}})),r.createElement("span",{className:"font-extrabold text-lg ".concat((i=t.readinessScore,i>=80?"text-green-600":i>=60?"text-yellow-600":"text-red-600"))},t.readinessScore))),r.createElement("div",{className:"flex items-center gap-3 pt-2"},r.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-lg flex items-center justify-center"},r.createElement("span",{className:"text-lg"},"📅")),r.createElement("div",null,r.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Start Date"),r.createElement("p",{className:"font-bold text-gray-900"},new Date(t.startDate).toLocaleDateString())))),r.createElement("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-100"},r.createElement("button",{onClick:()=>(e=>{s(e),d({name:e.name,type:e.type,status:e.status,dataSource:e.dataSource,owner:e.owner,department:e.department,readinessScore:e.readinessScore}),o(!0)})(t),className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-3 rounded-xl font-bold hover:shadow-xl hover:scale-105 transition-all duration-300 transform"},"✏️ Edit"),r.createElement("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this project?"))try{null!=e&&e.isDemo?(e=>{const t=Ry();t.projects=t.projects.filter(t=>t.id!==e),t.dataPoints=t.dataPoints.filter(t=>t.projectId!==e),localStorage.setItem("demoData",JSON.stringify(t))})(t):e&&await dy(e.uid,t),await f()}catch(e){console.error("Error deleting project:",e),alert("Failed to delete project. Please try again.")}})(t.id),className:"flex-1 bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-3 rounded-xl font-bold hover:shadow-xl hover:scale-105 transition-all duration-300 transform"},"🗑️ Delete"))));var i,a})),0===t.length&&r.createElement("div",{className:"text-center py-20 animate-fadeInUp"},r.createElement("div",{className:"text-8xl mb-6"},"📊"),r.createElement("p",{className:"text-gray-500 text-xl mb-6"},"No projects yet. Let's get started!"),r.createElement("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 transform"},"✨ Create Your First Project"))),i&&r.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeInUp"},r.createElement("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border-2 border-gray-100 animate-scaleIn"},r.createElement("div",{className:"p-8"},r.createElement("h2",{className:"text-3xl font-bold mb-6"},r.createElement("span",{className:"gradient-text"},a?"✏️ Edit Project":"✨ Add New Project")),r.createElement("form",{onSubmit:async t=>{t.preventDefault();try{null!=e&&e.isDemo?a?((e,t)=>{const n=Ry(),r=n.projects.findIndex(t=>t.id===e);-1!==r&&(n.projects[r]=Ny(Ny({},n.projects[r]),t),localStorage.setItem("demoData",JSON.stringify(n)),n.projects[r])})(a.id,h):(e=>{const t=Ry(),n=Ny(Ny({id:Ty()},e),{},{startDate:(new Date).toISOString().split("T")[0]});t.projects.push(n),localStorage.setItem("demoData",JSON.stringify(t))})(h):e&&(a?await(async(e,t,n)=>{try{const r=Vm(sy,"users/".concat(e,"/projects/").concat(t));return await Wm(r,cy(cy({},n),{},{updatedAt:(new Date).toISOString()})),console.log("✅ Project updated in Realtime Database"),!0}catch(e){throw console.error("❌ Error updating project in Realtime Database:",e),e}})(e.uid,a.id,h):await(async(e,t)=>{try{const n=function(e,t){e=Lt(e),sm("push",e._path),rm("push",t,e._path,!0);const n=pm(e._repo),r=Mm(n),i=Bm(e,r),o=Bm(e,r);let a;return a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}(Vm(sy,"users/".concat(e,"/projects")));return await Hm(n,cy(cy({},t),{},{id:n.key,userId:e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})),console.log("✅ Project saved to Realtime Database"),n.key}catch(e){throw console.error("❌ Error saving project to Realtime Database:",e),e}})(e.uid,h)),await f(),g()}catch(e){console.error("Error saving project:",e),alert("Failed to save project. Please try again.")}},className:"space-y-5"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-700 mb-2"},"Project Name *"),r.createElement("input",{type:"text",name:"name",value:h.name,onChange:p,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"e.g., Customer Service AI Chatbot"})),r.createElement("div",{className:"grid md:grid-cols-2 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Type *"),r.createElement("select",{name:"type",value:h.type,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},r.createElement("option",{value:"AI System"},"AI System"),r.createElement("option",{value:"Automation"},"Automation"),r.createElement("option",{value:"Analytics"},"Analytics"),r.createElement("option",{value:"Infrastructure"},"Infrastructure"))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status *"),r.createElement("select",{name:"status",value:h.status,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},r.createElement("option",{value:"Planning"},"Planning"),r.createElement("option",{value:"In Progress"},"In Progress"),r.createElement("option",{value:"Completed"},"Completed"),r.createElement("option",{value:"On Hold"},"On Hold")))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Data Source *"),r.createElement("select",{name:"dataSource",value:h.dataSource,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},l.map(e=>r.createElement("option",{key:e.id,value:e.id},e.icon," ",e.name)))),r.createElement("div",{className:"grid md:grid-cols-2 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Owner *"),r.createElement("input",{type:"text",name:"owner",value:h.owner,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Project owner name"})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Department *"),r.createElement("input",{type:"text",name:"department",value:h.department,onChange:p,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., Operations"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"AI Readiness Score: ",h.readinessScore),r.createElement("input",{type:"range",name:"readinessScore",value:h.readinessScore,onChange:p,min:"0",max:"100",className:"w-full"})),r.createElement("div",{className:"flex gap-4 pt-6 border-t border-gray-200"},r.createElement("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-4 rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 transform"},a?"✅ Update Project":"🚀 Add Project"),r.createElement("button",{type:"button",onClick:g,className:"flex-1 bg-gray-200 text-gray-700 px-6 py-4 rounded-xl font-bold hover:bg-gray-300 hover:shadow-lg transition-all duration-300"},"❌ Cancel")))))))},vS=()=>{var e,t,n,i;const{currentUser:o,logout:a}=vy(),s=Y(),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),[d,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)({displayName:"",bio:"",phone:"",company:"",position:""});return(0,r.useEffect)(()=>{(async()=>{if(o&&!o.isDemo)try{const e=await(async e=>{try{const t=Vm(sy,"users/".concat(e)),n=await $m(t);return n.exists()?n.val():(console.log("No user data found in Realtime Database"),null)}catch(e){throw console.error("Error getting user data from Realtime Database:",e),e}})(o.uid);c(e),g({displayName:(null==e?void 0:e.displayName)||o.displayName||"",bio:(null==e?void 0:e.bio)||"",phone:(null==e?void 0:e.phone)||"",company:(null==e?void 0:e.company)||"",position:(null==e?void 0:e.position)||""})}catch(e){console.error("Error fetching user data:",e)}h(!1)})()},[o]),o?r.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-pink-50 py-8"},r.createElement("div",{className:"container mx-auto px-4 max-w-4xl"},r.createElement("h1",{className:"text-4xl font-extrabold mb-8 animate-fadeInDown"},r.createElement("span",{className:"gradient-text"},"Profile Settings")),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-6 border border-gray-100 animate-fadeInUp"},r.createElement("div",{className:"flex items-start gap-6"},r.createElement("div",{className:"flex-shrink-0"},o.photoURL?r.createElement("img",{src:o.photoURL,alt:"Profile",className:"w-28 h-28 rounded-2xl border-4 border-indigo-200 shadow-xl transform hover:scale-110 transition-transform duration-300"}):r.createElement("div",{className:"w-28 h-28 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-xl transform hover:scale-110 transition-transform duration-300"},r.createElement("span",{className:"text-4xl font-bold text-white"},(null===(e=o.displayName)||void 0===e?void 0:e[0])||(null===(t=o.email)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.toUpperCase())||"U"))),r.createElement("div",{className:"flex-grow"},r.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"},o.displayName||"User",o.isDemo&&r.createElement("span",{className:"ml-3 text-sm bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1.5 rounded-full shadow-lg"},"🎮 Demo Account")),r.createElement("p",{className:"text-gray-600 mb-6 text-lg"},o.email),r.createElement("div",{className:"grid md:grid-cols-2 gap-6"},r.createElement("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl"},r.createElement("label",{className:"text-sm font-bold text-gray-500"},"User ID"),r.createElement("p",{className:"text-gray-900 font-mono text-sm mt-1"},o.uid)),r.createElement("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl"},r.createElement("label",{className:"text-sm font-bold text-gray-500"},"Account Type"),r.createElement("p",{className:"text-gray-900 font-semibold mt-1"},o.isDemo?"🎮 Demo":"⭐ Standard")))))),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-6 border border-gray-100 animate-fadeInUp",style:{animationDelay:"0.1s"}},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2"},r.createElement("span",null,"📋")," Account Information"),r.createElement("div",{className:"space-y-6"},r.createElement("div",{className:"border-l-4 border-indigo-500 bg-indigo-50 rounded-r-xl p-5"},r.createElement("label",{className:"block text-sm font-bold text-gray-500 mb-2"},"📧 Email Address"),r.createElement("p",{className:"text-gray-900 text-lg"},o.email)),r.createElement("div",{className:"border-l-4 border-purple-500 bg-purple-50 rounded-r-xl p-5"},r.createElement("label",{className:"block text-sm font-bold text-gray-500 mb-2"},"👤 Display Name"),r.createElement("p",{className:"text-gray-900 text-lg"},o.displayName||"Not set")),r.createElement("div",{className:"border-l-4 border-green-500 bg-green-50 rounded-r-xl p-5"},r.createElement("label",{className:"block text-sm font-bold text-gray-500 mb-2"},"✅ Account Status"),r.createElement("p",{className:"text-green-600 font-bold text-lg"},"Active")),r.createElement("div",{className:"border-l-4 border-blue-500 bg-blue-50 rounded-r-xl p-5"},r.createElement("label",{className:"block text-sm font-bold text-gray-500 mb-2"},"📅 Member Since"),r.createElement("p",{className:"text-gray-900 text-lg"},(null===(n=o.metadata)||void 0===n?void 0:n.creationTime)||(new Date).toLocaleDateString())))),!o.isDemo&&l&&r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-6 border border-gray-100 animate-fadeInUp",style:{animationDelay:"0.15s"}},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2"},r.createElement("span",null,"💾")," Database Information"),r.createElement("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border-2 border-green-200 mb-4"},r.createElement("div",{className:"flex items-center gap-3 mb-4"},r.createElement("span",{className:"text-3xl"},"✅"),r.createElement("div",null,r.createElement("p",{className:"font-bold text-green-800"},"User Data Saved in Realtime Database"),r.createElement("p",{className:"text-sm text-green-600"},"Your profile is securely stored in Firebase Realtime Database"))),r.createElement("div",{className:"grid md:grid-cols-2 gap-4 mt-4"},r.createElement("div",{className:"bg-white/80 rounded-xl p-4"},r.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Created At"),r.createElement("p",{className:"font-mono text-sm text-gray-800"},l.createdAt?new Date(l.createdAt).toLocaleString():"Just now")),r.createElement("div",{className:"bg-white/80 rounded-xl p-4"},r.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Last Login"),r.createElement("p",{className:"font-mono text-sm text-gray-800"},l.lastLogin?new Date(l.lastLogin).toLocaleString():"Just now")),r.createElement("div",{className:"bg-white/80 rounded-xl p-4"},r.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Projects"),r.createElement("p",{className:"font-mono text-sm text-gray-800"},(null===(i=l.projects)||void 0===i?void 0:i.length)||0," linked projects")),r.createElement("div",{className:"bg-white/80 rounded-xl p-4"},r.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Storage Status"),r.createElement("p",{className:"font-mono text-sm text-green-600 font-bold"},"✓ Synced")))),r.createElement("div",{className:"text-sm text-gray-600 bg-blue-50 rounded-xl p-4"},r.createElement("p",{className:"font-semibold mb-2"},"🔐 Your data is protected by:"),r.createElement("ul",{className:"list-disc list-inside space-y-1 ml-2"},r.createElement("li",null,"Firebase Authentication (Google Security)"),r.createElement("li",null,"Realtime Database with security rules"),r.createElement("li",null,"Encrypted data transmission (HTTPS)"),r.createElement("li",null,"Regular automated backups")))),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-6 border border-gray-100 animate-fadeInUp",style:{animationDelay:"0.2s"}},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2"},r.createElement("span",null,"⚙️")," Preferences"),r.createElement("div",{className:"space-y-4"},r.createElement("div",{className:"flex items-center justify-between py-3 border-b border-gray-200"},r.createElement("div",null,r.createElement("p",{className:"font-medium text-gray-900"},"Email Notifications"),r.createElement("p",{className:"text-sm text-gray-500"},"Receive updates about your projects")),r.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},r.createElement("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}))),r.createElement("div",{className:"flex items-center justify-between py-3 border-b border-gray-200"},r.createElement("div",null,r.createElement("p",{className:"font-medium text-gray-900"},"Weekly Reports"),r.createElement("p",{className:"text-sm text-gray-500"},"Get weekly AI readiness summaries")),r.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},r.createElement("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}))),r.createElement("div",{className:"flex items-center justify-between py-3"},r.createElement("div",null,r.createElement("p",{className:"font-medium text-gray-900"},"Dashboard Alerts"),r.createElement("p",{className:"text-sm text-gray-500"},"Alert when metrics fall below threshold")),r.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},r.createElement("input",{type:"checkbox",className:"sr-only peer"}),r.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}))))),r.createElement("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-gray-100 animate-fadeInUp",style:{animationDelay:"0.3s"}},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2"},r.createElement("span",null,"🎯")," Account Actions"),r.createElement("div",{className:"space-y-4"},r.createElement("button",{className:"w-full md:w-auto px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 transform"},"✏️ Update Profile"),r.createElement("button",{className:"w-full md:w-auto px-8 py-4 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 transform ml-0 md:ml-4"},"🔑 Change Password"),r.createElement("div",{className:"pt-6 border-t-2 border-gray-200"},r.createElement("button",{onClick:async()=>{try{await a(),s("/")}catch(e){console.error("Failed to logout:",e)}},className:"w-full md:w-auto px-8 py-4 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 transform"},"🚪 Sign Out")))),o.isDemo&&r.createElement("div",{className:"mt-6 bg-gradient-to-r from-purple-500 to-pink-500 border-2 border-purple-300 rounded-2xl p-6 text-white shadow-xl animate-fadeInUp"},r.createElement("h4",{className:"font-bold text-xl mb-3 flex items-center gap-2"},r.createElement("span",null,"🎮")," Demo Account Notice"),r.createElement("p",{className:"leading-relaxed"},"You are using a demo account with pre-populated data. Create a real account to save your own projects and data permanently.")))):(s("/login"),null)},yS=function(){return r.createElement(Ae,{basename:"/AO-AI-Tracking.io"},r.createElement(yy,null,r.createElement("div",{className:"min-h-screen bg-gray-50"},r.createElement(by,null),r.createElement(ce,null,r.createElement(se,{path:"/",element:r.createElement(_y,null)}),r.createElement(se,{path:"/login",element:r.createElement(Fy,null)}),r.createElement(se,{path:"/dashboard",element:r.createElement(wy,null,r.createElement(uS,null))}),r.createElement(se,{path:"/projects",element:r.createElement(wy,null,r.createElement(mS,null))}),r.createElement(se,{path:"/profile",element:r.createElement(wy,null,r.createElement(vS,null))})))))};var bS=n(72),wS=n.n(bS),_S=n(825),xS=n.n(_S),kS=n(659),ES=n.n(kS),SS=n(56),CS=n.n(SS),TS=n(159),IS=n.n(TS),NS=n(113),PS=n.n(NS),AS=n(972),RS={};RS.styleTagTransform=PS(),RS.setAttributes=CS(),RS.insert=ES().bind(null,"head"),RS.domAPI=xS(),RS.insertStyleElement=IS(),wS()(AS.A,RS),AS.A&&AS.A.locals&&AS.A.locals,(0,i.createRoot)(document.getElementById("root")).render(r.createElement(yS,null))})();